import{d as C,r as d,u as U,o as u,f as g,a as s,g as N,e as x,v as b,j as _,F as B,s as o,c as V,w as j,_ as q,k as M}from"./index-B3vvVhEK.js";import{g as E,s as G}from"./index-2cab5241-s7nkthZ2.js";import{g as H,c as w,q as y,w as v,a as h}from"./index.esm2017-waQ9Feby.js";const L={class:"flex items-center justify-center min-h-screen p-4"},R={key:0,class:"fixed inset-0 top-0 bottom-0 left-0 right-0 z-50 flex items-center justify-center w-full bg-black bg-opacity-50"},$={class:"relative w-full max-w-md p-6 bg-white rounded-lg shadow-lg"},z={class:"absolute text-gray-400 top-4 right-4 hover:text-gray-600 focus:outline-none"},F={class:"mb-4"},W={class:"relative mt-1 rounded-md shadow-sm"},P={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},S={class:"flex flex-col w-full max-w-5xl p-8 space-y-4 bg-white rounded-lg shadow-lg md:flex-row md:space-y-0 md:space-x-8"},Y={class:"w-full md:w-1/2"},O={class:"space-y-4"},T={class:"flex items-center justify-between mt-2"},J=C({__name:"LoginCard",setup(I){const a=d(!1),c=E(),m=H(),l=d(""),r=d(""),f=U(),k=w(m,"condominios"),D=w(m,"usersGeneral"),A=async()=>{try{const t=await G(c,l.value,r.value);if(t.user){console.log(t.user),t.user.displayName&&t.user.displayName.toLowerCase().includes("administrador")?(o().setIsAdmin(!0),o().setIsUserAuth(!0),o().setUserUid(t.user.uid)):(console.log("Datos de usuario iniciado: ",t.user),o().setIsAdmin(!1),o().setIsUserAuth(!0),o().setUserUid(t.user.uid));const e=y(k,v("createdBy","==",t.user.uid)),i=y(D,v("userUid","==",t.user.uid)),n=await h(e),p=await h(i);if(!n.empty&&t.user.displayName&&t.user.displayName.toLowerCase().includes("administrador")){console.log("Usuario encontrado en la lista de condominios",n.docs[0].data()),o().setAdimnDocId(n.docs[0].id),o().setCondominiumId(n.docs[0].data().condominiumId),o().setInvitationCode(n.docs[0].data().invitationId),f.push({name:"dashboard"});return}else n.empty&&console.log("El usuario no está en la lista de condominios, no es administrador este usuario");if(!p.empty&&t.user.displayName&&t.user.displayName.toLowerCase().includes("propietario")){console.log("Usuario encontrado en la lista de propietarios"),o().setInvitationCode(n.docs[0].data().invitationId),f.push({name:"comments"});return}else p.empty?console.log("El usuario no está en la lista de condominios"):console.log("El usuario no está en la lista de ningun tipo")}}catch(t){console.log(t)}};return(t,e)=>(u(),g(B,null,[e[15]||(e[15]=s("img",{src:"https://images.unsplash.com/photo-1523789265170-a9376a327aed?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",class:"fixed top-0 bottom-0 left-0 right-0 object-cover w-full h-full animate-fade -z-10",alt:""},null,-1)),s("section",L,[a.value?(u(),g("div",R,[s("div",$,[s("button",z,[s("i",{onClick:e[0]||(e[0]=i=>a.value=!1),class:"fas fa-times"})]),e[7]||(e[7]=s("h2",{class:"mb-4 text-2xl font-bold"},"Recuperación de Contraseña",-1)),e[8]||(e[8]=s("p",{class:"mb-4"},"Introduzca su correo electrónico para restablecer la contraseña.",-1)),s("div",F,[e[6]||(e[6]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo Electrónico",-1)),s("div",W,[s("div",P,[s("i",{onClick:e[1]||(e[1]=i=>a.value=!1),class:"text-gray-400 fas fa-envelope"})]),e[5]||(e[5]=s("input",{type:"email",id:"email",class:"block w-full py-2 pl-10 pr-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com"},null,-1))])]),e[9]||(e[9]=s("button",{class:"w-full py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Restablecer Contraseña ",-1))])])):N("",!0),s("div",S,[s("div",Y,[e[12]||(e[12]=s("h2",{class:"mb-4 text-2xl text-blue-600 font-poppins"},"Iniciar sesión",-1)),s("form",O,[s("div",null,[e[10]||(e[10]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo electrónico",-1)),x(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>l.value=i),type:"email",id:"email",placeholder:"correo@ejemplo.com",class:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,l.value]])]),s("div",null,[e[11]||(e[11]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Contraseña",-1)),x(s("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>r.value=i),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,r.value]])]),s("div",T,[s("a",{onClick:e[4]||(e[4]=i=>a.value=!a.value),class:"text-sm text-blue-500 cursor-pointer"},"¿Olvidó su contraseña?")]),s("button",{type:"submit",onClick:_(A,["prevent"]),class:"w-full py-2 mt-4 font-semibold text-white transition-all bg-blue-600 rounded-md hover:bg-blue-700"},"Iniciar sesión")]),e[13]||(e[13]=s("div",{class:"mt-4 text-center"},[s("p",{class:"text-sm text-gray-600"},"¿No tienes una cuenta?"),s("a",{href:"#",class:"font-semibold text-blue-600"},"Crear cuenta")],-1))]),e[14]||(e[14]=s("div",{class:"w-full text-center md:w-1/2 md:text-left"},[s("h3",{class:"mb-4 text-xl text-center text-gray-800 font-poppins"},"Inicie sesión para interactuar con su condominio/edificio"),s("img",{src:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Imagen",class:"mx-auto rounded-md w-4/4 md:mx-0"})],-1))])])],64))}}),Z=C({__name:"LoginView",setup(I){return(a,c)=>(u(),V(q,null,{main:j(()=>[M(J)]),_:1}))}});export{Z as default};
