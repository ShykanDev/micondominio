import{d as b,r,u as y,o as d,f,a as s,g as h,e as p,v as x,j as C,F as k,s as n,c as I,w as A,_ as D,k as _}from"./index-CJ9D0THZ.js";import{g as V,s as j}from"./index-2cab5241-C6aIfsb0.js";import{g as B,c as M,q,w as H,a as N}from"./index.esm2017-C_JOvPpH.js";const U={class:"flex items-center justify-center min-h-screen p-4"},$={key:0,class:"fixed inset-0 top-0 bottom-0 left-0 right-0 z-50 flex items-center justify-center w-full bg-black bg-opacity-50"},E={class:"relative w-full max-w-md p-6 bg-white rounded-lg shadow-lg"},G={class:"absolute text-gray-400 top-4 right-4 hover:text-gray-600 focus:outline-none"},R={class:"mb-4"},z={class:"relative mt-1 rounded-md shadow-sm"},F={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},L={class:"flex flex-col w-full max-w-5xl p-8 space-y-4 bg-white rounded-lg shadow-lg md:flex-row md:space-y-0 md:space-x-8"},P={class:"w-full md:w-1/2"},W={class:"space-y-4"},Y={class:"flex items-center justify-between mt-2"},O=b({__name:"LoginCard",setup(g){const l=r(!1),u=V(),w=B(),a=r(""),i=r(""),m=y(),v=async()=>{try{const t=await j(u,a.value,i.value);if(t.user){console.log(t.user),t.user.displayName&&t.user.displayName.toLowerCase().includes("administrador")?(n().setIsAdmin(!0),n().setIsUserAuth(!0),m.push({name:"dashboard"})):(n().setIsAdmin(!1),n().setIsUserAuth(!0),m.push({name:"comments"}));const e=M(w,"condominios"),o=q(e,H("creadoPor","==",t.user.uid)),c=await N(o);c.empty?console.log("El usuario no está en la lista de condominios"):(console.log("Usuario encontrado en la lista de condominios"),n().setInvitationCode(c.docs[0].data().invitationId))}}catch(t){console.log(t)}};return(t,e)=>(d(),f(k,null,[e[15]||(e[15]=s("img",{src:"https://images.unsplash.com/photo-1523789265170-a9376a327aed?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",class:"fixed top-0 bottom-0 left-0 right-0 object-cover w-full h-full animate-fade -z-10",alt:""},null,-1)),s("section",U,[l.value?(d(),f("div",$,[s("div",E,[s("button",G,[s("i",{onClick:e[0]||(e[0]=o=>l.value=!1),class:"fas fa-times"})]),e[7]||(e[7]=s("h2",{class:"mb-4 text-2xl font-bold"},"Recuperación de Contraseña",-1)),e[8]||(e[8]=s("p",{class:"mb-4"},"Introduzca su correo electrónico para restablecer la contraseña.",-1)),s("div",R,[e[6]||(e[6]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo Electrónico",-1)),s("div",z,[s("div",F,[s("i",{onClick:e[1]||(e[1]=o=>l.value=!1),class:"text-gray-400 fas fa-envelope"})]),e[5]||(e[5]=s("input",{type:"email",id:"email",class:"block w-full py-2 pl-10 pr-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com"},null,-1))])]),e[9]||(e[9]=s("button",{class:"w-full py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Restablecer Contraseña ",-1))])])):h("",!0),s("div",L,[s("div",P,[e[12]||(e[12]=s("h2",{class:"mb-4 text-2xl text-blue-600 font-poppins"},"Iniciar sesión",-1)),s("form",W,[s("div",null,[e[10]||(e[10]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo electrónico",-1)),p(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.value=o),type:"email",id:"email",placeholder:"correo@ejemplo.com",class:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,a.value]])]),s("div",null,[e[11]||(e[11]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Contraseña",-1)),p(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>i.value=o),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,i.value]])]),s("div",Y,[s("a",{onClick:e[4]||(e[4]=o=>l.value=!l.value),class:"text-sm text-blue-500 cursor-pointer"},"¿Olvidó su contraseña?")]),s("button",{type:"submit",onClick:C(v,["prevent"]),class:"w-full py-2 mt-4 font-semibold text-white transition-all bg-blue-600 rounded-md hover:bg-blue-700"},"Iniciar sesión")]),e[13]||(e[13]=s("div",{class:"mt-4 text-center"},[s("p",{class:"text-sm text-gray-600"},"¿No tienes una cuenta?"),s("a",{href:"#",class:"font-semibold text-blue-600"},"Crear cuenta")],-1))]),e[14]||(e[14]=s("div",{class:"w-full text-center md:w-1/2 md:text-left"},[s("h3",{class:"mb-4 text-xl text-center text-gray-800 font-poppins"},"Inicie sesión nuevamente para hablar con su equipo"),s("img",{src:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Imagen",class:"mx-auto rounded-md w-4/4 md:mx-0"})],-1))])])],64))}}),K=b({__name:"LoginView",setup(g){return(l,u)=>(d(),I(D,null,{main:A(()=>[_(O)]),_:1}))}});export{K as default};
