import{g,d as v,f as x,c as _,a as h}from"./index.esm2017-DkIOf4jH.js";import{d as f,a1 as b,o as c,e as p,a as e,g as l,a0 as i,h as n,b as C,m as D,a2 as w,F as S,a3 as q,c as I}from"./index-TFeQVYrp.js";const B={class:"w-full max-w-sm p-6 rounded-lg shadow-md bg-slate-50"},L={class:"flex items-center justify-between mb-4"},j={class:"flex items-center text-xl font-semibold text-gray-800"},k={class:"mb-4"},N={class:"flex items-center text-lg font-medium text-gray-700"},R={class:"mb-4"},$={class:"flex items-center text-gray-600"},F={class:"mb-4"},V={class:"flex items-center text-gray-600"},A=f({__name:"ReportsCard",props:{complaint:{type:String,required:!0},complaintCategory:{type:String,required:!0},date:{type:Object,required:!0},documentId:{type:String,required:!0},resolved:{type:Boolean,required:!0},resolvedBy:{type:String,required:!0},resolvedDate:{type:String,required:!0},userName:{type:String,required:!0},userUid:{type:String,required:!0}},setup(r){const a=r,d=b(()=>{if(typeof a.date=="object"&&a.date.toDate){const t=a.date.toDate();return t.toLocaleDateString()+" "+t.toLocaleTimeString()}return a.date}),u=g(),m=async()=>{n().setIsLoadingComponent(!0);try{const t=v(u,`condominios/${n().getAdminDocId}/complaints`,a.documentId);await x(t),n().setIsLoadingComponent(!1)}catch(t){n().setIsLoadingComponent(!1),console.log(t)}};return(t,s)=>(c(),p("div",B,[e("div",L,[e("h2",j,[s[0]||(s[0]=e("i",{class:"mr-2 fas fa-exclamation-circle"},null,-1)),l(" "+i(r.complaintCategory),1)])]),e("div",k,[e("h3",N,[s[1]||(s[1]=e("i",{class:"mr-2 fas fa-user"},null,-1)),l(" "+i(r.userName),1)])]),e("div",R,[e("p",$,[s[2]||(s[2]=e("i",{class:"mr-2 fas fa-align-left"},null,-1)),l(" "+i(r.complaint),1)])]),e("div",F,[e("p",V,[s[3]||(s[3]=e("i",{class:"mr-2 fas fa-calendar-alt"},null,-1)),l(" "+i(d.value),1)])]),e("div",{class:"flex justify-end"},[e("button",{onClick:m,class:"px-4 py-2 text-white bg-red-500 rounded hover:bg-red-700"}," Borrar ")])]))}}),E=C(A,[["__scopeId","data-v-d54e9ed0"]]),T={class:"flex flex-wrap gap-5 p-6 bg-white rounded-lg shadow justify-evenly"},O=f({__name:"ReportsComponent",setup(r){const a=g(),d=D([]),u=_(a,`condominios/${n().getAdminDocId}/complaints`),m=async()=>{try{(await h(u)).forEach(s=>{d.value.push(s.data())})}catch(t){console.log(t)}};return w(()=>{m()}),(t,s)=>(c(),p("div",T,[(c(!0),p(S,null,q(d.value,(o,y)=>(c(),I(E,{key:y,complaint:o.complaint,"complaint-category":o.complaintCategory,date:o.date,"document-id":o.documentId,resolved:o.resolved,"resolved-by":o.resolvedBy,"resolved-date":o.resolvedDate,"user-name":o.userName,"user-uid":o.userUid},null,8,["complaint","complaint-category","date","document-id","resolved","resolved-by","resolved-date","user-name","user-uid"]))),128))]))}});export{O as default};
