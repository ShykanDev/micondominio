import{d as V,r as d,b as F,c as I,w as S,_ as q,o as a,a as e,e as B,v as E,f as n,g as x,t as s,F as b,h as y,i as R}from"./index-B3vvVhEK.js";import{g as L,c as _,q as M,w as N,a as U,o as w}from"./index.esm2017-waQ9Feby.js";const j={class:"flex flex-col items-center justify-center p-4 min-h-dvh font-poppins"},G={key:0,class:"mt-4 text-green-500"},H={key:1,class:"mt-4 text-red-500"},P={key:2,class:"grid w-full max-w-4xl grid-cols-1 gap-6 mt-8 md:grid-cols-2"},T={class:"text-lg font-bold text-sky-800"},$={class:"text-sm text-gray-500"},z={class:"text-sm text-gray-500"},J={class:"mt-2"},K={class:"text-lg font-bold text-sky-800"},O={class:"text-sm text-gray-500"},Q={class:"text-sm text-gray-500"},W={class:"text-sm text-gray-500"},X=V({__name:"AboutView",setup(Y){const u=d(""),v=d(!1),c=d(""),m=d([]),f=d([]),k=L();let r,l;const C=async()=>{if(c.value="",v.value=!1,m.value=[],f.value=[],!u.value){c.value="Por favor, ingresa un código válido.";return}try{const p=_(k,"condominios"),o=M(p,N("invitationId","==",u.value)),t=await U(o);if(t.empty)c.value="Código de invitación no encontrado.";else{v.value=!0,r&&r(),l&&l();const i=t.docs[0].ref,D=_(i,"anuncios");r=w(D,g=>{m.value=[],g.forEach(h=>{m.value.push(h.data())})});const A=_(i,"comentarios");l=w(A,g=>{f.value=[],g.forEach(h=>{f.value.push(h.data())})})}}catch(p){console.error("Error al verificar el código:",p),c.value="Hubo un error al verificar el código."}};return F(()=>{r&&r(),l&&l()}),(p,o)=>(a(),I(q,null,{main:S(()=>[e("div",j,[o[3]||(o[3]=e("h1",{class:"text-xl font-bold"},"Acceso con Código de Invitación",-1)),B(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>u.value=t),type:"text",placeholder:"Ingresa tu código de invitación",class:"p-2 mt-4 border rounded"},null,512),[[E,u.value]]),e("button",{onClick:C,class:"px-4 py-2 mt-4 text-white bg-blue-500 rounded"}," Verificar Código "),v.value?(a(),n("p",G," ¡Acceso concedido! 🎉 ")):x("",!0),c.value?(a(),n("p",H,s(c.value),1)):x("",!0),v.value?(a(),n("div",P,[e("div",null,[o[1]||(o[1]=e("h2",{class:"mb-4 text-lg font-semibold"},"Anuncios",-1)),(a(!0),n(b,null,y(m.value,(t,i)=>(a(),n("div",{key:"anuncio-"+i,class:"p-4 mb-4 bg-white border rounded shadow"},[e("h3",T,s(t.titulo),1),e("p",$," Autor: "+s(t.autor),1),e("p",z," Fecha: "+s(new Date(t.fecha.seconds*1e3).toLocaleDateString()),1),e("p",J,s(t.contenido),1)]))),128))]),e("div",null,[o[2]||(o[2]=e("h2",{class:"mb-4 text-lg font-semibold"},"Comentarios",-1)),(a(!0),n(b,null,y(f.value,(t,i)=>(a(),n("div",{key:"comentario-"+i,class:"p-4 mb-4 bg-white border rounded shadow"},[e("p",K,s(t.anuncio),1),e("p",O," Autor: "+s(t.autor),1),e("p",Q," Categoría: "+s(t.categoría),1),e("p",W," Fecha: "+s(new Date(t.fecha.seconds*1e3).toLocaleDateString()),1)]))),128))])])):x("",!0)])]),_:1}))}}),te=R(X,[["__scopeId","data-v-ab896503"]]);export{te as default};
