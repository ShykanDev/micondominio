const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-DvgdIYIy.js","assets/AboutView-Dy1Lf6QE.css","assets/LoginView-Bop719hx.js","assets/qrVals-ZHuO51Fl.js","assets/index-2cab5241-FfdGktIA.js","assets/RegisterView-J-C3YMsW.js","assets/AdminDashboardView-CHbDfG3-.js","assets/typescript-FjvDMEaS.js","assets/AdminDashboardView-BNx-dJNe.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Me={},Or=[],an=()=>{},ng=()=>!1,Eo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),El=t=>t.startsWith("onUpdate:"),yt=Object.assign,wl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},rg=Object.prototype.hasOwnProperty,xe=(t,e)=>rg.call(t,e),ue=Array.isArray,Lr=t=>ii(t)==="[object Map]",ts=t=>ii(t)==="[object Set]",wc=t=>ii(t)==="[object Date]",me=t=>typeof t=="function",Qe=t=>typeof t=="string",Yt=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",Tf=t=>(Oe(t)||me(t))&&me(t.then)&&me(t.catch),bf=Object.prototype.toString,ii=t=>bf.call(t),sg=t=>ii(t).slice(8,-1),Af=t=>ii(t)==="[object Object]",Tl=t=>Qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vs=vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ig=/-(\w)/g,$t=wo(t=>t.replace(ig,(e,n)=>n?n.toUpperCase():"")),og=/\B([A-Z])/g,er=wo(t=>t.replace(og,"-$1").toLowerCase()),To=wo(t=>t.charAt(0).toUpperCase()+t.slice(1)),da=wo(t=>t?`on${To(t)}`:""),qn=(t,e)=>!Object.is(t,e),Bi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},If=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Yi=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Tc;const bo=()=>Tc||(Tc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bl(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Qe(r)?cg(r):bl(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Qe(t)||Oe(t))return t}const ag=/;(?![^(]*\))/g,lg=/:([^]+)/,ug=/\/\*[^]*?\*\//g;function cg(t){const e={};return t.replace(ug,"").split(ag).forEach(n=>{if(n){const r=n.split(lg);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ao(t){let e="";if(Qe(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=Ao(t[n]);r&&(e+=r+" ")}else if(Oe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const hg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fg=vl(hg);function Rf(t){return!!t||t===""}function dg(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=_r(t[r],e[r]);return n}function _r(t,e){if(t===e)return!0;let n=wc(t),r=wc(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Yt(t),r=Yt(e),n||r)return t===e;if(n=ue(t),r=ue(e),n||r)return n&&r?dg(t,e):!1;if(n=Oe(t),r=Oe(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!_r(t[o],e[o]))return!1}}return String(t)===String(e)}function Al(t,e){return t.findIndex(n=>_r(n,e))}const Cf=t=>!!(t&&t.__v_isRef===!0),Tn=t=>Qe(t)?t:t==null?"":ue(t)||Oe(t)&&(t.toString===bf||!me(t.toString))?Cf(t)?Tn(t.value):JSON.stringify(t,Sf,2):String(t),Sf=(t,e)=>Cf(e)?Sf(t,e.value):Lr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[pa(r,i)+" =>"]=s,n),{})}:ts(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>pa(n))}:Yt(e)?pa(e):Oe(e)&&!ue(e)&&!Af(e)?String(e):e,pa=(t,e="")=>{var n;return Yt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wt;class Pf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wt,!e&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=wt;try{return wt=this,e()}finally{wt=n}}}on(){wt=this}off(){wt=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function xf(t){return new Pf(t)}function Vf(){return wt}function pg(t,e=!1){wt&&wt.cleanups.push(t)}let ke;const ma=new WeakSet;class Df{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wt&&wt.active&&wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ma.has(this)&&(ma.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bc(this),kf(this);const e=ke,n=Wt;ke=this,Wt=!0;try{return this.fn()}finally{Of(this),ke=e,Wt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Cl(e);this.deps=this.depsTail=void 0,bc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ma.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Oa(this)&&this.run()}get dirty(){return Oa(this)}}let Nf=0,Ds,Ns;function Mf(t,e=!1){if(t.flags|=8,e){t.next=Ns,Ns=t;return}t.next=Ds,Ds=t}function Il(){Nf++}function Rl(){if(--Nf>0)return;if(Ns){let e=Ns;for(Ns=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ds;){let e=Ds;for(Ds=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function kf(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Of(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Cl(r),mg(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Oa(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Lf(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Lf(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Hs))return;t.globalVersion=Hs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Oa(t)){t.flags&=-3;return}const n=ke,r=Wt;ke=t,Wt=!0;try{kf(t);const s=t.fn(t._value);(e.version===0||qn(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ke=n,Wt=r,Of(t),t.flags&=-3}}function Cl(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Cl(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function mg(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Wt=!0;const Ff=[];function tr(){Ff.push(Wt),Wt=!1}function nr(){const t=Ff.pop();Wt=t===void 0?!0:t}function bc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ke;ke=void 0;try{e()}finally{ke=n}}}let Hs=0;class gg{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Sl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ke||!Wt||ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ke)n=this.activeLink=new gg(ke,this),ke.deps?(n.prevDep=ke.depsTail,ke.depsTail.nextDep=n,ke.depsTail=n):ke.deps=ke.depsTail=n,Uf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ke.depsTail,n.nextDep=void 0,ke.depsTail.nextDep=n,ke.depsTail=n,ke.deps===n&&(ke.deps=r)}return n}trigger(e){this.version++,Hs++,this.notify(e)}notify(e){Il();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Rl()}}}function Uf(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Uf(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ji=new WeakMap,pr=Symbol(""),La=Symbol(""),$s=Symbol("");function mt(t,e,n){if(Wt&&ke){let r=Ji.get(t);r||Ji.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Sl),s.map=r,s.key=n),s.track()}}function vn(t,e,n,r,s,i){const o=Ji.get(t);if(!o){Hs++;return}const l=u=>{u&&u.trigger()};if(Il(),e==="clear")o.forEach(l);else{const u=ue(t),c=u&&Tl(n);if(u&&n==="length"){const f=Number(r);o.forEach((p,m)=>{(m==="length"||m===$s||!Yt(m)&&m>=f)&&l(p)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get($s)),e){case"add":u?c&&l(o.get("length")):(l(o.get(pr)),Lr(t)&&l(o.get(La)));break;case"delete":u||(l(o.get(pr)),Lr(t)&&l(o.get(La)));break;case"set":Lr(t)&&l(o.get(pr));break}}Rl()}function _g(t,e){const n=Ji.get(t);return n&&n.get(e)}function Cr(t){const e=Se(t);return e===t?e:(mt(e,"iterate",$s),qt(t)?e:e.map(gt))}function Io(t){return mt(t=Se(t),"iterate",$s),t}const yg={__proto__:null,[Symbol.iterator](){return ga(this,Symbol.iterator,gt)},concat(...t){return Cr(this).concat(...t.map(e=>ue(e)?Cr(e):e))},entries(){return ga(this,"entries",t=>(t[1]=gt(t[1]),t))},every(t,e){return mn(this,"every",t,e,void 0,arguments)},filter(t,e){return mn(this,"filter",t,e,n=>n.map(gt),arguments)},find(t,e){return mn(this,"find",t,e,gt,arguments)},findIndex(t,e){return mn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return mn(this,"findLast",t,e,gt,arguments)},findLastIndex(t,e){return mn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return mn(this,"forEach",t,e,void 0,arguments)},includes(...t){return _a(this,"includes",t)},indexOf(...t){return _a(this,"indexOf",t)},join(t){return Cr(this).join(t)},lastIndexOf(...t){return _a(this,"lastIndexOf",t)},map(t,e){return mn(this,"map",t,e,void 0,arguments)},pop(){return Ts(this,"pop")},push(...t){return Ts(this,"push",t)},reduce(t,...e){return Ac(this,"reduce",t,e)},reduceRight(t,...e){return Ac(this,"reduceRight",t,e)},shift(){return Ts(this,"shift")},some(t,e){return mn(this,"some",t,e,void 0,arguments)},splice(...t){return Ts(this,"splice",t)},toReversed(){return Cr(this).toReversed()},toSorted(t){return Cr(this).toSorted(t)},toSpliced(...t){return Cr(this).toSpliced(...t)},unshift(...t){return Ts(this,"unshift",t)},values(){return ga(this,"values",gt)}};function ga(t,e,n){const r=Io(t),s=r[e]();return r!==t&&!qt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const vg=Array.prototype;function mn(t,e,n,r,s,i){const o=Io(t),l=o!==t&&!qt(t),u=o[e];if(u!==vg[e]){const p=u.apply(t,i);return l?gt(p):p}let c=n;o!==t&&(l?c=function(p,m){return n.call(this,gt(p),m,t)}:n.length>2&&(c=function(p,m){return n.call(this,p,m,t)}));const f=u.call(o,c,r);return l&&s?s(f):f}function Ac(t,e,n,r){const s=Io(t);let i=n;return s!==t&&(qt(t)?n.length>3&&(i=function(o,l,u){return n.call(this,o,l,u,t)}):i=function(o,l,u){return n.call(this,o,gt(l),u,t)}),s[e](i,...r)}function _a(t,e,n){const r=Se(t);mt(r,"iterate",$s);const s=r[e](...n);return(s===-1||s===!1)&&Vl(n[0])?(n[0]=Se(n[0]),r[e](...n)):s}function Ts(t,e,n=[]){tr(),Il();const r=Se(t)[e].apply(t,n);return Rl(),nr(),r}const Eg=vl("__proto__,__v_isRef,__isVue"),Bf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yt));function wg(t){Yt(t)||(t=String(t));const e=Se(this);return mt(e,"has",t),e.hasOwnProperty(t)}class jf{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Vg:$f:i?Hf:zf).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ue(e);if(!s){let u;if(o&&(u=yg[n]))return u;if(n==="hasOwnProperty")return wg}const l=Reflect.get(e,n,Ke(e)?e:r);return(Yt(n)?Bf.has(n):Eg(n))||(s||mt(e,"get",n),i)?l:Ke(l)?o&&Tl(n)?l:l.value:Oe(l)?s?Kf(l):oi(l):l}}class qf extends jf{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const u=yr(i);if(!qt(r)&&!yr(r)&&(i=Se(i),r=Se(r)),!ue(e)&&Ke(i)&&!Ke(r))return u?!1:(i.value=r,!0)}const o=ue(e)&&Tl(n)?Number(n)<e.length:xe(e,n),l=Reflect.set(e,n,r,Ke(e)?e:s);return e===Se(s)&&(o?qn(r,i)&&vn(e,"set",n,r):vn(e,"add",n,r)),l}deleteProperty(e,n){const r=xe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&vn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Yt(n)||!Bf.has(n))&&mt(e,"has",n),r}ownKeys(e){return mt(e,"iterate",ue(e)?"length":pr),Reflect.ownKeys(e)}}class Tg extends jf{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const bg=new qf,Ag=new Tg,Ig=new qf(!0);const Fa=t=>t,Di=t=>Reflect.getPrototypeOf(t);function Rg(t,e,n){return function(...r){const s=this.__v_raw,i=Se(s),o=Lr(i),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=s[t](...r),f=n?Fa:e?Ua:gt;return!e&&mt(i,"iterate",u?La:pr),{next(){const{value:p,done:m}=c.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function Ni(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Cg(t,e){const n={get(s){const i=this.__v_raw,o=Se(i),l=Se(s);t||(qn(s,l)&&mt(o,"get",s),mt(o,"get",l));const{has:u}=Di(o),c=e?Fa:t?Ua:gt;if(u.call(o,s))return c(i.get(s));if(u.call(o,l))return c(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&mt(Se(s),"iterate",pr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Se(i),l=Se(s);return t||(qn(s,l)&&mt(o,"has",s),mt(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,u=Se(l),c=e?Fa:t?Ua:gt;return!t&&mt(u,"iterate",pr),l.forEach((f,p)=>s.call(i,c(f),c(p),o))}};return yt(n,t?{add:Ni("add"),set:Ni("set"),delete:Ni("delete"),clear:Ni("clear")}:{add(s){!e&&!qt(s)&&!yr(s)&&(s=Se(s));const i=Se(this);return Di(i).has.call(i,s)||(i.add(s),vn(i,"add",s,s)),this},set(s,i){!e&&!qt(i)&&!yr(i)&&(i=Se(i));const o=Se(this),{has:l,get:u}=Di(o);let c=l.call(o,s);c||(s=Se(s),c=l.call(o,s));const f=u.call(o,s);return o.set(s,i),c?qn(i,f)&&vn(o,"set",s,i):vn(o,"add",s,i),this},delete(s){const i=Se(this),{has:o,get:l}=Di(i);let u=o.call(i,s);u||(s=Se(s),u=o.call(i,s)),l&&l.call(i,s);const c=i.delete(s);return u&&vn(i,"delete",s,void 0),c},clear(){const s=Se(this),i=s.size!==0,o=s.clear();return i&&vn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Rg(s,t,e)}),n}function Pl(t,e){const n=Cg(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(xe(n,s)&&s in r?n:r,s,i)}const Sg={get:Pl(!1,!1)},Pg={get:Pl(!1,!0)},xg={get:Pl(!0,!1)};const zf=new WeakMap,Hf=new WeakMap,$f=new WeakMap,Vg=new WeakMap;function Dg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ng(t){return t.__v_skip||!Object.isExtensible(t)?0:Dg(sg(t))}function oi(t){return yr(t)?t:xl(t,!1,bg,Sg,zf)}function Gf(t){return xl(t,!1,Ig,Pg,Hf)}function Kf(t){return xl(t,!0,Ag,xg,$f)}function xl(t,e,n,r,s){if(!Oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Ng(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return s.set(t,l),l}function zn(t){return yr(t)?zn(t.__v_raw):!!(t&&t.__v_isReactive)}function yr(t){return!!(t&&t.__v_isReadonly)}function qt(t){return!!(t&&t.__v_isShallow)}function Vl(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Dl(t){return!xe(t,"__v_skip")&&Object.isExtensible(t)&&If(t,"__v_skip",!0),t}const gt=t=>Oe(t)?oi(t):t,Ua=t=>Oe(t)?Kf(t):t;function Ke(t){return t?t.__v_isRef===!0:!1}function Pt(t){return Qf(t,!1)}function Mg(t){return Qf(t,!0)}function Qf(t,e){return Ke(t)?t:new kg(t,e)}class kg{constructor(e,n){this.dep=new Sl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:gt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||qt(e)||yr(e);e=r?e:Se(e),qn(e,n)&&(this._rawValue=e,this._value=r?e:gt(e),this.dep.trigger())}}function oe(t){return Ke(t)?t.value:t}const Og={get:(t,e,n)=>e==="__v_raw"?t:oe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ke(s)&&!Ke(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Wf(t){return zn(t)?t:new Proxy(t,Og)}function Lg(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=Ug(t,n);return e}class Fg{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return _g(Se(this._object),this._key)}}function Ug(t,e,n){const r=t[e];return Ke(r)?r:new Fg(t,e,n)}class Bg{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Sl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ke!==this)return Mf(this,!0),!0}get value(){const e=this.dep.track();return Lf(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function jg(t,e,n=!1){let r,s;return me(t)?r=t:(r=t.get,s=t.set),new Bg(r,s,n)}const Mi={},Zi=new WeakMap;let hr;function qg(t,e=!1,n=hr){if(n){let r=Zi.get(n);r||Zi.set(n,r=[]),r.push(t)}}function zg(t,e,n=Me){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:u}=n,c=q=>s?q:qt(q)||s===!1||s===0?En(q,1):En(q);let f,p,m,y,C=!1,x=!1;if(Ke(t)?(p=()=>t.value,C=qt(t)):zn(t)?(p=()=>c(t),C=!0):ue(t)?(x=!0,C=t.some(q=>zn(q)||qt(q)),p=()=>t.map(q=>{if(Ke(q))return q.value;if(zn(q))return c(q);if(me(q))return u?u(q,2):q()})):me(t)?e?p=u?()=>u(t,2):t:p=()=>{if(m){tr();try{m()}finally{nr()}}const q=hr;hr=f;try{return u?u(t,3,[y]):t(y)}finally{hr=q}}:p=an,e&&s){const q=p,W=s===!0?1/0:s;p=()=>En(q(),W)}const D=Vf(),k=()=>{f.stop(),D&&D.active&&wl(D.effects,f)};if(i&&e){const q=e;e=(...W)=>{q(...W),k()}}let F=x?new Array(t.length).fill(Mi):Mi;const M=q=>{if(!(!(f.flags&1)||!f.dirty&&!q))if(e){const W=f.run();if(s||C||(x?W.some((re,A)=>qn(re,F[A])):qn(W,F))){m&&m();const re=hr;hr=f;try{const A=[W,F===Mi?void 0:x&&F[0]===Mi?[]:F,y];u?u(e,3,A):e(...A),F=W}finally{hr=re}}}else f.run()};return l&&l(M),f=new Df(p),f.scheduler=o?()=>o(M,!1):M,y=q=>qg(q,!1,f),m=f.onStop=()=>{const q=Zi.get(f);if(q){if(u)u(q,4);else for(const W of q)W();Zi.delete(f)}},e?r?M(!0):F=f.run():o?o(M.bind(null,!0),!0):f.run(),k.pause=f.pause.bind(f),k.resume=f.resume.bind(f),k.stop=k,k}function En(t,e=1/0,n){if(e<=0||!Oe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ke(t))En(t.value,e,n);else if(ue(t))for(let r=0;r<t.length;r++)En(t[r],e,n);else if(ts(t)||Lr(t))t.forEach(r=>{En(r,e,n)});else if(Af(t)){for(const r in t)En(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&En(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ai(t,e,n,r){try{return r?t(...r):t()}catch(s){li(s,e,n)}}function hn(t,e,n,r){if(me(t)){const s=ai(t,e,n,r);return s&&Tf(s)&&s.catch(i=>{li(i,e,n)}),s}if(ue(t)){const s=[];for(let i=0;i<t.length;i++)s.push(hn(t[i],e,n,r));return s}}function li(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Me;if(e){let l=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,u,c)===!1)return}l=l.parent}if(i){tr(),ai(i,null,10,[t,u,c]),nr();return}}Hg(t,n,s,r,o)}function Hg(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Tt=[];let rn=-1;const Fr=[];let Ln=null,Pr=0;const Xf=Promise.resolve();let eo=null;function Ro(t){const e=eo||Xf;return t?e.then(this?t.bind(this):t):e}function $g(t){let e=rn+1,n=Tt.length;for(;e<n;){const r=e+n>>>1,s=Tt[r],i=Gs(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Nl(t){if(!(t.flags&1)){const e=Gs(t),n=Tt[Tt.length-1];!n||!(t.flags&2)&&e>=Gs(n)?Tt.push(t):Tt.splice($g(e),0,t),t.flags|=1,Yf()}}function Yf(){eo||(eo=Xf.then(Zf))}function Gg(t){ue(t)?Fr.push(...t):Ln&&t.id===-1?Ln.splice(Pr+1,0,t):t.flags&1||(Fr.push(t),t.flags|=1),Yf()}function Ic(t,e,n=rn+1){for(;n<Tt.length;n++){const r=Tt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Tt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Jf(t){if(Fr.length){const e=[...new Set(Fr)].sort((n,r)=>Gs(n)-Gs(r));if(Fr.length=0,Ln){Ln.push(...e);return}for(Ln=e,Pr=0;Pr<Ln.length;Pr++){const n=Ln[Pr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ln=null,Pr=0}}const Gs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zf(t){try{for(rn=0;rn<Tt.length;rn++){const e=Tt[rn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ai(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;rn<Tt.length;rn++){const e=Tt[rn];e&&(e.flags&=-2)}rn=-1,Tt.length=0,Jf(),eo=null,(Tt.length||Fr.length)&&Zf()}}let nt=null,ed=null;function to(t){const e=nt;return nt=t,ed=t&&t.type.__scopeId||null,e}function Ae(t,e=nt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Lc(-1);const i=to(e);let o;try{o=t(...s)}finally{to(i),r._d&&Lc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Rc(t,e){if(nt===null)return t;const n=xo(nt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,u=Me]=e[s];i&&(me(i)&&(i={mounted:i,updated:i}),i.deep&&En(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function ur(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let u=l.dir[r];u&&(tr(),hn(u,n,8,[t.el,l,t,e]),nr())}}const Kg=Symbol("_vte"),Qg=t=>t.__isTeleport;function Ml(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ml(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Gt(t,e){return me(t)?yt({name:t.name},e,{setup:t}):t}function kl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function no(t,e,n,r,s=!1){if(ue(t)){t.forEach((C,x)=>no(C,e&&(ue(e)?e[x]:e),n,r,s));return}if(Ur(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&no(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?xo(r.component):r.el,o=s?null:i,{i:l,r:u}=t,c=e&&e.r,f=l.refs===Me?l.refs={}:l.refs,p=l.setupState,m=Se(p),y=p===Me?()=>!1:C=>xe(m,C);if(c!=null&&c!==u&&(Qe(c)?(f[c]=null,y(c)&&(p[c]=null)):Ke(c)&&(c.value=null)),me(u))ai(u,l,12,[o,f]);else{const C=Qe(u),x=Ke(u);if(C||x){const D=()=>{if(t.f){const k=C?y(u)?p[u]:f[u]:u.value;s?ue(k)&&wl(k,i):ue(k)?k.includes(i)||k.push(i):C?(f[u]=[i],y(u)&&(p[u]=f[u])):(u.value=[i],t.k&&(f[t.k]=u.value))}else C?(f[u]=o,y(u)&&(p[u]=o)):x&&(u.value=o,t.k&&(f[t.k]=o))};o?(D.id=-1,Nt(D,n)):D()}}}const Cc=t=>t.nodeType===8;bo().requestIdleCallback;bo().cancelIdleCallback;function Wg(t,e){if(Cc(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Cc(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Ur=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function qA(t){me(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:l=!0,onError:u}=t;let c=null,f,p=0;const m=()=>(p++,c=null,y()),y=()=>{let C;return c||(C=c=e().catch(x=>{if(x=x instanceof Error?x:new Error(String(x)),u)return new Promise((D,k)=>{u(x,()=>D(m()),()=>k(x),p+1)});throw x}).then(x=>C!==c&&c?c:(x&&(x.__esModule||x[Symbol.toStringTag]==="Module")&&(x=x.default),f=x,x)))};return Gt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(C,x,D){const k=i?()=>{const F=i(D,M=>Wg(C,M));F&&(x.bum||(x.bum=[])).push(F)}:D;f?k():y().then(()=>!x.isUnmounted&&k())},get __asyncResolved(){return f},setup(){const C=tt;if(kl(C),f)return()=>ya(f,C);const x=M=>{c=null,li(M,C,13,!r)};if(l&&C.suspense||zr)return y().then(M=>()=>ya(M,C)).catch(M=>(x(M),()=>r?ie(r,{error:M}):null));const D=Pt(!1),k=Pt(),F=Pt(!!s);return s&&setTimeout(()=>{F.value=!1},s),o!=null&&setTimeout(()=>{if(!D.value&&!k.value){const M=new Error(`Async component timed out after ${o}ms.`);x(M),k.value=M}},o),y().then(()=>{D.value=!0,C.parent&&Ol(C.parent.vnode)&&C.parent.update()}).catch(M=>{x(M),k.value=M}),()=>{if(D.value&&f)return ya(f,C);if(k.value&&r)return ie(r,{error:k.value});if(n&&!F.value)return ie(n)}}})}function ya(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ie(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Ol=t=>t.type.__isKeepAlive;function Xg(t,e){td(t,"a",e)}function Yg(t,e){td(t,"da",e)}function td(t,e,n=tt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Co(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ol(s.parent.vnode)&&Jg(r,e,n,s),s=s.parent}}function Jg(t,e,n,r){const s=Co(e,t,r,!0);nd(()=>{wl(r[e],s)},n)}function Co(t,e,n=tt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{tr();const l=ui(n),u=hn(e,n,t,o);return l(),nr(),u});return r?s.unshift(i):s.push(i),i}}const Pn=t=>(e,n=tt)=>{(!zr||t==="sp")&&Co(t,(...r)=>e(...r),n)},Zg=Pn("bm"),Ll=Pn("m"),e_=Pn("bu"),Fl=Pn("u"),t_=Pn("bum"),nd=Pn("um"),n_=Pn("sp"),r_=Pn("rtg"),s_=Pn("rtc");function i_(t,e=tt){Co("ec",t,e)}const rd="components";function zA(t,e){return id(rd,t,!0,e)||t}const sd=Symbol.for("v-ndc");function HA(t){return Qe(t)?id(rd,t,!1)||t:t||sd}function id(t,e,n=!0,r=!1){const s=nt||tt;if(s){const i=s.type;{const l=Q_(i,!1);if(l&&(l===e||l===$t(e)||l===To($t(e))))return i}const o=Sc(s[t]||i[t],e)||Sc(s.appContext[t],e);return!o&&r?i:o}}function Sc(t,e){return t&&(t[e]||t[$t(e)]||t[To($t(e))])}function o_(t,e,n,r){let s;const i=n,o=ue(t);if(o||Qe(t)){const l=o&&zn(t);let u=!1;l&&(u=!qt(t),t=Io(t)),s=new Array(t.length);for(let c=0,f=t.length;c<f;c++)s[c]=e(u?gt(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i)}else if(Oe(t))if(t[Symbol.iterator])s=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);s=new Array(l.length);for(let u=0,c=l.length;u<c;u++){const f=l[u];s[u]=e(t[f],f,u,i)}}else s=[];return s}function a_(t,e,n={},r,s){if(nt.ce||nt.parent&&Ur(nt.parent)&&nt.parent.ce)return n.name=e,Ue(),It(bt,null,[ie("slot",n,r)],64);let i=t[e];i&&i._c&&(i._d=!1),Ue();const o=i&&od(i(n)),l=n.key||o&&o.key,u=It(bt,{key:(l&&!Yt(l)?l:`_${e}`)+""},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),u}function od(t){return t.some(e=>Qs(e)?!(e.type===Kn||e.type===bt&&!od(e.children)):!0)?t:null}const Ba=t=>t?Cd(t)?xo(t):Ba(t.parent):null,Ms=yt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ba(t.parent),$root:t=>Ba(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ld(t),$forceUpdate:t=>t.f||(t.f=()=>{Nl(t.update)}),$nextTick:t=>t.n||(t.n=Ro.bind(t.proxy)),$watch:t=>P_.bind(t)}),va=(t,e)=>t!==Me&&!t.__isScriptSetup&&xe(t,e),l_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:u}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(va(r,e))return o[e]=1,r[e];if(s!==Me&&xe(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&xe(c,e))return o[e]=3,i[e];if(n!==Me&&xe(n,e))return o[e]=4,n[e];ja&&(o[e]=0)}}const f=Ms[e];let p,m;if(f)return e==="$attrs"&&mt(t.attrs,"get",""),f(t);if((p=l.__cssModules)&&(p=p[e]))return p;if(n!==Me&&xe(n,e))return o[e]=4,n[e];if(m=u.config.globalProperties,xe(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return va(s,e)?(s[e]=n,!0):r!==Me&&xe(r,e)?(r[e]=n,!0):xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==Me&&xe(t,o)||va(e,o)||(l=i[0])&&xe(l,o)||xe(r,o)||xe(Ms,o)||xe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Pc(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ja=!0;function u_(t){const e=ld(t),n=t.proxy,r=t.ctx;ja=!1,e.beforeCreate&&xc(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:u,inject:c,created:f,beforeMount:p,mounted:m,beforeUpdate:y,updated:C,activated:x,deactivated:D,beforeDestroy:k,beforeUnmount:F,destroyed:M,unmounted:q,render:W,renderTracked:re,renderTriggered:A,errorCaptured:v,serverPrefetch:E,expose:I,inheritAttrs:R,components:S,directives:T,filters:He}=e;if(c&&c_(c,r,null),o)for(const fe in o){const ye=o[fe];me(ye)&&(r[fe]=ye.bind(n))}if(s){const fe=s.call(n,n);Oe(fe)&&(t.data=oi(fe))}if(ja=!0,i)for(const fe in i){const ye=i[fe],Vt=me(ye)?ye.bind(n,n):me(ye.get)?ye.get.bind(n,n):an,Kt=!me(ye)&&me(ye.set)?ye.set.bind(n):an,Ot=jt({get:Vt,set:Kt});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Be=>Ot.value=Be})}if(l)for(const fe in l)ad(l[fe],r,n,fe);if(u){const fe=me(u)?u.call(n):u;Reflect.ownKeys(fe).forEach(ye=>{ji(ye,fe[ye])})}f&&xc(f,t,"c");function De(fe,ye){ue(ye)?ye.forEach(Vt=>fe(Vt.bind(n))):ye&&fe(ye.bind(n))}if(De(Zg,p),De(Ll,m),De(e_,y),De(Fl,C),De(Xg,x),De(Yg,D),De(i_,v),De(s_,re),De(r_,A),De(t_,F),De(nd,q),De(n_,E),ue(I))if(I.length){const fe=t.exposed||(t.exposed={});I.forEach(ye=>{Object.defineProperty(fe,ye,{get:()=>n[ye],set:Vt=>n[ye]=Vt})})}else t.exposed||(t.exposed={});W&&t.render===an&&(t.render=W),R!=null&&(t.inheritAttrs=R),S&&(t.components=S),T&&(t.directives=T),E&&kl(t)}function c_(t,e,n=an){ue(t)&&(t=qa(t));for(const r in t){const s=t[r];let i;Oe(s)?"default"in s?i=zt(s.from||r,s.default,!0):i=zt(s.from||r):i=zt(s),Ke(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function xc(t,e,n){hn(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function ad(t,e,n,r){let s=r.includes(".")?Td(n,r):()=>n[r];if(Qe(t)){const i=e[t];me(i)&&ks(s,i)}else if(me(t))ks(s,t.bind(n));else if(Oe(t))if(ue(t))t.forEach(i=>ad(i,e,n,r));else{const i=me(t.handler)?t.handler.bind(n):e[t.handler];me(i)&&ks(s,i,t)}}function ld(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let u;return l?u=l:!s.length&&!n&&!r?u=e:(u={},s.length&&s.forEach(c=>ro(u,c,o,!0)),ro(u,e,o)),Oe(e)&&i.set(e,u),u}function ro(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ro(t,i,n,!0),s&&s.forEach(o=>ro(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=h_[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const h_={data:Vc,props:Dc,emits:Dc,methods:Rs,computed:Rs,beforeCreate:Et,created:Et,beforeMount:Et,mounted:Et,beforeUpdate:Et,updated:Et,beforeDestroy:Et,beforeUnmount:Et,destroyed:Et,unmounted:Et,activated:Et,deactivated:Et,errorCaptured:Et,serverPrefetch:Et,components:Rs,directives:Rs,watch:d_,provide:Vc,inject:f_};function Vc(t,e){return e?t?function(){return yt(me(t)?t.call(this,this):t,me(e)?e.call(this,this):e)}:e:t}function f_(t,e){return Rs(qa(t),qa(e))}function qa(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Et(t,e){return t?[...new Set([].concat(t,e))]:e}function Rs(t,e){return t?yt(Object.create(null),t,e):e}function Dc(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:yt(Object.create(null),Pc(t),Pc(e??{})):e}function d_(t,e){if(!t)return e;if(!e)return t;const n=yt(Object.create(null),t);for(const r in e)n[r]=Et(t[r],e[r]);return n}function ud(){return{app:null,config:{isNativeTag:ng,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let p_=0;function m_(t,e){return function(r,s=null){me(r)||(r=yt({},r)),s!=null&&!Oe(s)&&(s=null);const i=ud(),o=new WeakSet,l=[];let u=!1;const c=i.app={_uid:p_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:X_,get config(){return i.config},set config(f){},use(f,...p){return o.has(f)||(f&&me(f.install)?(o.add(f),f.install(c,...p)):me(f)&&(o.add(f),f(c,...p))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,p){return p?(i.components[f]=p,c):i.components[f]},directive(f,p){return p?(i.directives[f]=p,c):i.directives[f]},mount(f,p,m){if(!u){const y=c._ceVNode||ie(r,s);return y.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(y,f,m),u=!0,c._container=f,f.__vue_app__=c,xo(y.component)}},onUnmount(f){l.push(f)},unmount(){u&&(hn(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,p){return i.provides[f]=p,c},runWithContext(f){const p=mr;mr=c;try{return f()}finally{mr=p}}};return c}}let mr=null;function ji(t,e){if(tt){let n=tt.provides;const r=tt.parent&&tt.parent.provides;r===n&&(n=tt.provides=Object.create(r)),n[t]=e}}function zt(t,e,n=!1){const r=tt||nt;if(r||mr){const s=mr?mr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&me(e)?e.call(r&&r.proxy):e}}function g_(){return!!(tt||nt||mr)}const cd={},hd=()=>Object.create(cd),fd=t=>Object.getPrototypeOf(t)===cd;function __(t,e,n,r=!1){const s={},i=hd();t.propsDefaults=Object.create(null),dd(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Gf(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function y_(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=Se(s),[u]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(So(t.emitsOptions,m))continue;const y=e[m];if(u)if(xe(i,m))y!==i[m]&&(i[m]=y,c=!0);else{const C=$t(m);s[C]=za(u,l,C,y,t,!1)}else y!==i[m]&&(i[m]=y,c=!0)}}}else{dd(t,e,s,i)&&(c=!0);let f;for(const p in l)(!e||!xe(e,p)&&((f=er(p))===p||!xe(e,f)))&&(u?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=za(u,l,p,void 0,t,!0)):delete s[p]);if(i!==l)for(const p in i)(!e||!xe(e,p))&&(delete i[p],c=!0)}c&&vn(t.attrs,"set","")}function dd(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(Vs(u))continue;const c=e[u];let f;s&&xe(s,f=$t(u))?!i||!i.includes(f)?n[f]=c:(l||(l={}))[f]=c:So(t.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,o=!0)}if(i){const u=Se(n),c=l||Me;for(let f=0;f<i.length;f++){const p=i[f];n[p]=za(s,u,p,c[p],t,!xe(c,p))}}return o}function za(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=xe(o,"default");if(l&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&me(u)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const f=ui(s);r=c[n]=u.call(null,e),f()}}else r=u;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===er(n))&&(r=!0))}return r}const v_=new WeakMap;function pd(t,e,n=!1){const r=n?v_:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let u=!1;if(!me(t)){const f=p=>{u=!0;const[m,y]=pd(p,e,!0);yt(o,m),y&&l.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!u)return Oe(t)&&r.set(t,Or),Or;if(ue(i))for(let f=0;f<i.length;f++){const p=$t(i[f]);Nc(p)&&(o[p]=Me)}else if(i)for(const f in i){const p=$t(f);if(Nc(p)){const m=i[f],y=o[p]=ue(m)||me(m)?{type:m}:yt({},m),C=y.type;let x=!1,D=!0;if(ue(C))for(let k=0;k<C.length;++k){const F=C[k],M=me(F)&&F.name;if(M==="Boolean"){x=!0;break}else M==="String"&&(D=!1)}else x=me(C)&&C.name==="Boolean";y[0]=x,y[1]=D,(x||xe(y,"default"))&&l.push(p)}}const c=[o,l];return Oe(t)&&r.set(t,c),c}function Nc(t){return t[0]!=="$"&&!Vs(t)}const md=t=>t[0]==="_"||t==="$stable",Ul=t=>ue(t)?t.map(sn):[sn(t)],E_=(t,e,n)=>{if(e._n)return e;const r=Ae((...s)=>Ul(e(...s)),n);return r._c=!1,r},gd=(t,e,n)=>{const r=t._ctx;for(const s in t){if(md(s))continue;const i=t[s];if(me(i))e[s]=E_(s,i,r);else if(i!=null){const o=Ul(i);e[s]=()=>o}}},_d=(t,e)=>{const n=Ul(e);t.slots.default=()=>n},yd=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},w_=(t,e,n)=>{const r=t.slots=hd();if(t.vnode.shapeFlag&32){const s=e._;s?(yd(r,e,n),n&&If(r,"_",s,!0)):gd(e,r)}else e&&_d(t,e)},T_=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Me;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:yd(s,e,n):(i=!e.$stable,gd(e,s)),o=e}else e&&(_d(t,e),o={default:1});if(i)for(const l in s)!md(l)&&o[l]==null&&delete s[l]},Nt=O_;function b_(t){return A_(t)}function A_(t,e){const n=bo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:u,setText:c,setElementText:f,parentNode:p,nextSibling:m,setScopeId:y=an,insertStaticContent:C}=t,x=(w,b,P,L=null,z=null,U=null,Q=void 0,G=null,$=!!b.dynamicChildren)=>{if(w===b)return;w&&!bs(w,b)&&(L=O(w),Be(w,z,U,!0),w=null),b.patchFlag===-2&&($=!1,b.dynamicChildren=null);const{type:H,ref:ae,shapeFlag:Y}=b;switch(H){case Po:D(w,b,P,L);break;case Kn:k(w,b,P,L);break;case qi:w==null&&F(b,P,L,Q);break;case bt:S(w,b,P,L,z,U,Q,G,$);break;default:Y&1?W(w,b,P,L,z,U,Q,G,$):Y&6?T(w,b,P,L,z,U,Q,G,$):(Y&64||Y&128)&&H.process(w,b,P,L,z,U,Q,G,$,te)}ae!=null&&z&&no(ae,w&&w.ref,U,b||w,!b)},D=(w,b,P,L)=>{if(w==null)r(b.el=l(b.children),P,L);else{const z=b.el=w.el;b.children!==w.children&&c(z,b.children)}},k=(w,b,P,L)=>{w==null?r(b.el=u(b.children||""),P,L):b.el=w.el},F=(w,b,P,L)=>{[w.el,w.anchor]=C(w.children,b,P,L,w.el,w.anchor)},M=({el:w,anchor:b},P,L)=>{let z;for(;w&&w!==b;)z=m(w),r(w,P,L),w=z;r(b,P,L)},q=({el:w,anchor:b})=>{let P;for(;w&&w!==b;)P=m(w),s(w),w=P;s(b)},W=(w,b,P,L,z,U,Q,G,$)=>{b.type==="svg"?Q="svg":b.type==="math"&&(Q="mathml"),w==null?re(b,P,L,z,U,Q,G,$):E(w,b,z,U,Q,G,$)},re=(w,b,P,L,z,U,Q,G)=>{let $,H;const{props:ae,shapeFlag:Y,transition:ne,dirs:ce}=w;if($=w.el=o(w.type,U,ae&&ae.is,ae),Y&8?f($,w.children):Y&16&&v(w.children,$,null,L,z,Ea(w,U),Q,G),ce&&ur(w,null,L,"created"),A($,w,w.scopeId,Q,L),ae){for(const _e in ae)_e!=="value"&&!Vs(_e)&&i($,_e,null,ae[_e],U,L);"value"in ae&&i($,"value",null,ae.value,U),(H=ae.onVnodeBeforeMount)&&tn(H,L,w)}ce&&ur(w,null,L,"beforeMount");const le=I_(z,ne);le&&ne.beforeEnter($),r($,b,P),((H=ae&&ae.onVnodeMounted)||le||ce)&&Nt(()=>{H&&tn(H,L,w),le&&ne.enter($),ce&&ur(w,null,L,"mounted")},z)},A=(w,b,P,L,z)=>{if(P&&y(w,P),L)for(let U=0;U<L.length;U++)y(w,L[U]);if(z){let U=z.subTree;if(b===U||Ad(U.type)&&(U.ssContent===b||U.ssFallback===b)){const Q=z.vnode;A(w,Q,Q.scopeId,Q.slotScopeIds,z.parent)}}},v=(w,b,P,L,z,U,Q,G,$=0)=>{for(let H=$;H<w.length;H++){const ae=w[H]=G?Fn(w[H]):sn(w[H]);x(null,ae,b,P,L,z,U,Q,G)}},E=(w,b,P,L,z,U,Q)=>{const G=b.el=w.el;let{patchFlag:$,dynamicChildren:H,dirs:ae}=b;$|=w.patchFlag&16;const Y=w.props||Me,ne=b.props||Me;let ce;if(P&&cr(P,!1),(ce=ne.onVnodeBeforeUpdate)&&tn(ce,P,b,w),ae&&ur(b,w,P,"beforeUpdate"),P&&cr(P,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&f(G,""),H?I(w.dynamicChildren,H,G,P,L,Ea(b,z),U):Q||ye(w,b,G,null,P,L,Ea(b,z),U,!1),$>0){if($&16)R(G,Y,ne,P,z);else if($&2&&Y.class!==ne.class&&i(G,"class",null,ne.class,z),$&4&&i(G,"style",Y.style,ne.style,z),$&8){const le=b.dynamicProps;for(let _e=0;_e<le.length;_e++){const we=le[_e],ut=Y[we],rt=ne[we];(rt!==ut||we==="value")&&i(G,we,ut,rt,z,P)}}$&1&&w.children!==b.children&&f(G,b.children)}else!Q&&H==null&&R(G,Y,ne,P,z);((ce=ne.onVnodeUpdated)||ae)&&Nt(()=>{ce&&tn(ce,P,b,w),ae&&ur(b,w,P,"updated")},L)},I=(w,b,P,L,z,U,Q)=>{for(let G=0;G<b.length;G++){const $=w[G],H=b[G],ae=$.el&&($.type===bt||!bs($,H)||$.shapeFlag&70)?p($.el):P;x($,H,ae,null,L,z,U,Q,!0)}},R=(w,b,P,L,z)=>{if(b!==P){if(b!==Me)for(const U in b)!Vs(U)&&!(U in P)&&i(w,U,b[U],null,z,L);for(const U in P){if(Vs(U))continue;const Q=P[U],G=b[U];Q!==G&&U!=="value"&&i(w,U,G,Q,z,L)}"value"in P&&i(w,"value",b.value,P.value,z)}},S=(w,b,P,L,z,U,Q,G,$)=>{const H=b.el=w?w.el:l(""),ae=b.anchor=w?w.anchor:l("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:ce}=b;ce&&(G=G?G.concat(ce):ce),w==null?(r(H,P,L),r(ae,P,L),v(b.children||[],P,ae,z,U,Q,G,$)):Y>0&&Y&64&&ne&&w.dynamicChildren?(I(w.dynamicChildren,ne,P,z,U,Q,G),(b.key!=null||z&&b===z.subTree)&&vd(w,b,!0)):ye(w,b,P,ae,z,U,Q,G,$)},T=(w,b,P,L,z,U,Q,G,$)=>{b.slotScopeIds=G,w==null?b.shapeFlag&512?z.ctx.activate(b,P,L,Q,$):He(b,P,L,z,U,Q,$):Je(w,b,$)},He=(w,b,P,L,z,U,Q)=>{const G=w.component=z_(w,L,z);if(Ol(w)&&(G.ctx.renderer=te),H_(G,!1,Q),G.asyncDep){if(z&&z.registerDep(G,De,Q),!w.el){const $=G.subTree=ie(Kn);k(null,$,b,P)}}else De(G,w,b,P,z,U,Q)},Je=(w,b,P)=>{const L=b.component=w.component;if(M_(w,b,P))if(L.asyncDep&&!L.asyncResolved){fe(L,b,P);return}else L.next=b,L.update();else b.el=w.el,L.vnode=b},De=(w,b,P,L,z,U,Q)=>{const G=()=>{if(w.isMounted){let{next:Y,bu:ne,u:ce,parent:le,vnode:_e}=w;{const ct=Ed(w);if(ct){Y&&(Y.el=_e.el,fe(w,Y,Q)),ct.asyncDep.then(()=>{w.isUnmounted||G()});return}}let we=Y,ut;cr(w,!1),Y?(Y.el=_e.el,fe(w,Y,Q)):Y=_e,ne&&Bi(ne),(ut=Y.props&&Y.props.onVnodeBeforeUpdate)&&tn(ut,le,Y,_e),cr(w,!0);const rt=kc(w),Lt=w.subTree;w.subTree=rt,x(Lt,rt,p(Lt.el),O(Lt),w,z,U),Y.el=rt.el,we===null&&k_(w,rt.el),ce&&Nt(ce,z),(ut=Y.props&&Y.props.onVnodeUpdated)&&Nt(()=>tn(ut,le,Y,_e),z)}else{let Y;const{el:ne,props:ce}=b,{bm:le,m:_e,parent:we,root:ut,type:rt}=w,Lt=Ur(b);cr(w,!1),le&&Bi(le),!Lt&&(Y=ce&&ce.onVnodeBeforeMount)&&tn(Y,we,b),cr(w,!0);{ut.ce&&ut.ce._injectChildStyle(rt);const ct=w.subTree=kc(w);x(null,ct,P,L,w,z,U),b.el=ct.el}if(_e&&Nt(_e,z),!Lt&&(Y=ce&&ce.onVnodeMounted)){const ct=b;Nt(()=>tn(Y,we,ct),z)}(b.shapeFlag&256||we&&Ur(we.vnode)&&we.vnode.shapeFlag&256)&&w.a&&Nt(w.a,z),w.isMounted=!0,b=P=L=null}};w.scope.on();const $=w.effect=new Df(G);w.scope.off();const H=w.update=$.run.bind($),ae=w.job=$.runIfDirty.bind($);ae.i=w,ae.id=w.uid,$.scheduler=()=>Nl(ae),cr(w,!0),H()},fe=(w,b,P)=>{b.component=w;const L=w.vnode.props;w.vnode=b,w.next=null,y_(w,b.props,L,P),T_(w,b.children,P),tr(),Ic(w),nr()},ye=(w,b,P,L,z,U,Q,G,$=!1)=>{const H=w&&w.children,ae=w?w.shapeFlag:0,Y=b.children,{patchFlag:ne,shapeFlag:ce}=b;if(ne>0){if(ne&128){Kt(H,Y,P,L,z,U,Q,G,$);return}else if(ne&256){Vt(H,Y,P,L,z,U,Q,G,$);return}}ce&8?(ae&16&&At(H,z,U),Y!==H&&f(P,Y)):ae&16?ce&16?Kt(H,Y,P,L,z,U,Q,G,$):At(H,z,U,!0):(ae&8&&f(P,""),ce&16&&v(Y,P,L,z,U,Q,G,$))},Vt=(w,b,P,L,z,U,Q,G,$)=>{w=w||Or,b=b||Or;const H=w.length,ae=b.length,Y=Math.min(H,ae);let ne;for(ne=0;ne<Y;ne++){const ce=b[ne]=$?Fn(b[ne]):sn(b[ne]);x(w[ne],ce,P,null,z,U,Q,G,$)}H>ae?At(w,z,U,!0,!1,Y):v(b,P,L,z,U,Q,G,$,Y)},Kt=(w,b,P,L,z,U,Q,G,$)=>{let H=0;const ae=b.length;let Y=w.length-1,ne=ae-1;for(;H<=Y&&H<=ne;){const ce=w[H],le=b[H]=$?Fn(b[H]):sn(b[H]);if(bs(ce,le))x(ce,le,P,null,z,U,Q,G,$);else break;H++}for(;H<=Y&&H<=ne;){const ce=w[Y],le=b[ne]=$?Fn(b[ne]):sn(b[ne]);if(bs(ce,le))x(ce,le,P,null,z,U,Q,G,$);else break;Y--,ne--}if(H>Y){if(H<=ne){const ce=ne+1,le=ce<ae?b[ce].el:L;for(;H<=ne;)x(null,b[H]=$?Fn(b[H]):sn(b[H]),P,le,z,U,Q,G,$),H++}}else if(H>ne)for(;H<=Y;)Be(w[H],z,U,!0),H++;else{const ce=H,le=H,_e=new Map;for(H=le;H<=ne;H++){const st=b[H]=$?Fn(b[H]):sn(b[H]);st.key!=null&&_e.set(st.key,H)}let we,ut=0;const rt=ne-le+1;let Lt=!1,ct=0;const Vn=new Array(rt);for(H=0;H<rt;H++)Vn[H]=0;for(H=ce;H<=Y;H++){const st=w[H];if(ut>=rt){Be(st,z,U,!0);continue}let Ft;if(st.key!=null)Ft=_e.get(st.key);else for(we=le;we<=ne;we++)if(Vn[we-le]===0&&bs(st,b[we])){Ft=we;break}Ft===void 0?Be(st,z,U,!0):(Vn[Ft-le]=H+1,Ft>=ct?ct=Ft:Lt=!0,x(st,b[Ft],P,null,z,U,Q,G,$),ut++)}const us=Lt?R_(Vn):Or;for(we=us.length-1,H=rt-1;H>=0;H--){const st=le+H,Ft=b[st],gi=st+1<ae?b[st+1].el:L;Vn[H]===0?x(null,Ft,P,gi,z,U,Q,G,$):Lt&&(we<0||H!==us[we]?Ot(Ft,P,gi,2):we--)}}},Ot=(w,b,P,L,z=null)=>{const{el:U,type:Q,transition:G,children:$,shapeFlag:H}=w;if(H&6){Ot(w.component.subTree,b,P,L);return}if(H&128){w.suspense.move(b,P,L);return}if(H&64){Q.move(w,b,P,te);return}if(Q===bt){r(U,b,P);for(let Y=0;Y<$.length;Y++)Ot($[Y],b,P,L);r(w.anchor,b,P);return}if(Q===qi){M(w,b,P);return}if(L!==2&&H&1&&G)if(L===0)G.beforeEnter(U),r(U,b,P),Nt(()=>G.enter(U),z);else{const{leave:Y,delayLeave:ne,afterLeave:ce}=G,le=()=>r(U,b,P),_e=()=>{Y(U,()=>{le(),ce&&ce()})};ne?ne(U,le,_e):_e()}else r(U,b,P)},Be=(w,b,P,L=!1,z=!1)=>{const{type:U,props:Q,ref:G,children:$,dynamicChildren:H,shapeFlag:ae,patchFlag:Y,dirs:ne,cacheIndex:ce}=w;if(Y===-2&&(z=!1),G!=null&&no(G,null,P,w,!0),ce!=null&&(b.renderCache[ce]=void 0),ae&256){b.ctx.deactivate(w);return}const le=ae&1&&ne,_e=!Ur(w);let we;if(_e&&(we=Q&&Q.onVnodeBeforeUnmount)&&tn(we,b,w),ae&6)en(w.component,P,L);else{if(ae&128){w.suspense.unmount(P,L);return}le&&ur(w,null,b,"beforeUnmount"),ae&64?w.type.remove(w,b,P,te,L):H&&!H.hasOnce&&(U!==bt||Y>0&&Y&64)?At(H,b,P,!1,!0):(U===bt&&Y&384||!z&&ae&16)&&At($,b,P),L&&je(w)}(_e&&(we=Q&&Q.onVnodeUnmounted)||le)&&Nt(()=>{we&&tn(we,b,w),le&&ur(w,null,b,"unmounted")},P)},je=w=>{const{type:b,el:P,anchor:L,transition:z}=w;if(b===bt){xn(P,L);return}if(b===qi){q(w);return}const U=()=>{s(P),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(w.shapeFlag&1&&z&&!z.persisted){const{leave:Q,delayLeave:G}=z,$=()=>Q(P,U);G?G(w.el,U,$):$()}else U()},xn=(w,b)=>{let P;for(;w!==b;)P=m(w),s(w),w=P;s(b)},en=(w,b,P)=>{const{bum:L,scope:z,job:U,subTree:Q,um:G,m:$,a:H}=w;Mc($),Mc(H),L&&Bi(L),z.stop(),U&&(U.flags|=8,Be(Q,w,b,P)),G&&Nt(G,b),Nt(()=>{w.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},At=(w,b,P,L=!1,z=!1,U=0)=>{for(let Q=U;Q<w.length;Q++)Be(w[Q],b,P,L,z)},O=w=>{if(w.shapeFlag&6)return O(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const b=m(w.anchor||w.el),P=b&&b[Kg];return P?m(P):b};let J=!1;const X=(w,b,P)=>{w==null?b._vnode&&Be(b._vnode,null,null,!0):x(b._vnode||null,w,b,null,null,null,P),b._vnode=w,J||(J=!0,Ic(),Jf(),J=!1)},te={p:x,um:Be,m:Ot,r:je,mt:He,mc:v,pc:ye,pbc:I,n:O,o:t};return{render:X,hydrate:void 0,createApp:m_(X)}}function Ea({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function cr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function I_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function vd(t,e,n=!1){const r=t.children,s=e.children;if(ue(r)&&ue(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Fn(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&vd(o,l)),l.type===Po&&(l.el=o.el)}}function R_(t){const e=t.slice(),n=[0];let r,s,i,o,l;const u=t.length;for(r=0;r<u;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<c?i=l+1:o=l;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Ed(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ed(e)}function Mc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const C_=Symbol.for("v-scx"),S_=()=>zt(C_);function ks(t,e,n){return wd(t,e,n)}function wd(t,e,n=Me){const{immediate:r,deep:s,flush:i,once:o}=n,l=yt({},n),u=e&&r||!e&&i!=="post";let c;if(zr){if(i==="sync"){const y=S_();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!u){const y=()=>{};return y.stop=an,y.resume=an,y.pause=an,y}}const f=tt;l.call=(y,C,x)=>hn(y,f,C,x);let p=!1;i==="post"?l.scheduler=y=>{Nt(y,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(y,C)=>{C?y():Nl(y)}),l.augmentJob=y=>{e&&(y.flags|=4),p&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const m=zg(t,e,l);return zr&&(c?c.push(m):u&&m()),m}function P_(t,e,n){const r=this.proxy,s=Qe(t)?t.includes(".")?Td(r,t):()=>r[t]:t.bind(r,r);let i;me(e)?i=e:(i=e.handler,n=e);const o=ui(this),l=wd(s,i.bind(r),n);return o(),l}function Td(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const x_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${$t(e)}Modifiers`]||t[`${er(e)}Modifiers`];function V_(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Me;let s=n;const i=e.startsWith("update:"),o=i&&x_(r,e.slice(7));o&&(o.trim&&(s=n.map(f=>Qe(f)?f.trim():f)),o.number&&(s=n.map(Yi)));let l,u=r[l=da(e)]||r[l=da($t(e))];!u&&i&&(u=r[l=da(er(e))]),u&&hn(u,t,6,s);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,hn(c,t,6,s)}}function bd(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!me(t)){const u=c=>{const f=bd(c,e,!0);f&&(l=!0,yt(o,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(Oe(t)&&r.set(t,null),null):(ue(i)?i.forEach(u=>o[u]=null):yt(o,i),Oe(t)&&r.set(t,o),o)}function So(t,e){return!t||!Eo(e)?!1:(e=e.slice(2).replace(/Once$/,""),xe(t,e[0].toLowerCase()+e.slice(1))||xe(t,er(e))||xe(t,e))}function kc(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:u,render:c,renderCache:f,props:p,data:m,setupState:y,ctx:C,inheritAttrs:x}=t,D=to(t);let k,F;try{if(n.shapeFlag&4){const q=s||r,W=q;k=sn(c.call(W,q,f,p,y,m,C)),F=l}else{const q=e;k=sn(q.length>1?q(p,{attrs:l,slots:o,emit:u}):q(p,null)),F=e.props?l:D_(l)}}catch(q){Os.length=0,li(q,t,1),k=ie(Kn)}let M=k;if(F&&x!==!1){const q=Object.keys(F),{shapeFlag:W}=M;q.length&&W&7&&(i&&q.some(El)&&(F=N_(F,i)),M=qr(M,F,!1,!0))}return n.dirs&&(M=qr(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&Ml(M,n.transition),k=M,to(D),k}const D_=t=>{let e;for(const n in t)(n==="class"||n==="style"||Eo(n))&&((e||(e={}))[n]=t[n]);return e},N_=(t,e)=>{const n={};for(const r in t)(!El(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function M_(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Oc(r,o,c):!!o;if(u&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(o[m]!==r[m]&&!So(c,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Oc(r,o,c):!0:!!o;return!1}function Oc(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!So(n,i))return!0}return!1}function k_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ad=t=>t.__isSuspense;function O_(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):Gg(t)}const bt=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),Kn=Symbol.for("v-cmt"),qi=Symbol.for("v-stc"),Os=[];let Mt=null;function Ue(t=!1){Os.push(Mt=t?null:[])}function L_(){Os.pop(),Mt=Os[Os.length-1]||null}let Ks=1;function Lc(t,e=!1){Ks+=t,t<0&&Mt&&e&&(Mt.hasOnce=!0)}function Id(t){return t.dynamicChildren=Ks>0?Mt||Or:null,L_(),Ks>0&&Mt&&Mt.push(t),t}function ln(t,e,n,r,s,i){return Id(_(t,e,n,r,s,i,!0))}function It(t,e,n,r,s){return Id(ie(t,e,n,r,s,!0))}function Qs(t){return t?t.__v_isVNode===!0:!1}function bs(t,e){return t.type===e.type&&t.key===e.key}const Rd=({key:t})=>t??null,zi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qe(t)||Ke(t)||me(t)?{i:nt,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,r=0,s=null,i=t===bt?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rd(e),ref:e&&zi(e),scopeId:ed,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:nt};return l?(Bl(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=Qe(n)?8:16),Ks>0&&!o&&Mt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Mt.push(u),u}const ie=F_;function F_(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===sd)&&(t=Kn),Qs(t)){const l=qr(t,e,!0);return n&&Bl(l,n),Ks>0&&!i&&Mt&&(l.shapeFlag&6?Mt[Mt.indexOf(t)]=l:Mt.push(l)),l.patchFlag=-2,l}if(W_(t)&&(t=t.__vccOpts),e){e=U_(e);let{class:l,style:u}=e;l&&!Qe(l)&&(e.class=Ao(l)),Oe(u)&&(Vl(u)&&!ue(u)&&(u=yt({},u)),e.style=bl(u))}const o=Qe(t)?1:Ad(t)?128:Qg(t)?64:Oe(t)?4:me(t)?2:0;return _(t,e,n,r,s,o,i,!0)}function U_(t){return t?Vl(t)||fd(t)?yt({},t):t:null}function qr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:u}=t,c=e?B_(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Rd(c),ref:e&&e.ref?n&&i?ue(i)?i.concat(zi(e)):[i,zi(e)]:zi(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==bt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qr(t.ssContent),ssFallback:t.ssFallback&&qr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&Ml(f,u.clone(f)),f}function he(t=" ",e=0){return ie(Po,null,t,e)}function $A(t,e){const n=ie(qi,null,t);return n.staticCount=e,n}function Ut(t="",e=!1){return e?(Ue(),It(Kn,null,t)):ie(Kn,null,t)}function sn(t){return t==null||typeof t=="boolean"?ie(Kn):ue(t)?ie(bt,null,t.slice()):Qs(t)?Fn(t):ie(Po,null,String(t))}function Fn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qr(t)}function Bl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Bl(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!fd(e)?e._ctx=nt:s===3&&nt&&(nt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else me(e)?(e={default:e,_ctx:nt},n=32):(e=String(e),r&64?(n=16,e=[he(e)]):n=8);t.children=e,t.shapeFlag|=n}function B_(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ao([e.class,r.class]));else if(s==="style")e.style=bl([e.style,r.style]);else if(Eo(s)){const i=e[s],o=r[s];o&&i!==o&&!(ue(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function tn(t,e,n,r=null){hn(t,e,7,[n,r])}const j_=ud();let q_=0;function z_(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||j_,i={uid:q_++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pd(r,s),emitsOptions:bd(r,s),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:r.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=V_.bind(null,i),t.ce&&t.ce(i),i}let tt=null,so,Ha;{const t=bo(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};so=e("__VUE_INSTANCE_SETTERS__",n=>tt=n),Ha=e("__VUE_SSR_SETTERS__",n=>zr=n)}const ui=t=>{const e=tt;return so(t),t.scope.on(),()=>{t.scope.off(),so(e)}},Fc=()=>{tt&&tt.scope.off(),so(null)};function Cd(t){return t.vnode.shapeFlag&4}let zr=!1;function H_(t,e=!1,n=!1){e&&Ha(e);const{props:r,children:s}=t.vnode,i=Cd(t);__(t,r,i,e),w_(t,s,n);const o=i?$_(t,e):void 0;return e&&Ha(!1),o}function $_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,l_);const{setup:r}=n;if(r){tr();const s=t.setupContext=r.length>1?K_(t):null,i=ui(t),o=ai(r,t,0,[t.props,s]),l=Tf(o);if(nr(),i(),(l||t.sp)&&!Ur(t)&&kl(t),l){if(o.then(Fc,Fc),e)return o.then(u=>{Uc(t,u)}).catch(u=>{li(u,t,0)});t.asyncDep=o}else Uc(t,o)}else Sd(t)}function Uc(t,e,n){me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Oe(e)&&(t.setupState=Wf(e)),Sd(t)}function Sd(t,e,n){const r=t.type;t.render||(t.render=r.render||an);{const s=ui(t);tr();try{u_(t)}finally{nr(),s()}}}const G_={get(t,e){return mt(t,"get",""),t[e]}};function K_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,G_),slots:t.slots,emit:t.emit,expose:e}}function xo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Wf(Dl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ms)return Ms[n](t)},has(e,n){return n in e||n in Ms}})):t.proxy}function Q_(t,e=!0){return me(t)?t.displayName||t.name:t.name||e&&t.__name}function W_(t){return me(t)&&"__vccOpts"in t}const jt=(t,e)=>jg(t,e,zr);function Rt(t,e,n){const r=arguments.length;return r===2?Oe(e)&&!ue(e)?Qs(e)?ie(t,null,[e]):ie(t,e):ie(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Qs(n)&&(n=[n]),ie(t,e,n))}const X_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $a;const Bc=typeof window<"u"&&window.trustedTypes;if(Bc)try{$a=Bc.createPolicy("vue",{createHTML:t=>t})}catch{}const Pd=$a?t=>$a.createHTML(t):t=>t,Y_="http://www.w3.org/2000/svg",J_="http://www.w3.org/1998/Math/MathML",yn=typeof document<"u"?document:null,jc=yn&&yn.createElement("template"),Z_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?yn.createElementNS(Y_,t):e==="mathml"?yn.createElementNS(J_,t):n?yn.createElement(t,{is:n}):yn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>yn.createTextNode(t),createComment:t=>yn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{jc.innerHTML=Pd(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=jc.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ey=Symbol("_vtc");function ty(t,e,n){const r=t[ey];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const io=Symbol("_vod"),xd=Symbol("_vsh"),GA={beforeMount(t,{value:e},{transition:n}){t[io]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):As(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),As(t,!0),r.enter(t)):r.leave(t,()=>{As(t,!1)}):As(t,e))},beforeUnmount(t,{value:e}){As(t,e)}};function As(t,e){t.style.display=e?t[io]:"none",t[xd]=!e}const ny=Symbol(""),ry=/(^|;)\s*display\s*:/;function sy(t,e,n){const r=t.style,s=Qe(n);let i=!1;if(n&&!s){if(e)if(Qe(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Hi(r,l,"")}else for(const o in e)n[o]==null&&Hi(r,o,"");for(const o in n)o==="display"&&(i=!0),Hi(r,o,n[o])}else if(s){if(e!==n){const o=r[ny];o&&(n+=";"+o),r.cssText=n,i=ry.test(n)}}else e&&t.removeAttribute("style");io in t&&(t[io]=i?r.display:"",t[xd]&&(r.display="none"))}const qc=/\s*!important$/;function Hi(t,e,n){if(ue(n))n.forEach(r=>Hi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=iy(t,e);qc.test(n)?t.setProperty(er(r),n.replace(qc,""),"important"):t[r]=n}}const zc=["Webkit","Moz","ms"],wa={};function iy(t,e){const n=wa[e];if(n)return n;let r=$t(e);if(r!=="filter"&&r in t)return wa[e]=r;r=To(r);for(let s=0;s<zc.length;s++){const i=zc[s]+r;if(i in t)return wa[e]=i}return e}const Hc="http://www.w3.org/1999/xlink";function $c(t,e,n,r,s,i=fg(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hc,e.slice(6,e.length)):t.setAttributeNS(Hc,e,n):n==null||i&&!Rf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Yt(n)?String(n):n)}function Gc(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Pd(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Rf(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function wn(t,e,n,r){t.addEventListener(e,n,r)}function oy(t,e,n,r){t.removeEventListener(e,n,r)}const Kc=Symbol("_vei");function ay(t,e,n,r,s=null){const i=t[Kc]||(t[Kc]={}),o=i[e];if(r&&o)o.value=r;else{const[l,u]=ly(e);if(r){const c=i[e]=hy(r,s);wn(t,l,c,u)}else o&&(oy(t,l,o,u),i[e]=void 0)}}const Qc=/(?:Once|Passive|Capture)$/;function ly(t){let e;if(Qc.test(t)){e={};let r;for(;r=t.match(Qc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):er(t.slice(2)),e]}let Ta=0;const uy=Promise.resolve(),cy=()=>Ta||(uy.then(()=>Ta=0),Ta=Date.now());function hy(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hn(fy(r,n.value),e,5,[r])};return n.value=t,n.attached=cy(),n}function fy(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Wc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dy=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?ty(t,r,o):e==="style"?sy(t,n,r):Eo(e)?El(e)||ay(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):py(t,e,r,o))?(Gc(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$c(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qe(r))?Gc(t,$t(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$c(t,e,r,o))};function py(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Wc(e)&&me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Wc(e)&&Qe(n)?!1:e in t}const Qn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>Bi(e,n):e};function my(t){t.target.composing=!0}function Xc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ht=Symbol("_assign"),Yc={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Ht]=Qn(s);const i=r||s.props&&s.props.type==="number";wn(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=Yi(l)),t[Ht](l)}),n&&wn(t,"change",()=>{t.value=t.value.trim()}),e||(wn(t,"compositionstart",my),wn(t,"compositionend",Xc),wn(t,"change",Xc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Ht]=Qn(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Yi(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===u)||(t.value=u))}},KA={deep:!0,created(t,e,n){t[Ht]=Qn(n),wn(t,"change",()=>{const r=t._modelValue,s=Hr(t),i=t.checked,o=t[Ht];if(ue(r)){const l=Al(r,s),u=l!==-1;if(i&&!u)o(r.concat(s));else if(!i&&u){const c=[...r];c.splice(l,1),o(c)}}else if(ts(r)){const l=new Set(r);i?l.add(s):l.delete(s),o(l)}else o(Vd(t,i))})},mounted:Jc,beforeUpdate(t,e,n){t[Ht]=Qn(n),Jc(t,e,n)}};function Jc(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(ue(e))s=Al(e,r.props.value)>-1;else if(ts(e))s=e.has(r.props.value);else{if(e===n)return;s=_r(e,Vd(t,!0))}t.checked!==s&&(t.checked=s)}const QA={created(t,{value:e},n){t.checked=_r(e,n.props.value),t[Ht]=Qn(n),wn(t,"change",()=>{t[Ht](Hr(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Ht]=Qn(r),e!==n&&(t.checked=_r(e,r.props.value))}},WA={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=ts(e);wn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Yi(Hr(o)):Hr(o));t[Ht](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Ro(()=>{t._assigning=!1})}),t[Ht]=Qn(r)},mounted(t,{value:e}){Zc(t,e)},beforeUpdate(t,e,n){t[Ht]=Qn(n)},updated(t,{value:e}){t._assigning||Zc(t,e)}};function Zc(t,e){const n=t.multiple,r=ue(e);if(!(n&&!r&&!ts(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],l=Hr(o);if(n)if(r){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=Al(e,l)>-1}else o.selected=e.has(l);else if(_r(Hr(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Hr(t){return"_value"in t?t._value:t.value}function Vd(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const gy=["ctrl","shift","alt","meta"],_y={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>gy.some(n=>t[`${n}Key`]&&!e.includes(n))},yy=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const l=_y[e[o]];if(l&&l(s,e))return}return t(s,...i)})},vy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},XA=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=er(s.key);if(e.some(o=>o===i||vy[o]===i))return t(s)})},Ey=yt({patchProp:dy},Z_);let eh;function wy(){return eh||(eh=b_(Ey))}const Ty=(...t)=>{const e=wy().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Ay(r);if(!s)return;const i=e._component;!me(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,by(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function by(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ay(t){return Qe(t)?document.querySelector(t):t}/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Dd;const Vo=t=>Dd=t,Nd=Symbol();function Ga(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ls;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ls||(Ls={}));function Iy(){const t=xf(!0),e=t.run(()=>Pt({}));let n=[],r=[];const s=Dl({install(i){Vo(s),s._a=i,i.provide(Nd,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Md=()=>{};function th(t,e,n,r=Md){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Vf()&&pg(s),s}function Sr(t,...e){t.slice().forEach(n=>{n(...e)})}const Ry=t=>t(),nh=Symbol(),ba=Symbol();function Ka(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Ga(s)&&Ga(r)&&t.hasOwnProperty(n)&&!Ke(r)&&!zn(r)?t[n]=Ka(s,r):t[n]=r}return t}const Cy=Symbol();function Sy(t){return!Ga(t)||!t.hasOwnProperty(Cy)}const{assign:On}=Object;function Py(t){return!!(Ke(t)&&t.effect)}function xy(t,e,n,r){const{state:s,actions:i,getters:o}=e,l=n.state.value[t];let u;function c(){l||(n.state.value[t]=s?s():{});const f=Lg(n.state.value[t]);return On(f,i,Object.keys(o||{}).reduce((p,m)=>(p[m]=Dl(jt(()=>{Vo(n);const y=n._s.get(t);return o[m].call(y,y)})),p),{}))}return u=kd(t,c,e,n,r,!0),u}function kd(t,e,n={},r,s,i){let o;const l=On({actions:{}},n),u={deep:!0};let c,f,p=[],m=[],y;const C=r.state.value[t];!i&&!C&&(r.state.value[t]={}),Pt({});let x;function D(v){let E;c=f=!1,typeof v=="function"?(v(r.state.value[t]),E={type:Ls.patchFunction,storeId:t,events:y}):(Ka(r.state.value[t],v),E={type:Ls.patchObject,payload:v,storeId:t,events:y});const I=x=Symbol();Ro().then(()=>{x===I&&(c=!0)}),f=!0,Sr(p,E,r.state.value[t])}const k=i?function(){const{state:E}=n,I=E?E():{};this.$patch(R=>{On(R,I)})}:Md;function F(){o.stop(),p=[],m=[],r._s.delete(t)}const M=(v,E="")=>{if(nh in v)return v[ba]=E,v;const I=function(){Vo(r);const R=Array.from(arguments),S=[],T=[];function He(fe){S.push(fe)}function Je(fe){T.push(fe)}Sr(m,{args:R,name:I[ba],store:W,after:He,onError:Je});let De;try{De=v.apply(this&&this.$id===t?this:W,R)}catch(fe){throw Sr(T,fe),fe}return De instanceof Promise?De.then(fe=>(Sr(S,fe),fe)).catch(fe=>(Sr(T,fe),Promise.reject(fe))):(Sr(S,De),De)};return I[nh]=!0,I[ba]=E,I},q={_p:r,$id:t,$onAction:th.bind(null,m),$patch:D,$reset:k,$subscribe(v,E={}){const I=th(p,v,E.detached,()=>R()),R=o.run(()=>ks(()=>r.state.value[t],S=>{(E.flush==="sync"?f:c)&&v({storeId:t,type:Ls.direct,events:y},S)},On({},u,E)));return I},$dispose:F},W=oi(q);r._s.set(t,W);const A=(r._a&&r._a.runWithContext||Ry)(()=>r._e.run(()=>(o=xf()).run(()=>e({action:M}))));for(const v in A){const E=A[v];if(Ke(E)&&!Py(E)||zn(E))i||(C&&Sy(E)&&(Ke(E)?E.value=C[v]:Ka(E,C[v])),r.state.value[t][v]=E);else if(typeof E=="function"){const I=M(E,v);A[v]=I,l.actions[v]=E}}return On(W,A),On(Se(W),A),Object.defineProperty(W,"$state",{get:()=>r.state.value[t],set:v=>{D(E=>{On(E,v)})}}),r._p.forEach(v=>{On(W,o.run(()=>v({store:W,app:r._a,pinia:r,options:l})))}),C&&i&&n.hydrate&&n.hydrate(W.$state,C),c=!0,f=!0,W}/*! #__NO_SIDE_EFFECTS__ */function Od(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(l,u){const c=g_();return l=l||(c?zt(Nd,null):null),l&&Vo(l),l=Dd,l._s.has(r)||(i?kd(r,e,s,l):xy(r,s,l)),l._s.get(r)}return o.$id=r,o}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const xr=typeof document<"u";function Ld(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Vy(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ld(t.default)}const Pe=Object.assign;function Aa(t,e){const n={};for(const r in e){const s=e[r];n[r]=Jt(s)?s.map(t):t(s)}return n}const Fs=()=>{},Jt=Array.isArray,Fd=/#/g,Dy=/&/g,Ny=/\//g,My=/=/g,ky=/\?/g,Ud=/\+/g,Oy=/%5B/g,Ly=/%5D/g,Bd=/%5E/g,Fy=/%60/g,jd=/%7B/g,Uy=/%7C/g,qd=/%7D/g,By=/%20/g;function jl(t){return encodeURI(""+t).replace(Uy,"|").replace(Oy,"[").replace(Ly,"]")}function jy(t){return jl(t).replace(jd,"{").replace(qd,"}").replace(Bd,"^")}function Qa(t){return jl(t).replace(Ud,"%2B").replace(By,"+").replace(Fd,"%23").replace(Dy,"%26").replace(Fy,"`").replace(jd,"{").replace(qd,"}").replace(Bd,"^")}function qy(t){return Qa(t).replace(My,"%3D")}function zy(t){return jl(t).replace(Fd,"%23").replace(ky,"%3F")}function Hy(t){return t==null?"":zy(t).replace(Ny,"%2F")}function Ws(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const $y=/\/$/,Gy=t=>t.replace($y,"");function Ia(t,e,n="/"){let r,s={},i="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=e.slice(0,u),i=e.slice(u+1,l>-1?l:e.length),s=t(i)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=Xy(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Ws(o)}}function Ky(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function rh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Qy(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&$r(e.matched[r],n.matched[s])&&zd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function $r(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function zd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Wy(t[n],e[n]))return!1;return!0}function Wy(t,e){return Jt(t)?sh(t,e):Jt(e)?sh(e,t):t===e}function sh(t,e){return Jt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Xy(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const kn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xs;(function(t){t.pop="pop",t.push="push"})(Xs||(Xs={}));var Us;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Us||(Us={}));function Yy(t){if(!t)if(xr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Gy(t)}const Jy=/^[^#]+#/;function Zy(t,e){return t.replace(Jy,"#")+e}function ev(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Do=()=>({left:window.scrollX,top:window.scrollY});function tv(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=ev(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ih(t,e){return(history.state?history.state.position-e:-1)+t}const Wa=new Map;function nv(t,e){Wa.set(t,e)}function rv(t){const e=Wa.get(t);return Wa.delete(t),e}let sv=()=>location.protocol+"//"+location.host;function Hd(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let l=s.includes(t.slice(i))?t.slice(i).length:1,u=s.slice(l);return u[0]!=="/"&&(u="/"+u),rh(u,"")}return rh(n,t)+r+s}function iv(t,e,n,r){let s=[],i=[],o=null;const l=({state:m})=>{const y=Hd(t,location),C=n.value,x=e.value;let D=0;if(m){if(n.value=y,e.value=m,o&&o===C){o=null;return}D=x?m.position-x.position:0}else r(y);s.forEach(k=>{k(n.value,C,{delta:D,type:Xs.pop,direction:D?D>0?Us.forward:Us.back:Us.unknown})})};function u(){o=n.value}function c(m){s.push(m);const y=()=>{const C=s.indexOf(m);C>-1&&s.splice(C,1)};return i.push(y),y}function f(){const{history:m}=window;m.state&&m.replaceState(Pe({},m.state,{scroll:Do()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:c,destroy:p}}function oh(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Do():null}}function ov(t){const{history:e,location:n}=window,r={value:Hd(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,c,f){const p=t.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+u:sv()+t+u;try{e[f?"replaceState":"pushState"](c,"",m),s.value=c}catch(y){console.error(y),n[f?"replace":"assign"](m)}}function o(u,c){const f=Pe({},e.state,oh(s.value.back,u,s.value.forward,!0),c,{position:s.value.position});i(u,f,!0),r.value=u}function l(u,c){const f=Pe({},s.value,e.state,{forward:u,scroll:Do()});i(f.current,f,!0);const p=Pe({},oh(r.value,u,null),{position:f.position+1},c);i(u,p,!1),r.value=u}return{location:r,state:s,push:l,replace:o}}function av(t){t=Yy(t);const e=ov(t),n=iv(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Pe({location:"",base:t,go:r,createHref:Zy.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function lv(t){return typeof t=="string"||t&&typeof t=="object"}function $d(t){return typeof t=="string"||typeof t=="symbol"}const Gd=Symbol("");var ah;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ah||(ah={}));function Gr(t,e){return Pe(new Error,{type:t,[Gd]:!0},e)}function gn(t,e){return t instanceof Error&&Gd in t&&(e==null||!!(t.type&e))}const lh="[^/]+?",uv={sensitive:!1,strict:!1,start:!0,end:!0},cv=/[.+*?^${}()[\]/\\]/g;function hv(t,e){const n=Pe({},uv,e),r=[];let s=n.start?"^":"";const i=[];for(const c of t){const f=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let p=0;p<c.length;p++){const m=c[p];let y=40+(n.sensitive?.25:0);if(m.type===0)p||(s+="/"),s+=m.value.replace(cv,"\\$&"),y+=40;else if(m.type===1){const{value:C,repeatable:x,optional:D,regexp:k}=m;i.push({name:C,repeatable:x,optional:D});const F=k||lh;if(F!==lh){y+=10;try{new RegExp(`(${F})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${C}" (${F}): `+q.message)}}let M=x?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;p||(M=D&&c.length<2?`(?:/${M})`:"/"+M),D&&(M+="?"),s+=M,y+=20,D&&(y+=-8),x&&(y+=-20),F===".*"&&(y+=-50)}f.push(y)}r.push(f)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(c){const f=c.match(o),p={};if(!f)return null;for(let m=1;m<f.length;m++){const y=f[m]||"",C=i[m-1];p[C.name]=y&&C.repeatable?y.split("/"):y}return p}function u(c){let f="",p=!1;for(const m of t){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const y of m)if(y.type===0)f+=y.value;else if(y.type===1){const{value:C,repeatable:x,optional:D}=y,k=C in c?c[C]:"";if(Jt(k)&&!x)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const F=Jt(k)?k.join("/"):k;if(!F)if(D)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${C}"`);f+=F}}return f||"/"}return{re:o,score:r,keys:i,parse:l,stringify:u}}function fv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Kd(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=fv(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(uh(r))return 1;if(uh(s))return-1}return s.length-r.length}function uh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const dv={type:0,value:""},pv=/[a-zA-Z0-9_]/;function mv(t){if(!t)return[[]];if(t==="/")return[[dv]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${c}": ${y}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,u,c="",f="";function p(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function m(){c+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(c&&p(),o()):u===":"?(p(),n=1):m();break;case 4:m(),n=r;break;case 1:u==="("?n=2:pv.test(u)?m():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),p(),o(),s}function gv(t,e,n){const r=hv(mv(t.path),n),s=Pe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function _v(t,e){const n=[],r=new Map;e=dh({strict:!1,end:!0,sensitive:!1},e);function s(p){return r.get(p)}function i(p,m,y){const C=!y,x=hh(p);x.aliasOf=y&&y.record;const D=dh(e,p),k=[x];if("alias"in p){const q=typeof p.alias=="string"?[p.alias]:p.alias;for(const W of q)k.push(hh(Pe({},x,{components:y?y.record.components:x.components,path:W,aliasOf:y?y.record:x})))}let F,M;for(const q of k){const{path:W}=q;if(m&&W[0]!=="/"){const re=m.record.path,A=re[re.length-1]==="/"?"":"/";q.path=m.record.path+(W&&A+W)}if(F=gv(q,m,D),y?y.alias.push(F):(M=M||F,M!==F&&M.alias.push(F),C&&p.name&&!fh(F)&&o(p.name)),Qd(F)&&u(F),x.children){const re=x.children;for(let A=0;A<re.length;A++)i(re[A],F,y&&y.children[A])}y=y||F}return M?()=>{o(M)}:Fs}function o(p){if($d(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function l(){return n}function u(p){const m=Ev(p,n);n.splice(m,0,p),p.record.name&&!fh(p)&&r.set(p.record.name,p)}function c(p,m){let y,C={},x,D;if("name"in p&&p.name){if(y=r.get(p.name),!y)throw Gr(1,{location:p});D=y.record.name,C=Pe(ch(m.params,y.keys.filter(M=>!M.optional).concat(y.parent?y.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),p.params&&ch(p.params,y.keys.map(M=>M.name))),x=y.stringify(C)}else if(p.path!=null)x=p.path,y=n.find(M=>M.re.test(x)),y&&(C=y.parse(x),D=y.record.name);else{if(y=m.name?r.get(m.name):n.find(M=>M.re.test(m.path)),!y)throw Gr(1,{location:p,currentLocation:m});D=y.record.name,C=Pe({},m.params,p.params),x=y.stringify(C)}const k=[];let F=y;for(;F;)k.unshift(F.record),F=F.parent;return{name:D,path:x,params:C,matched:k,meta:vv(k)}}t.forEach(p=>i(p));function f(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:f,getRoutes:l,getRecordMatcher:s}}function ch(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function hh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:yv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yv(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function fh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function vv(t){return t.reduce((e,n)=>Pe(e,n.meta),{})}function dh(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ev(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Kd(t,e[i])<0?r=i:n=i+1}const s=wv(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function wv(t){let e=t;for(;e=e.parent;)if(Qd(e)&&Kd(t,e)===0)return e}function Qd({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Tv(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ud," "),o=i.indexOf("="),l=Ws(o<0?i:i.slice(0,o)),u=o<0?null:Ws(i.slice(o+1));if(l in e){let c=e[l];Jt(c)||(c=e[l]=[c]),c.push(u)}else e[l]=u}return e}function ph(t){let e="";for(let n in t){const r=t[n];if(n=qy(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Jt(r)?r.map(i=>i&&Qa(i)):[r&&Qa(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function bv(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Jt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Av=Symbol(""),mh=Symbol(""),No=Symbol(""),ql=Symbol(""),Xa=Symbol("");function Is(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Un(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const c=m=>{m===!1?u(Gr(4,{from:n,to:e})):m instanceof Error?u(m):lv(m)?u(Gr(2,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),l())},f=i(()=>t.call(r&&r.instances[s],e,n,c));let p=Promise.resolve(f);t.length<3&&(p=p.then(c)),p.catch(m=>u(m))})}function Ra(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const l in o.components){let u=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Ld(u)){const f=(u.__vccOpts||u)[e];f&&i.push(Un(f,n,r,o,l,s))}else{let c=u();i.push(()=>c.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const p=Vy(f)?f.default:f;o.mods[l]=f,o.components[l]=p;const y=(p.__vccOpts||p)[e];return y&&Un(y,n,r,o,l,s)()}))}}return i}function gh(t){const e=zt(No),n=zt(ql),r=jt(()=>{const u=oe(t.to);return e.resolve(u)}),s=jt(()=>{const{matched:u}=r.value,{length:c}=u,f=u[c-1],p=n.matched;if(!f||!p.length)return-1;const m=p.findIndex($r.bind(null,f));if(m>-1)return m;const y=_h(u[c-2]);return c>1&&_h(f)===y&&p[p.length-1].path!==y?p.findIndex($r.bind(null,u[c-2])):m}),i=jt(()=>s.value>-1&&Sv(n.params,r.value.params)),o=jt(()=>s.value>-1&&s.value===n.matched.length-1&&zd(n.params,r.value.params));function l(u={}){if(Cv(u)){const c=e[oe(t.replace)?"replace":"push"](oe(t.to)).catch(Fs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:jt(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function Iv(t){return t.length===1?t[0]:t}const Rv=Gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gh,setup(t,{slots:e}){const n=oi(gh(t)),{options:r}=zt(No),s=jt(()=>({[yh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Iv(e.default(n));return t.custom?i:Rt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ce=Rv;function Cv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Sv(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Jt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function _h(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yh=(t,e,n)=>t??e??n,Pv=Gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=zt(Xa),s=jt(()=>t.route||r.value),i=zt(mh,0),o=jt(()=>{let c=oe(i);const{matched:f}=s.value;let p;for(;(p=f[c])&&!p.components;)c++;return c}),l=jt(()=>s.value.matched[o.value]);ji(mh,jt(()=>o.value+1)),ji(Av,l),ji(Xa,s);const u=Pt();return ks(()=>[u.value,l.value,t.name],([c,f,p],[m,y,C])=>{f&&(f.instances[p]=c,y&&y!==f&&c&&c===m&&(f.leaveGuards.size||(f.leaveGuards=y.leaveGuards),f.updateGuards.size||(f.updateGuards=y.updateGuards))),c&&f&&(!y||!$r(f,y)||!m)&&(f.enterCallbacks[p]||[]).forEach(x=>x(c))},{flush:"post"}),()=>{const c=s.value,f=t.name,p=l.value,m=p&&p.components[f];if(!m)return vh(n.default,{Component:m,route:c});const y=p.props[f],C=y?y===!0?c.params:typeof y=="function"?y(c):y:null,D=Rt(m,Pe({},C,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(p.instances[f]=null)},ref:u}));return vh(n.default,{Component:D,route:c})||D}}});function vh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Wd=Pv;function xv(t){const e=_v(t.routes,t),n=t.parseQuery||Tv,r=t.stringifyQuery||ph,s=t.history,i=Is(),o=Is(),l=Is(),u=Mg(kn);let c=kn;xr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Aa.bind(null,O=>""+O),p=Aa.bind(null,Hy),m=Aa.bind(null,Ws);function y(O,J){let X,te;return $d(O)?(X=e.getRecordMatcher(O),te=J):te=O,e.addRoute(te,X)}function C(O){const J=e.getRecordMatcher(O);J&&e.removeRoute(J)}function x(){return e.getRoutes().map(O=>O.record)}function D(O){return!!e.getRecordMatcher(O)}function k(O,J){if(J=Pe({},J||u.value),typeof O=="string"){const P=Ia(n,O,J.path),L=e.resolve({path:P.path},J),z=s.createHref(P.fullPath);return Pe(P,L,{params:m(L.params),hash:Ws(P.hash),redirectedFrom:void 0,href:z})}let X;if(O.path!=null)X=Pe({},O,{path:Ia(n,O.path,J.path).path});else{const P=Pe({},O.params);for(const L in P)P[L]==null&&delete P[L];X=Pe({},O,{params:p(P)}),J.params=p(J.params)}const te=e.resolve(X,J),Ie=O.hash||"";te.params=f(m(te.params));const w=Ky(r,Pe({},O,{hash:jy(Ie),path:te.path})),b=s.createHref(w);return Pe({fullPath:w,hash:Ie,query:r===ph?bv(O.query):O.query||{}},te,{redirectedFrom:void 0,href:b})}function F(O){return typeof O=="string"?Ia(n,O,u.value.path):Pe({},O)}function M(O,J){if(c!==O)return Gr(8,{from:J,to:O})}function q(O){return A(O)}function W(O){return q(Pe(F(O),{replace:!0}))}function re(O){const J=O.matched[O.matched.length-1];if(J&&J.redirect){const{redirect:X}=J;let te=typeof X=="function"?X(O):X;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=F(te):{path:te},te.params={}),Pe({query:O.query,hash:O.hash,params:te.path!=null?{}:O.params},te)}}function A(O,J){const X=c=k(O),te=u.value,Ie=O.state,w=O.force,b=O.replace===!0,P=re(X);if(P)return A(Pe(F(P),{state:typeof P=="object"?Pe({},Ie,P.state):Ie,force:w,replace:b}),J||X);const L=X;L.redirectedFrom=J;let z;return!w&&Qy(r,te,X)&&(z=Gr(16,{to:L,from:te}),Ot(te,te,!0,!1)),(z?Promise.resolve(z):I(L,te)).catch(U=>gn(U)?gn(U,2)?U:Kt(U):ye(U,L,te)).then(U=>{if(U){if(gn(U,2))return A(Pe({replace:b},F(U.to),{state:typeof U.to=="object"?Pe({},Ie,U.to.state):Ie,force:w}),J||L)}else U=S(L,te,!0,b,Ie);return R(L,te,U),U})}function v(O,J){const X=M(O,J);return X?Promise.reject(X):Promise.resolve()}function E(O){const J=xn.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(O):O()}function I(O,J){let X;const[te,Ie,w]=Vv(O,J);X=Ra(te.reverse(),"beforeRouteLeave",O,J);for(const P of te)P.leaveGuards.forEach(L=>{X.push(Un(L,O,J))});const b=v.bind(null,O,J);return X.push(b),At(X).then(()=>{X=[];for(const P of i.list())X.push(Un(P,O,J));return X.push(b),At(X)}).then(()=>{X=Ra(Ie,"beforeRouteUpdate",O,J);for(const P of Ie)P.updateGuards.forEach(L=>{X.push(Un(L,O,J))});return X.push(b),At(X)}).then(()=>{X=[];for(const P of w)if(P.beforeEnter)if(Jt(P.beforeEnter))for(const L of P.beforeEnter)X.push(Un(L,O,J));else X.push(Un(P.beforeEnter,O,J));return X.push(b),At(X)}).then(()=>(O.matched.forEach(P=>P.enterCallbacks={}),X=Ra(w,"beforeRouteEnter",O,J,E),X.push(b),At(X))).then(()=>{X=[];for(const P of o.list())X.push(Un(P,O,J));return X.push(b),At(X)}).catch(P=>gn(P,8)?P:Promise.reject(P))}function R(O,J,X){l.list().forEach(te=>E(()=>te(O,J,X)))}function S(O,J,X,te,Ie){const w=M(O,J);if(w)return w;const b=J===kn,P=xr?history.state:{};X&&(te||b?s.replace(O.fullPath,Pe({scroll:b&&P&&P.scroll},Ie)):s.push(O.fullPath,Ie)),u.value=O,Ot(O,J,X,b),Kt()}let T;function He(){T||(T=s.listen((O,J,X)=>{if(!en.listening)return;const te=k(O),Ie=re(te);if(Ie){A(Pe(Ie,{replace:!0,force:!0}),te).catch(Fs);return}c=te;const w=u.value;xr&&nv(ih(w.fullPath,X.delta),Do()),I(te,w).catch(b=>gn(b,12)?b:gn(b,2)?(A(Pe(F(b.to),{force:!0}),te).then(P=>{gn(P,20)&&!X.delta&&X.type===Xs.pop&&s.go(-1,!1)}).catch(Fs),Promise.reject()):(X.delta&&s.go(-X.delta,!1),ye(b,te,w))).then(b=>{b=b||S(te,w,!1),b&&(X.delta&&!gn(b,8)?s.go(-X.delta,!1):X.type===Xs.pop&&gn(b,20)&&s.go(-1,!1)),R(te,w,b)}).catch(Fs)}))}let Je=Is(),De=Is(),fe;function ye(O,J,X){Kt(O);const te=De.list();return te.length?te.forEach(Ie=>Ie(O,J,X)):console.error(O),Promise.reject(O)}function Vt(){return fe&&u.value!==kn?Promise.resolve():new Promise((O,J)=>{Je.add([O,J])})}function Kt(O){return fe||(fe=!O,He(),Je.list().forEach(([J,X])=>O?X(O):J()),Je.reset()),O}function Ot(O,J,X,te){const{scrollBehavior:Ie}=t;if(!xr||!Ie)return Promise.resolve();const w=!X&&rv(ih(O.fullPath,0))||(te||!X)&&history.state&&history.state.scroll||null;return Ro().then(()=>Ie(O,J,w)).then(b=>b&&tv(b)).catch(b=>ye(b,O,J))}const Be=O=>s.go(O);let je;const xn=new Set,en={currentRoute:u,listening:!0,addRoute:y,removeRoute:C,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:x,resolve:k,options:t,push:q,replace:W,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:De.add,isReady:Vt,install(O){const J=this;O.component("RouterLink",Ce),O.component("RouterView",Wd),O.config.globalProperties.$router=J,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>oe(u)}),xr&&!je&&u.value===kn&&(je=!0,q(s.location).catch(Ie=>{}));const X={};for(const Ie in kn)Object.defineProperty(X,Ie,{get:()=>u.value[Ie],enumerable:!0});O.provide(No,J),O.provide(ql,Gf(X)),O.provide(Xa,u);const te=O.unmount;xn.add(O),O.unmount=function(){xn.delete(O),xn.size<1&&(c=kn,T&&T(),T=null,u.value=kn,je=!1,fe=!1),te()}}};function At(O){return O.reduce((J,X)=>J.then(()=>E(X)),Promise.resolve())}return en}function Vv(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(c=>$r(c,l))?r.push(l):n.push(l));const u=t.matched[o];u&&(e.matched.find(c=>$r(c,u))||s.push(u))}return[n,r,s]}function YA(){return zt(No)}function JA(t){return zt(ql)}const Dv=Gt({__name:"App",setup(t){return(e,n)=>(Ue(),It(oe(Wd)))}}),Nv="modulepreload",Mv=function(t){return"/micondominio/"+t},Eh={},_n=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Mv(u),u in Eh)return;Eh[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Nv,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},kv={class:"overflow-hidden bg-white rounded-lg shadow-lg news-card"},Ov=["src"],Lv={class:"p-4"},Fv={class:"text-xl font-semibold"},Uv={class:"text-sm text-gray-500"},Bv=["href"],jv=Gt({__name:"NewsCard",props:{title:{type:String,default:"Título de la noticia"},href:{type:String,default:"#"},imgUrl:{type:String,default:"https://via.placeholder.com/400x200"},summary:{type:String,default:"Este es el resumen de la noticia. Aquí irá un breve detalle de la noticia."}},setup(t){return(e,n)=>(Ue(),ln("div",kv,[_("img",{src:t.imgUrl,alt:"news image",class:"object-cover w-full h-48"},null,8,Ov),_("div",Lv,[_("h3",Fv,Tn(t.title),1),_("p",Uv,Tn(t.summary),1),_("a",{href:t.href,class:"inline-flex items-center mt-2 text-blue-600 hover:underline"},n[0]||(n[0]=[he(" Leer más "),_("i",{class:"ml-2 fas fa-arrow-right"},null,-1)]),8,Bv)])]))}}),Mo=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},qv=Mo(jv,[["__scopeId","data-v-ea80dbc4"]]),zv={},Hv={class:"loader"};function $v(t,e){return Ue(),ln("div",Hv)}const Gv=Mo(zv,[["render",$v],["__scopeId","data-v-946f025a"]]);var wh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Kv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Yd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|c>>6,y=c&63;u||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Kv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||p==null)throw new Qv;const m=i<<2|l>>4;if(r.push(m),c!==64){const y=l<<4&240|c>>2;if(r.push(y),p!==64){const C=c<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wv=function(t){const e=Xd(t);return Yd.encodeByteArray(e,!0)},oo=function(t){return Wv(t).replace(/\./g,"")},Xv=function(t){try{return Yd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=()=>Yv().__FIREBASE_DEFAULTS__,Zv=()=>{if(typeof process>"u"||typeof wh>"u")return;const t=wh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xv(t[1]);return e&&JSON.parse(e)},ko=()=>{try{return Jv()||Zv()||eE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tE=t=>{var e,n;return(n=(e=ko())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nE=t=>{const e=tE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jd=()=>{var t;return(t=ko())===null||t===void 0?void 0:t.config},ZA=t=>{var e;return(e=ko())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oo(JSON.stringify(n)),oo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zl())}function iE(){var t;const e=(t=ko())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sI(){const t=zl();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oE(){return!iE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aE(){try{return typeof indexedDB=="object"}catch{return!1}}function lE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="FirebaseError";class ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uE,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zd.prototype.create)}}class Zd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?cE(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ns(s,l,r)}}function cE(t,e){return t.replace(hE,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hE=/\{\$([^}]+)}/g;function iI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Th(i)&&Th(o)){if(!Ya(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Th(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aI(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function lI(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uI(t,e){const n=new fE(t,e);return n.subscribe.bind(n)}class fE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dE(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ca),s.error===void 0&&(s.error=Ca),s.complete===void 0&&(s.complete=Ca);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ca(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gE(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mE(t){return t===fr?void 0:t}function gE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const yE={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},vE=be.INFO,EE={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},wE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=EE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=vE,this._logHandler=wE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const TE=(t,e)=>e.some(n=>t instanceof n);let bh,Ah;function bE(){return bh||(bh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AE(){return Ah||(Ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tp=new WeakMap,Ja=new WeakMap,np=new WeakMap,Sa=new WeakMap,Hl=new WeakMap;function IE(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Hn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tp.set(n,t)}).catch(()=>{}),Hl.set(e,t),e}function RE(t){if(Ja.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ja.set(t,e)}let Za={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ja.get(t);if(e==="objectStoreNames")return t.objectStoreNames||np.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CE(t){Za=t(Za)}function SE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pa(this),e,...n);return np.set(r,e.sort?e.sort():[e]),Hn(r)}:AE().includes(t)?function(...e){return t.apply(Pa(this),e),Hn(tp.get(this))}:function(...e){return Hn(t.apply(Pa(this),e))}}function PE(t){return typeof t=="function"?SE(t):(t instanceof IDBTransaction&&RE(t),TE(t,bE())?new Proxy(t,Za):t)}function Hn(t){if(t instanceof IDBRequest)return IE(t);if(Sa.has(t))return Sa.get(t);const e=PE(t);return e!==t&&(Sa.set(t,e),Hl.set(e,t)),e}const Pa=t=>Hl.get(t);function xE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Hn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Hn(o.result),u.oldVersion,u.newVersion,Hn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const VE=["get","getKey","getAll","getAllKeys","count"],DE=["put","add","delete","clear"],xa=new Map;function Ih(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xa.get(e))return xa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VE.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return xa.set(e,i),i}CE(t=>({...t,get:(e,n,r)=>Ih(e,n)||t.get(e,n,r),has:(e,n)=>!!Ih(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ME(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ME(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const el="@firebase/app",Rh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new ep("@firebase/app"),kE="@firebase/app-compat",OE="@firebase/analytics-compat",LE="@firebase/analytics",FE="@firebase/app-check-compat",UE="@firebase/app-check",BE="@firebase/auth",jE="@firebase/auth-compat",qE="@firebase/database",zE="@firebase/data-connect",HE="@firebase/database-compat",$E="@firebase/functions",GE="@firebase/functions-compat",KE="@firebase/installations",QE="@firebase/installations-compat",WE="@firebase/messaging",XE="@firebase/messaging-compat",YE="@firebase/performance",JE="@firebase/performance-compat",ZE="@firebase/remote-config",ew="@firebase/remote-config-compat",tw="@firebase/storage",nw="@firebase/storage-compat",rw="@firebase/firestore",sw="@firebase/vertexai",iw="@firebase/firestore-compat",ow="firebase",aw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="[DEFAULT]",lw={[el]:"fire-core",[kE]:"fire-core-compat",[LE]:"fire-analytics",[OE]:"fire-analytics-compat",[UE]:"fire-app-check",[FE]:"fire-app-check-compat",[BE]:"fire-auth",[jE]:"fire-auth-compat",[qE]:"fire-rtdb",[zE]:"fire-data-connect",[HE]:"fire-rtdb-compat",[$E]:"fire-fn",[GE]:"fire-fn-compat",[KE]:"fire-iid",[QE]:"fire-iid-compat",[WE]:"fire-fcm",[XE]:"fire-fcm-compat",[YE]:"fire-perf",[JE]:"fire-perf-compat",[ZE]:"fire-rc",[ew]:"fire-rc-compat",[tw]:"fire-gcs",[nw]:"fire-gcs-compat",[rw]:"fire-fst",[iw]:"fire-fst-compat",[sw]:"fire-vertex","fire-js":"fire-js",[ow]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Map,uw=new Map,nl=new Map;function Ch(t,e){try{t.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lo(t){const e=t.name;if(nl.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;nl.set(e,t);for(const n of ao.values())Ch(n,t);for(const n of uw.values())Ch(n,t);return!0}function cw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cI(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$n=new Zd("app","Firebase",hw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=aw;function rp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tl,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $n.create("bad-app-name",{appName:String(s)});if(n||(n=Jd()),!n)throw $n.create("no-options");const i=ao.get(s);if(i){if(Ya(n,i.options)&&Ya(r,i.config))return i;throw $n.create("duplicate-app",{appName:s})}const o=new _E(s);for(const u of nl.values())o.addComponent(u);const l=new fw(n,r,o);return ao.set(s,l),l}function pw(t=tl){const e=ao.get(t);if(!e&&t===tl&&Jd())return rp();if(!e)throw $n.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let s=(r=lw[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(l.join(" "));return}lo(new Ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebase-heartbeat-database",gw=1,Js="firebase-heartbeat-store";let Va=null;function sp(){return Va||(Va=xE(mw,gw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Js)}catch(n){console.warn(n)}}}}).catch(t=>{throw $n.create("idb-open",{originalErrorMessage:t.message})})),Va}async function _w(t){try{const n=(await sp()).transaction(Js),r=await n.objectStore(Js).get(ip(t));return await n.done,r}catch(e){if(e instanceof ns)In.warn(e.message);else{const n=$n.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});In.warn(n.message)}}}async function Sh(t,e){try{const r=(await sp()).transaction(Js,"readwrite");await r.objectStore(Js).put(e,ip(t)),await r.done}catch(n){if(n instanceof ns)In.warn(n.message);else{const r=$n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});In.warn(r.message)}}}function ip(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=1024,vw=30*24*60*60*1e3;class Ew{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ph();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=vw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){In.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ph(),{heartbeatsToSend:r,unsentEntries:s}=ww(this._heartbeatsCache.heartbeats),i=oo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return In.warn(n),""}}}function Ph(){return new Date().toISOString().substring(0,10)}function ww(t,e=yw){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),xh(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Tw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aE()?lE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _w(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xh(t){return oo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){lo(new Ys("platform-logger",e=>new NE(e),"PRIVATE")),lo(new Ys("heartbeat",e=>new Ew(e),"PRIVATE")),Br(el,Rh,t),Br(el,Rh,"esm2017"),Br("fire-js","")}bw("");var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,op;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,v){function E(){}E.prototype=v.prototype,A.D=v.prototype,A.prototype=new E,A.prototype.constructor=A,A.C=function(I,R,S){for(var T=Array(arguments.length-2),He=2;He<arguments.length;He++)T[He-2]=arguments[He];return v.prototype[R].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)I[R]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(R=0;16>R;++R)I[R]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=A.g[0],E=A.g[1],R=A.g[2];var S=A.g[3],T=v+(S^E&(R^S))+I[0]+3614090360&4294967295;v=E+(T<<7&4294967295|T>>>25),T=S+(R^v&(E^R))+I[1]+3905402710&4294967295,S=v+(T<<12&4294967295|T>>>20),T=R+(E^S&(v^E))+I[2]+606105819&4294967295,R=S+(T<<17&4294967295|T>>>15),T=E+(v^R&(S^v))+I[3]+3250441966&4294967295,E=R+(T<<22&4294967295|T>>>10),T=v+(S^E&(R^S))+I[4]+4118548399&4294967295,v=E+(T<<7&4294967295|T>>>25),T=S+(R^v&(E^R))+I[5]+1200080426&4294967295,S=v+(T<<12&4294967295|T>>>20),T=R+(E^S&(v^E))+I[6]+2821735955&4294967295,R=S+(T<<17&4294967295|T>>>15),T=E+(v^R&(S^v))+I[7]+4249261313&4294967295,E=R+(T<<22&4294967295|T>>>10),T=v+(S^E&(R^S))+I[8]+1770035416&4294967295,v=E+(T<<7&4294967295|T>>>25),T=S+(R^v&(E^R))+I[9]+2336552879&4294967295,S=v+(T<<12&4294967295|T>>>20),T=R+(E^S&(v^E))+I[10]+4294925233&4294967295,R=S+(T<<17&4294967295|T>>>15),T=E+(v^R&(S^v))+I[11]+2304563134&4294967295,E=R+(T<<22&4294967295|T>>>10),T=v+(S^E&(R^S))+I[12]+1804603682&4294967295,v=E+(T<<7&4294967295|T>>>25),T=S+(R^v&(E^R))+I[13]+4254626195&4294967295,S=v+(T<<12&4294967295|T>>>20),T=R+(E^S&(v^E))+I[14]+2792965006&4294967295,R=S+(T<<17&4294967295|T>>>15),T=E+(v^R&(S^v))+I[15]+1236535329&4294967295,E=R+(T<<22&4294967295|T>>>10),T=v+(R^S&(E^R))+I[1]+4129170786&4294967295,v=E+(T<<5&4294967295|T>>>27),T=S+(E^R&(v^E))+I[6]+3225465664&4294967295,S=v+(T<<9&4294967295|T>>>23),T=R+(v^E&(S^v))+I[11]+643717713&4294967295,R=S+(T<<14&4294967295|T>>>18),T=E+(S^v&(R^S))+I[0]+3921069994&4294967295,E=R+(T<<20&4294967295|T>>>12),T=v+(R^S&(E^R))+I[5]+3593408605&4294967295,v=E+(T<<5&4294967295|T>>>27),T=S+(E^R&(v^E))+I[10]+38016083&4294967295,S=v+(T<<9&4294967295|T>>>23),T=R+(v^E&(S^v))+I[15]+3634488961&4294967295,R=S+(T<<14&4294967295|T>>>18),T=E+(S^v&(R^S))+I[4]+3889429448&4294967295,E=R+(T<<20&4294967295|T>>>12),T=v+(R^S&(E^R))+I[9]+568446438&4294967295,v=E+(T<<5&4294967295|T>>>27),T=S+(E^R&(v^E))+I[14]+3275163606&4294967295,S=v+(T<<9&4294967295|T>>>23),T=R+(v^E&(S^v))+I[3]+4107603335&4294967295,R=S+(T<<14&4294967295|T>>>18),T=E+(S^v&(R^S))+I[8]+1163531501&4294967295,E=R+(T<<20&4294967295|T>>>12),T=v+(R^S&(E^R))+I[13]+2850285829&4294967295,v=E+(T<<5&4294967295|T>>>27),T=S+(E^R&(v^E))+I[2]+4243563512&4294967295,S=v+(T<<9&4294967295|T>>>23),T=R+(v^E&(S^v))+I[7]+1735328473&4294967295,R=S+(T<<14&4294967295|T>>>18),T=E+(S^v&(R^S))+I[12]+2368359562&4294967295,E=R+(T<<20&4294967295|T>>>12),T=v+(E^R^S)+I[5]+4294588738&4294967295,v=E+(T<<4&4294967295|T>>>28),T=S+(v^E^R)+I[8]+2272392833&4294967295,S=v+(T<<11&4294967295|T>>>21),T=R+(S^v^E)+I[11]+1839030562&4294967295,R=S+(T<<16&4294967295|T>>>16),T=E+(R^S^v)+I[14]+4259657740&4294967295,E=R+(T<<23&4294967295|T>>>9),T=v+(E^R^S)+I[1]+2763975236&4294967295,v=E+(T<<4&4294967295|T>>>28),T=S+(v^E^R)+I[4]+1272893353&4294967295,S=v+(T<<11&4294967295|T>>>21),T=R+(S^v^E)+I[7]+4139469664&4294967295,R=S+(T<<16&4294967295|T>>>16),T=E+(R^S^v)+I[10]+3200236656&4294967295,E=R+(T<<23&4294967295|T>>>9),T=v+(E^R^S)+I[13]+681279174&4294967295,v=E+(T<<4&4294967295|T>>>28),T=S+(v^E^R)+I[0]+3936430074&4294967295,S=v+(T<<11&4294967295|T>>>21),T=R+(S^v^E)+I[3]+3572445317&4294967295,R=S+(T<<16&4294967295|T>>>16),T=E+(R^S^v)+I[6]+76029189&4294967295,E=R+(T<<23&4294967295|T>>>9),T=v+(E^R^S)+I[9]+3654602809&4294967295,v=E+(T<<4&4294967295|T>>>28),T=S+(v^E^R)+I[12]+3873151461&4294967295,S=v+(T<<11&4294967295|T>>>21),T=R+(S^v^E)+I[15]+530742520&4294967295,R=S+(T<<16&4294967295|T>>>16),T=E+(R^S^v)+I[2]+3299628645&4294967295,E=R+(T<<23&4294967295|T>>>9),T=v+(R^(E|~S))+I[0]+4096336452&4294967295,v=E+(T<<6&4294967295|T>>>26),T=S+(E^(v|~R))+I[7]+1126891415&4294967295,S=v+(T<<10&4294967295|T>>>22),T=R+(v^(S|~E))+I[14]+2878612391&4294967295,R=S+(T<<15&4294967295|T>>>17),T=E+(S^(R|~v))+I[5]+4237533241&4294967295,E=R+(T<<21&4294967295|T>>>11),T=v+(R^(E|~S))+I[12]+1700485571&4294967295,v=E+(T<<6&4294967295|T>>>26),T=S+(E^(v|~R))+I[3]+2399980690&4294967295,S=v+(T<<10&4294967295|T>>>22),T=R+(v^(S|~E))+I[10]+4293915773&4294967295,R=S+(T<<15&4294967295|T>>>17),T=E+(S^(R|~v))+I[1]+2240044497&4294967295,E=R+(T<<21&4294967295|T>>>11),T=v+(R^(E|~S))+I[8]+1873313359&4294967295,v=E+(T<<6&4294967295|T>>>26),T=S+(E^(v|~R))+I[15]+4264355552&4294967295,S=v+(T<<10&4294967295|T>>>22),T=R+(v^(S|~E))+I[6]+2734768916&4294967295,R=S+(T<<15&4294967295|T>>>17),T=E+(S^(R|~v))+I[13]+1309151649&4294967295,E=R+(T<<21&4294967295|T>>>11),T=v+(R^(E|~S))+I[4]+4149444226&4294967295,v=E+(T<<6&4294967295|T>>>26),T=S+(E^(v|~R))+I[11]+3174756917&4294967295,S=v+(T<<10&4294967295|T>>>22),T=R+(v^(S|~E))+I[2]+718787259&4294967295,R=S+(T<<15&4294967295|T>>>17),T=E+(S^(R|~v))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+v&4294967295,A.g[1]=A.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+S&4294967295}r.prototype.u=function(A,v){v===void 0&&(v=A.length);for(var E=v-this.blockSize,I=this.B,R=this.h,S=0;S<v;){if(R==0)for(;S<=E;)s(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<v;)if(I[R++]=A.charCodeAt(S++),R==this.blockSize){s(this,I),R=0;break}}else for(;S<v;)if(I[R++]=A[S++],R==this.blockSize){s(this,I),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var v=1;v<A.length-8;++v)A[v]=0;var E=8*this.o;for(v=A.length-8;v<A.length;++v)A[v]=E&255,E/=256;for(this.u(A),A=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)A[E++]=this.g[v]>>>I&255;return A};function i(A,v){var E=l;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=v(A)}function o(A,v){this.h=v;for(var E=[],I=!0,R=A.length-1;0<=R;R--){var S=A[R]|0;I&&S==v||(E[R]=S,I=!1)}this.g=E}var l={};function u(A){return-128<=A&&128>A?i(A,function(v){return new o([v|0],0>v?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return D(c(-A));for(var v=[],E=1,I=0;A>=E;I++)v[I]=A/E|0,E*=4294967296;return new o(v,0)}function f(A,v){if(A.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(A.charAt(0)=="-")return D(f(A.substring(1),v));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(v,8)),I=p,R=0;R<A.length;R+=8){var S=Math.min(8,A.length-R),T=parseInt(A.substring(R,R+S),v);8>S?(S=c(Math.pow(v,S)),I=I.j(S).add(c(T))):(I=I.j(E),I=I.add(c(T)))}return I}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-D(this).m();for(var A=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);A+=(0<=I?I:4294967296+I)*v,v*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(x(this))return"-"+D(this).toString(A);for(var v=c(Math.pow(A,6)),E=this,I="";;){var R=q(E,v).g;E=k(E,R.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(A);if(E=R,C(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(var v=0;v<A.g.length;v++)if(A.g[v]!=0)return!1;return!0}function x(A){return A.h==-1}t.l=function(A){return A=k(this,A),x(A)?-1:C(A)?0:1};function D(A){for(var v=A.g.length,E=[],I=0;I<v;I++)E[I]=~A.g[I];return new o(E,~A.h).add(m)}t.abs=function(){return x(this)?D(this):this},t.add=function(A){for(var v=Math.max(this.g.length,A.g.length),E=[],I=0,R=0;R<=v;R++){var S=I+(this.i(R)&65535)+(A.i(R)&65535),T=(S>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);I=T>>>16,S&=65535,T&=65535,E[R]=T<<16|S}return new o(E,E[E.length-1]&-2147483648?-1:0)};function k(A,v){return A.add(D(v))}t.j=function(A){if(C(this)||C(A))return p;if(x(this))return x(A)?D(this).j(D(A)):D(D(this).j(A));if(x(A))return D(this.j(D(A)));if(0>this.l(y)&&0>A.l(y))return c(this.m()*A.m());for(var v=this.g.length+A.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<A.g.length;R++){var S=this.i(I)>>>16,T=this.i(I)&65535,He=A.i(R)>>>16,Je=A.i(R)&65535;E[2*I+2*R]+=T*Je,F(E,2*I+2*R),E[2*I+2*R+1]+=S*Je,F(E,2*I+2*R+1),E[2*I+2*R+1]+=T*He,F(E,2*I+2*R+1),E[2*I+2*R+2]+=S*He,F(E,2*I+2*R+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new o(E,0)};function F(A,v){for(;(A[v]&65535)!=A[v];)A[v+1]+=A[v]>>>16,A[v]&=65535,v++}function M(A,v){this.g=A,this.h=v}function q(A,v){if(C(v))throw Error("division by zero");if(C(A))return new M(p,p);if(x(A))return v=q(D(A),v),new M(D(v.g),D(v.h));if(x(v))return v=q(A,D(v)),new M(D(v.g),v.h);if(30<A.g.length){if(x(A)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(A);)E=W(E),I=W(I);var R=re(E,1),S=re(I,1);for(I=re(I,2),E=re(E,2);!C(I);){var T=S.add(I);0>=T.l(A)&&(R=R.add(E),S=T),I=re(I,1),E=re(E,1)}return v=k(A,R.j(v)),new M(R,v)}for(R=p;0<=A.l(v);){for(E=Math.max(1,Math.floor(A.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=c(E),T=S.j(v);x(T)||0<T.l(A);)E-=I,S=c(E),T=S.j(v);C(S)&&(S=m),R=R.add(S),A=k(A,T)}return new M(R,A)}t.A=function(A){return q(this,A).h},t.and=function(A){for(var v=Math.max(this.g.length,A.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&A.i(I);return new o(E,this.h&A.h)},t.or=function(A){for(var v=Math.max(this.g.length,A.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|A.i(I);return new o(E,this.h|A.h)},t.xor=function(A){for(var v=Math.max(this.g.length,A.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^A.i(I);return new o(E,this.h^A.h)};function W(A){for(var v=A.g.length+1,E=[],I=0;I<v;I++)E[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(E,A.h)}function re(A,v){var E=v>>5;v%=32;for(var I=A.g.length-E,R=[],S=0;S<I;S++)R[S]=0<v?A.i(S+E)>>>v|A.i(S+E+1)<<32-v:A.i(S+E);return new o(R,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,op=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,gr=o}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});var ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ap,Cs,lp,$i,rl,up,cp,hp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ki=="object"&&ki];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var d=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var V=a[g];if(!(V in d))break e;d=d[V]}a=a[a.length-1],g=d[a],h=h(g),h!=g&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function i(a,h){a instanceof String&&(a+="");var d=0,g=!1,V={next:function(){if(!g&&d<a.length){var N=d++;return{value:h(N,a[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(a){return a||function(){return i(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,g),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function m(a,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(g,V,N){for(var K=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)K[Ne-2]=arguments[Ne];return h.prototype[V].apply(g,K)}}function x(a){const h=a.length;if(0<h){const d=Array(h);for(let g=0;g<h;g++)d[g]=a[g];return d}return[]}function D(a,h){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(u(g)){const V=a.length||0,N=g.length||0;a.length=V+N;for(let K=0;K<N;K++)a[V+K]=g[K]}else a.push(g)}}class k{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function F(a){return/^[\s\xa0]*$/.test(a)}function M(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function q(a){return q[" "](a),a}q[" "]=function(){};var W=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function re(a,h,d){for(const g in a)h.call(d,a[g],g,a)}function A(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function v(a){const h={};for(const d in a)h[d]=a[d];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,h){let d,g;for(let V=1;V<arguments.length;V++){g=arguments[V];for(d in g)a[d]=g[d];for(let N=0;N<E.length;N++)d=E[N],Object.prototype.hasOwnProperty.call(g,d)&&(a[d]=g[d])}}function R(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function S(a){l.setTimeout(()=>{throw a},0)}function T(){var a=Vt;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class He{constructor(){this.h=this.g=null}add(h,d){const g=Je.get();g.set(h,d),this.h?this.h.next=g:this.g=g,this.h=g}}var Je=new k(()=>new De,a=>a.reset());class De{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ye=!1,Vt=new He,Kt=()=>{const a=l.Promise.resolve(void 0);fe=()=>{a.then(Ot)}};var Ot=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(d){S(d)}var h=Je;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}ye=!1};function Be(){this.s=this.s,this.C=this.C}Be.prototype.s=!1,Be.prototype.ma=function(){this.s||(this.s=!0,this.N())},Be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var xn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function en(a,h){if(je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(W){e:{try{q(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:At[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&en.aa.h.call(this)}}C(en,je);var At={2:"touch",3:"pen",4:"mouse"};en.prototype.h=function(){en.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var O="closure_listenable_"+(1e6*Math.random()|0),J=0;function X(a,h,d,g,V){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!g,this.ha=V,this.key=++J,this.da=this.fa=!1}function te(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ie(a){this.src=a,this.g={},this.h=0}Ie.prototype.add=function(a,h,d,g,V){var N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);var K=b(a,h,g,V);return-1<K?(h=a[K],d||(h.fa=!1)):(h=new X(h,this.src,N,!!g,V),h.fa=d,a.push(h)),h};function w(a,h){var d=h.type;if(d in a.g){var g=a.g[d],V=Array.prototype.indexOf.call(g,h,void 0),N;(N=0<=V)&&Array.prototype.splice.call(g,V,1),N&&(te(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function b(a,h,d,g){for(var V=0;V<a.length;++V){var N=a[V];if(!N.da&&N.listener==h&&N.capture==!!d&&N.ha==g)return V}return-1}var P="closure_lm_"+(1e6*Math.random()|0),L={};function z(a,h,d,g,V){if(Array.isArray(h)){for(var N=0;N<h.length;N++)z(a,h[N],d,g,V);return null}return d=ce(d),a&&a[O]?a.K(h,d,c(g)?!!g.capture:!1,V):U(a,h,d,!1,g,V)}function U(a,h,d,g,V,N){if(!h)throw Error("Invalid event type");var K=c(V)?!!V.capture:!!V,Ne=Y(a);if(Ne||(a[P]=Ne=new Ie(a)),d=Ne.add(h,d,g,K,N),d.proxy)return d;if(g=Q(),d.proxy=g,g.src=a,g.listener=d,a.addEventListener)xn||(V=K),V===void 0&&(V=!1),a.addEventListener(h.toString(),g,V);else if(a.attachEvent)a.attachEvent(H(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Q(){function a(d){return h.call(a.src,a.listener,d)}const h=ae;return a}function G(a,h,d,g,V){if(Array.isArray(h))for(var N=0;N<h.length;N++)G(a,h[N],d,g,V);else g=c(g)?!!g.capture:!!g,d=ce(d),a&&a[O]?(a=a.i,h=String(h).toString(),h in a.g&&(N=a.g[h],d=b(N,d,g,V),-1<d&&(te(N[d]),Array.prototype.splice.call(N,d,1),N.length==0&&(delete a.g[h],a.h--)))):a&&(a=Y(a))&&(h=a.g[h.toString()],a=-1,h&&(a=b(h,d,g,V)),(d=-1<a?h[a]:null)&&$(d))}function $(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[O])w(h.i,a);else{var d=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(d,g,a.capture):h.detachEvent?h.detachEvent(H(d),g):h.addListener&&h.removeListener&&h.removeListener(g),(d=Y(h))?(w(d,a),d.h==0&&(d.src=null,h[P]=null)):te(a)}}}function H(a){return a in L?L[a]:L[a]="on"+a}function ae(a,h){if(a.da)a=!0;else{h=new en(h,this);var d=a.listener,g=a.ha||a.src;a.fa&&$(a),a=d.call(g,h)}return a}function Y(a){return a=a[P],a instanceof Ie?a:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(a){return typeof a=="function"?a:(a[ne]||(a[ne]=function(h){return a.handleEvent(h)}),a[ne])}function le(){Be.call(this),this.i=new Ie(this),this.M=this,this.F=null}C(le,Be),le.prototype[O]=!0,le.prototype.removeEventListener=function(a,h,d,g){G(this,a,h,d,g)};function _e(a,h){var d,g=a.F;if(g)for(d=[];g;g=g.F)d.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new je(h,a);else if(h instanceof je)h.target=h.target||a;else{var V=h;h=new je(g,a),I(h,V)}if(V=!0,d)for(var N=d.length-1;0<=N;N--){var K=h.g=d[N];V=we(K,g,!0,h)&&V}if(K=h.g=a,V=we(K,g,!0,h)&&V,V=we(K,g,!1,h)&&V,d)for(N=0;N<d.length;N++)K=h.g=d[N],V=we(K,g,!1,h)&&V}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],g=0;g<d.length;g++)te(d[g]);delete a.g[h],a.h--}}this.F=null},le.prototype.K=function(a,h,d,g){return this.i.add(String(a),h,!1,d,g)},le.prototype.L=function(a,h,d,g){return this.i.add(String(a),h,!0,d,g)};function we(a,h,d,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,N=0;N<h.length;++N){var K=h[N];if(K&&!K.da&&K.capture==d){var Ne=K.listener,it=K.ha||K.src;K.fa&&w(a.i,K),V=Ne.call(it,g)!==!1&&V}}return V&&!g.defaultPrevented}function ut(a,h,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function rt(a){a.g=ut(()=>{a.g=null,a.i&&(a.i=!1,rt(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Lt extends Be{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:rt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ct(a){Be.call(this),this.h=a,this.g={}}C(ct,Be);var Vn=[];function us(a){re(a.g,function(h,d){this.g.hasOwnProperty(d)&&$(h)},a),a.g={}}ct.prototype.N=function(){ct.aa.N.call(this),us(this)},ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=l.JSON.stringify,Ft=l.JSON.parse,gi=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Jo(){}Jo.prototype.h=null;function xu(a){return a.h||(a.h=a.i())}function Vu(){}var cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zo(){je.call(this,"d")}C(Zo,je);function ea(){je.call(this,"c")}C(ea,je);var ir={},Du=null;function _i(){return Du=Du||new le}ir.La="serverreachability";function Nu(a){je.call(this,ir.La,a)}C(Nu,je);function hs(a){const h=_i();_e(h,new Nu(h))}ir.STAT_EVENT="statevent";function Mu(a,h){je.call(this,ir.STAT_EVENT,a),this.stat=h}C(Mu,je);function vt(a){const h=_i();_e(h,new Mu(h,a))}ir.Ma="timingevent";function ku(a,h){je.call(this,ir.Ma,a),this.size=h}C(ku,je);function fs(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function ds(){this.g=!0}ds.prototype.xa=function(){this.g=!1};function Nm(a,h,d,g,V,N){a.info(function(){if(a.g)if(N)for(var K="",Ne=N.split("&"),it=0;it<Ne.length;it++){var Re=Ne[it].split("=");if(1<Re.length){var ht=Re[0];Re=Re[1];var ft=ht.split("_");K=2<=ft.length&&ft[1]=="type"?K+(ht+"="+Re+"&"):K+(ht+"=redacted&")}}else K=null;else K=N;return"XMLHTTP REQ ("+g+") [attempt "+V+"]: "+h+`
`+d+`
`+K})}function Mm(a,h,d,g,V,N,K){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+V+"]: "+h+`
`+d+`
`+N+" "+K})}function br(a,h,d,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Om(a,d)+(g?" "+g:"")})}function km(a,h){a.info(function(){return"TIMEOUT: "+h})}ds.prototype.info=function(){};function Om(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var g=d[a];if(!(2>g.length)){var V=g[1];if(Array.isArray(V)&&!(1>V.length)){var N=V[0];if(N!="noop"&&N!="stop"&&N!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return st(d)}catch{return h}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ta;function vi(){}C(vi,Jo),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},ta=new vi;function Dn(a,h,d,g){this.j=a,this.i=h,this.l=d,this.R=g||1,this.U=new ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lu}function Lu(){this.i=null,this.g="",this.h=!1}var Fu={},na={};function ra(a,h,d){a.L=1,a.v=bi(dn(h)),a.m=d,a.P=!0,Uu(a,null)}function Uu(a,h){a.F=Date.now(),Ei(a),a.A=dn(a.v);var d=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Zu(d.i,"t",g),a.C=0,d=a.j.J,a.h=new Lu,a.g=_c(a.j,d?h:null,!a.m),0<a.O&&(a.M=new Lt(m(a.Y,a,a.g),a.O)),h=a.U,d=a.g,g=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Vn[0]=V.toString()),V=Vn);for(var N=0;N<V.length;N++){var K=z(d,V[N],g||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),hs(),Nm(a.i,a.u,a.A,a.l,a.R,a.m)}Dn.prototype.ca=function(a){a=a.target;const h=this.M;h&&pn(a)==3?h.j():this.Y(a)},Dn.prototype.Y=function(a){try{if(a==this.g)e:{const ft=pn(this.g);var h=this.g.Ba();const Rr=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||ft!=4||h==7||(h==8||0>=Rr?hs(3):hs(2)),sa(this);var d=this.g.Z();this.X=d;t:if(Bu(this)){var g=oc(this.g);a="";var V=g.length,N=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){or(this),ps(this);var K="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(g[h],{stream:!(N&&h==V-1)});g.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=d==200,Mm(this.i,this.u,this.A,this.l,this.R,ft,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,it=this.g;if((Ne=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ne)){var Re=Ne;break t}}Re=null}if(d=Re)br(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ia(this,d);else{this.o=!1,this.s=3,vt(12),or(this),ps(this);break e}}if(this.P){d=!0;let Qt;for(;!this.J&&this.C<K.length;)if(Qt=Lm(this,K),Qt==na){ft==4&&(this.s=4,vt(14),d=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Fu){this.s=4,vt(15),br(this.i,this.l,K,"[Invalid Chunk]"),d=!1;break}else br(this.i,this.l,Qt,null),ia(this,Qt);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||K.length!=0||this.h.h||(this.s=1,vt(16),d=!1),this.o=this.o&&d,!d)br(this.i,this.l,K,"[Invalid Chunked Response]"),or(this),ps(this);else if(0<K.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),ha(ht),ht.M=!0,vt(11))}}else br(this.i,this.l,K,null),ia(this,K);ft==4&&or(this),this.o&&!this.J&&(ft==4?dc(this.j,this):(this.o=!1,Ei(this)))}else eg(this.g),d==400&&0<K.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),or(this),ps(this)}}}catch{}finally{}};function Bu(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Lm(a,h){var d=a.C,g=h.indexOf(`
`,d);return g==-1?na:(d=Number(h.substring(d,g)),isNaN(d)?Fu:(g+=1,g+d>h.length?na:(h=h.slice(g,g+d),a.C=g+d,h)))}Dn.prototype.cancel=function(){this.J=!0,or(this)};function Ei(a){a.S=Date.now()+a.I,ju(a,a.I)}function ju(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=fs(m(a.ba,a),h)}function sa(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Dn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(km(this.i,this.A),this.L!=2&&(hs(),vt(17)),or(this),this.s=2,ps(this)):ju(this,this.S-a)};function ps(a){a.j.G==0||a.J||dc(a.j,a)}function or(a){sa(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,us(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function ia(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||oa(d.h,a))){if(!a.K&&oa(d.h,a)&&d.G==3){try{var g=d.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var V=g;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Pi(d),Ci(d);else break e;ca(d),vt(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=fs(m(d.Za,d),6e3));if(1>=Hu(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else lr(d,11)}else if((a.K||d.g==a)&&Pi(d),!F(h))for(V=d.Da.g.parse(h),h=0;h<V.length;h++){let Re=V[h];if(d.T=Re[0],Re=Re[1],d.G==2)if(Re[0]=="c"){d.K=Re[1],d.ia=Re[2];const ht=Re[3];ht!=null&&(d.la=ht,d.j.info("VER="+d.la));const ft=Re[4];ft!=null&&(d.Aa=ft,d.j.info("SVER="+d.Aa));const Rr=Re[5];Rr!=null&&typeof Rr=="number"&&0<Rr&&(g=1.5*Rr,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const Qt=a.g;if(Qt){const Vi=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var N=g.h;N.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(aa(N,N.h),N.h=null))}if(g.D){const fa=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(g.ya=fa,Le(g.I,g.D,fa))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var K=a;if(g.qa=gc(g,g.J?g.ia:null,g.W),K.K){$u(g.h,K);var Ne=K,it=g.L;it&&(Ne.I=it),Ne.B&&(sa(Ne),Ei(Ne)),g.g=K}else hc(g);0<d.i.length&&Si(d)}else Re[0]!="stop"&&Re[0]!="close"||lr(d,7);else d.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?lr(d,7):ua(d):Re[0]!="noop"&&d.l&&d.l.ta(Re),d.v=0)}}hs(4)}catch{}}var Fm=class{constructor(a,h){this.g=a,this.map=h}};function qu(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zu(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Hu(a){return a.h?1:a.g?a.g.size:0}function oa(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function aa(a,h){a.g?a.g.add(h):a.h=h}function $u(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}qu.prototype.cancel=function(){if(this.i=Gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Gu(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return x(a.i)}function Um(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,g=0;g<d;g++)h.push(a[g]);return h}h=[],d=0;for(g in a)h[d++]=a[g];return h}function Bm(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const g in a)h[d++]=g;return h}}}function Ku(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=Bm(a),g=Um(a),V=g.length,N=0;N<V;N++)h.call(void 0,g[N],d&&d[N],a)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jm(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var g=a[d].indexOf("="),V=null;if(0<=g){var N=a[d].substring(0,g);V=a[d].substring(g+1)}else N=a[d];h(N,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ar(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ar){this.h=a.h,wi(this,a.j),this.o=a.o,this.g=a.g,Ti(this,a.s),this.l=a.l;var h=a.i,d=new _s;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Wu(this,d),this.m=a.m}else a&&(h=String(a).match(Qu))?(this.h=!1,wi(this,h[1]||"",!0),this.o=ms(h[2]||""),this.g=ms(h[3]||"",!0),Ti(this,h[4]),this.l=ms(h[5]||"",!0),Wu(this,h[6]||"",!0),this.m=ms(h[7]||"")):(this.h=!1,this.i=new _s(null,this.h))}ar.prototype.toString=function(){var a=[],h=this.j;h&&a.push(gs(h,Xu,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(gs(h,Xu,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(gs(d,d.charAt(0)=="/"?Hm:zm,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",gs(d,Gm)),a.join("")};function dn(a){return new ar(a)}function wi(a,h,d){a.j=d?ms(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ti(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Wu(a,h,d){h instanceof _s?(a.i=h,Km(a.i,a.h)):(d||(h=gs(h,$m)),a.i=new _s(h,a.h))}function Le(a,h,d){a.i.set(h,d)}function bi(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ms(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function gs(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,qm),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qm(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xu=/[#\/\?@]/g,zm=/[#\?:]/g,Hm=/[#\?]/g,$m=/[#\?@]/g,Gm=/#/g;function _s(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Nn(a){a.g||(a.g=new Map,a.h=0,a.i&&jm(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=_s.prototype,t.add=function(a,h){Nn(this),this.i=null,a=Ar(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function Yu(a,h){Nn(a),h=Ar(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Ju(a,h){return Nn(a),h=Ar(a,h),a.g.has(h)}t.forEach=function(a,h){Nn(this),this.g.forEach(function(d,g){d.forEach(function(V){a.call(h,V,g,this)},this)},this)},t.na=function(){Nn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let g=0;g<h.length;g++){const V=a[g];for(let N=0;N<V.length;N++)d.push(h[g])}return d},t.V=function(a){Nn(this);let h=[];if(typeof a=="string")Ju(this,a)&&(h=h.concat(this.g.get(Ar(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return Nn(this),this.i=null,a=Ar(this,a),Ju(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Zu(a,h,d){Yu(a,h),0<d.length&&(a.i=null,a.g.set(Ar(a,h),x(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var g=h[d];const N=encodeURIComponent(String(g)),K=this.V(g);for(g=0;g<K.length;g++){var V=N;K[g]!==""&&(V+="="+encodeURIComponent(String(K[g]))),a.push(V)}}return this.i=a.join("&")};function Ar(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Km(a,h){h&&!a.j&&(Nn(a),a.i=null,a.g.forEach(function(d,g){var V=g.toLowerCase();g!=V&&(Yu(this,g),Zu(this,V,d))},a)),a.j=h}function Qm(a,h){const d=new ds;if(l.Image){const g=new Image;g.onload=y(Mn,d,"TestLoadImage: loaded",!0,h,g),g.onerror=y(Mn,d,"TestLoadImage: error",!1,h,g),g.onabort=y(Mn,d,"TestLoadImage: abort",!1,h,g),g.ontimeout=y(Mn,d,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function Wm(a,h){const d=new ds,g=new AbortController,V=setTimeout(()=>{g.abort(),Mn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(N=>{clearTimeout(V),N.ok?Mn(d,"TestPingServer: ok",!0,h):Mn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Mn(d,"TestPingServer: error",!1,h)})}function Mn(a,h,d,g,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),g(d)}catch{}}function Xm(){this.g=new gi}function Ym(a,h,d){const g=d||"";try{Ku(a,function(V,N){let K=V;c(V)&&(K=st(V)),h.push(g+N+"="+encodeURIComponent(K))})}catch(V){throw h.push(g+"type="+encodeURIComponent("_badmap")),V}}function Ai(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Ai,Jo),Ai.prototype.g=function(){return new Ii(this.l,this.j)},Ai.prototype.i=function(a){return function(){return a}}({});function Ii(a,h){le.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ii,le),t=Ii.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,vs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ec(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ec(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?ys(this):vs(this),this.readyState==3&&ec(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ys(this))},t.Qa=function(a){this.g&&(this.response=a,ys(this))},t.ga=function(){this.g&&ys(this)};function ys(a){a.readyState=4,a.l=null,a.j=null,a.v=null,vs(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function vs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tc(a){let h="";return re(a,function(d,g){h+=g,h+=":",h+=d,h+=`\r
`}),h}function la(a,h,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=tc(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Le(a,h,d))}function ze(a){le.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ze,le);var Jm=/^https?$/i,Zm=["POST","PUT"];t=ze.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ta.g(),this.v=this.o?xu(this.o):xu(ta),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(N){nc(this,N);return}if(a=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var V in g)d.set(V,g[V]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const N of g.keys())d.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(N=>N.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Zm,h,void 0))||g||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,K]of d)this.g.setRequestHeader(N,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ic(this),this.u=!0,this.g.send(a),this.u=!1}catch(N){nc(this,N)}};function nc(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,rc(a),Ri(a)}function rc(a){a.A||(a.A=!0,_e(a,"complete"),_e(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,_e(this,"complete"),_e(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sc(this):this.bb())},t.bb=function(){sc(this)};function sc(a){if(a.h&&typeof o<"u"&&(!a.v[1]||pn(a)!=4||a.Z()!=2)){if(a.u&&pn(a)==4)ut(a.Ea,0,a);else if(_e(a,"readystatechange"),pn(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var g;if(g=K===0){var V=String(a.D).match(Qu)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),g=!Jm.test(V?V.toLowerCase():"")}d=g}if(d)_e(a,"complete"),_e(a,"success");else{a.m=6;try{var N=2<pn(a)?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.Z()+"]",rc(a)}}finally{Ri(a)}}}}function Ri(a,h){if(a.g){ic(a);const d=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||_e(a,"ready");try{d.onreadystatechange=g}catch{}}}function ic(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function pn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Ft(h)}};function oc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function eg(a){const h={};a=(a.g&&2<=pn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(F(a[g]))continue;var d=R(a[g]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const N=h[V]||[];h[V]=N,N.push(d)}A(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function ac(a){this.Aa=0,this.i=[],this.j=new ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,a),this.cb=Es("retryDelaySeedMs",1e4,a),this.Wa=Es("forwardChannelMaxRetries",2,a),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new qu(a&&a.concurrentRequestLimit),this.Da=new Xm,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ac.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,g){vt(0),this.W=a,this.H=h||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=gc(this,null,this.W),Si(this)};function ua(a){if(lc(a),a.G==3){var h=a.U++,d=dn(a.I);if(Le(d,"SID",a.K),Le(d,"RID",h),Le(d,"TYPE","terminate"),ws(a,d),h=new Dn(a,a.j,h),h.L=2,h.v=bi(dn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=_c(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ei(h)}mc(a)}function Ci(a){a.g&&(ha(a),a.g.cancel(),a.g=null)}function lc(a){Ci(a),a.u&&(l.clearTimeout(a.u),a.u=null),Pi(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Si(a){if(!zu(a.h)&&!a.s){a.s=!0;var h=a.Ga;fe||Kt(),ye||(fe(),ye=!0),Vt.add(h,a),a.B=0}}function tg(a,h){return Hu(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=fs(m(a.Ga,a,h),pc(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Dn(this,this.j,a);let N=this.o;if(this.S&&(N?(N=v(N),I(N,this.S)):N=this.S),this.m!==null||this.O||(V.H=N,N=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=cc(this,V,h),d=dn(this.I),Le(d,"RID",a),Le(d,"CVER",22),this.D&&Le(d,"X-HTTP-Session-Id",this.D),ws(this,d),N&&(this.O?h="headers="+encodeURIComponent(String(tc(N)))+"&"+h:this.m&&la(d,this.m,N)),aa(this.h,V),this.Ua&&Le(d,"TYPE","init"),this.P?(Le(d,"$req",h),Le(d,"SID","null"),V.T=!0,ra(V,d,null)):ra(V,d,h),this.G=2}}else this.G==3&&(a?uc(this,a):this.i.length==0||zu(this.h)||uc(this))};function uc(a,h){var d;h?d=h.l:d=a.U++;const g=dn(a.I);Le(g,"SID",a.K),Le(g,"RID",d),Le(g,"AID",a.T),ws(a,g),a.m&&a.o&&la(g,a.m,a.o),d=new Dn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=cc(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),aa(a.h,d),ra(d,g,h)}function ws(a,h){a.H&&re(a.H,function(d,g){Le(h,g,d)}),a.l&&Ku({},function(d,g){Le(h,g,d)})}function cc(a,h,d){d=Math.min(a.i.length,d);var g=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let N=-1;for(;;){const K=["count="+d];N==-1?0<d?(N=V[0].g,K.push("ofs="+N)):N=0:K.push("ofs="+N);let Ne=!0;for(let it=0;it<d;it++){let Re=V[it].g;const ht=V[it].map;if(Re-=N,0>Re)N=Math.max(0,V[it].g-100),Ne=!1;else try{Ym(ht,K,"req"+Re+"_")}catch{g&&g(ht)}}if(Ne){g=K.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,g}function hc(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;fe||Kt(),ye||(fe(),ye=!0),Vt.add(h,a),a.v=0}}function ca(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=fs(m(a.Fa,a),pc(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=fs(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ci(this),fc(this))};function ha(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function fc(a){a.g=new Dn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=dn(a.qa);Le(h,"RID","rpc"),Le(h,"SID",a.K),Le(h,"AID",a.T),Le(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(h,"TO",a.ja),Le(h,"TYPE","xmlhttp"),ws(a,h),a.m&&a.o&&la(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=bi(dn(h)),d.m=null,d.P=!0,Uu(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Ci(this),ca(this),vt(19))};function Pi(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function dc(a,h){var d=null;if(a.g==h){Pi(a),ha(a),a.g=null;var g=2}else if(oa(a.h,h))d=h.D,$u(a.h,h),g=1;else return;if(a.G!=0){if(h.o)if(g==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;g=_i(),_e(g,new ku(g,d)),Si(a)}else hc(a);else if(V=h.s,V==3||V==0&&0<h.X||!(g==1&&tg(a,h)||g==2&&ca(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),V){case 1:lr(a,5);break;case 4:lr(a,10);break;case 3:lr(a,6);break;default:lr(a,2)}}}function pc(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function lr(a,h){if(a.j.info("Error code "+h),h==2){var d=m(a.fb,a),g=a.Xa;const V=!g;g=new ar(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wi(g,"https"),bi(g),V?Qm(g.toString(),d):Wm(g.toString(),d)}else vt(2);a.G=0,a.l&&a.l.sa(h),mc(a),lc(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function mc(a){if(a.G=0,a.ka=[],a.l){const h=Gu(a.h);(h.length!=0||a.i.length!=0)&&(D(a.ka,h),D(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function gc(a,h,d){var g=d instanceof ar?dn(d):new ar(d);if(g.g!="")h&&(g.g=h+"."+g.g),Ti(g,g.s);else{var V=l.location;g=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var N=new ar(null);g&&wi(N,g),h&&(N.g=h),V&&Ti(N,V),d&&(N.l=d),g=N}return d=a.D,h=a.ya,d&&h&&Le(g,d,h),Le(g,"VER",a.la),ws(a,g),g}function _c(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new ze(new Ai({eb:d})):new ze(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}t=yc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xi(){}xi.prototype.g=function(a,h){return new Dt(a,h)};function Dt(a,h){le.call(this),this.g=new ac(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!F(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!F(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ir(this)}C(Dt,le),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){ua(this.g)},Dt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=st(a),a=d);h.i.push(new Fm(h.Ya++,a)),h.G==3&&Si(h)},Dt.prototype.N=function(){this.g.l=null,delete this.j,ua(this.g),delete this.g,Dt.aa.N.call(this)};function vc(a){Zo.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(vc,Zo);function Ec(){ea.call(this),this.status=1}C(Ec,ea);function Ir(a){this.g=a}C(Ir,yc),Ir.prototype.ua=function(){_e(this.g,"a")},Ir.prototype.ta=function(a){_e(this.g,new vc(a))},Ir.prototype.sa=function(a){_e(this.g,new Ec)},Ir.prototype.ra=function(){_e(this.g,"b")},xi.prototype.createWebChannel=xi.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,hp=function(){return new xi},cp=function(){return _i()},up=ir,rl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,$i=yi,Ou.COMPLETE="complete",lp=Ou,Vu.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",le.prototype.listen=le.prototype.K,Cs=Vu,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,ap=ze}).apply(typeof ki<"u"?ki:typeof self<"u"?self:typeof window<"u"?window:{});const Dh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new ep("@firebase/firestore");function Vr(){return vr.logLevel}function Z(t,...e){if(vr.logLevel<=be.DEBUG){const n=e.map($l);vr.debug(`Firestore (${rs}): ${t}`,...n)}}function Rn(t,...e){if(vr.logLevel<=be.ERROR){const n=e.map($l);vr.error(`Firestore (${rs}): ${t}`,...n)}}function Kr(t,...e){if(vr.logLevel<=be.WARN){const n=e.map($l);vr.warn(`Firestore (${rs}): ${t}`,...n)}}function $l(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: `+t;throw Rn(e),new Error(e)}function Ve(t,e){t||de()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Aw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class Iw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Rw{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new fp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new pt(e)}}class Cw{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Sw{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Cw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new Pw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Vw(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function Qr(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ye(0,0))}static max(){return new pe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Zs{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const Dw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Zs{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return Dw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ee(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ee(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Fe.fromString(e))}static fromName(e){return new se(Fe.fromString(e).popFirst(5))}static empty(){return new se(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Fe(e.slice()))}}function Nw(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Wn(s,se.empty(),e)}function Mw(t){return new Wn(t.readTime,t.key,-1)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(pe.min(),se.empty(),-1)}static max(){return new Wn(pe.max(),se.empty(),-1)}}function kw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==Ow)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Fw(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function is(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Oo.oe=-1;function Lo(t){return t==null}function uo(t){return t===0&&1/t==-1/0}function Uw(t){return typeof t=="number"&&Number.isInteger(t)&&!uo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nh(e)),e=jw(t.get(n),e);return Nh(e)}function jw(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function Nh(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oi(this.root,e,this.comparator,!0)}}class Oi{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ot.RED,this.left=s??ot.EMPTY,this.right=i??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kh(this.data.getIterator())}getIteratorFrom(e){return new kh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class kh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new kt([])}unionWith(e){let n=new Ze(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mp("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const qw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xn(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=qw.exec(t);if(Ve(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yn(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fo(t){const e=t.mapValue.fields.__previous_value__;return Gl(e)?Fo(e):e}function ei(t){const e=Xn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,s,i,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class ti{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ti("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ti&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gl(t)?4:$w(t)?9007199254740991:Hw(t)?10:11:de()}function fn(t,e){if(t===e)return!0;const n=Jn(t);if(n!==Jn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ei(t).isEqual(ei(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Xn(s.timestampValue),l=Xn(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Yn(s.bytesValue).isEqual(Yn(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ge(s.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ge(s.integerValue)===Ge(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ge(s.doubleValue),l=Ge(i.doubleValue);return o===l?uo(o)===uo(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Qr(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Mh(o)!==Mh(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!fn(o[u],l[u])))return!1;return!0}(t,e);default:return de()}}function ni(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function Wr(t,e){if(t===e)return 0;const n=Jn(t),r=Jn(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ge(i.integerValue||i.doubleValue),u=Ge(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Oh(t.timestampValue,e.timestampValue);case 4:return Oh(ei(t),ei(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Yn(i),u=Yn(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=Ee(l[c],u[c]);if(f!==0)return f}return Ee(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ee(Ge(i.latitude),Ge(o.latitude));return l!==0?l:Ee(Ge(i.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lh(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,c,f;const p=i.fields||{},m=o.fields||{},y=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=Ee(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:Lh(y,C)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Li.mapValue&&o===Li.mapValue)return 0;if(i===Li.mapValue)return 1;if(o===Li.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=Ee(u[p],f[p]);if(m!==0)return m;const y=Wr(l[u[p]],c[f[p]]);if(y!==0)return y}return Ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw de()}}function Oh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Xn(t),r=Xn(e),s=Ee(n.seconds,r.seconds);return s!==0?s:Ee(n.nanos,r.nanos)}function Lh(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Wr(n[s],r[s]);if(i)return i}return Ee(n.length,r.length)}function Xr(t){return sl(t)}function sl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=sl(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${sl(n.fields[o])}`;return s+"}"}(t.mapValue):de()}function Gi(t){switch(Jn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fo(t);return e?16+Gi(e):16;case 5:return 2*t.stringValue.length;case 6:return Yn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Gi(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return rr(r.fields,(i,o)=>{s+=i.length+Gi(o)}),s}(t.mapValue);default:throw de()}}function Fh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function il(t){return!!t&&"integerValue"in t}function Kl(t){return!!t&&"arrayValue"in t}function Uh(t){return!!t&&"nullValue"in t}function Bh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ki(t){return!!t&&"mapValue"in t}function Hw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $w(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ki(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bs(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Bs(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ki(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ki(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){rr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new St(Bs(this.value))}}function gp(t){const e=[];return rr(t.fields,(n,r)=>{const s=new at([n]);if(Ki(r)){const i=gp(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new _t(e,0,pe.min(),pe.min(),pe.min(),St.empty(),0)}static newFoundDocument(e,n,r,s){return new _t(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new _t(e,2,n,pe.min(),pe.min(),St.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,pe.min(),pe.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.position=e,this.inclusive=n}}function jh(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Wr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qh(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n="asc"){this.field=e,this.dir=n}}function Gw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{}class Xe extends _p{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qw(e,n,r):n==="array-contains"?new Yw(e,r):n==="in"?new Jw(e,r):n==="not-in"?new Zw(e,r):n==="array-contains-any"?new e0(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ww(e,r):new Xw(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wr(n,this.value)):n!==null&&Jn(this.value)===Jn(n)&&this.matchesComparison(Wr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zt extends _p{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zt(e,n)}matches(e){return yp(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yp(t){return t.op==="and"}function vp(t){return Kw(t)&&yp(t)}function Kw(t){for(const e of t.filters)if(e instanceof Zt)return!1;return!0}function ol(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Xr(t.value);if(vp(t))return t.filters.map(e=>ol(e)).join(",");{const e=t.filters.map(n=>ol(n)).join(",");return`${t.op}(${e})`}}function Ep(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&fn(r.value,s.value)}(t,e):t instanceof Zt?function(r,s){return s instanceof Zt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Ep(o,s.filters[l]),!0):!1}(t,e):void de()}function wp(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Xr(n.value)}`}(t):t instanceof Zt?function(n){return n.op.toString()+" {"+n.getFilters().map(wp).join(" ,")+"}"}(t):"Filter"}class Qw extends Xe{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ww extends Xe{constructor(e,n){super(e,"in",n),this.keys=Tp("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Xw extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=Tp("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tp(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class Yw extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kl(n)&&ni(n.arrayValue,this.value)}}class Jw extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ni(this.value.arrayValue,n)}}class Zw extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ni(this.value.arrayValue,n)}}class e0 extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ni(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function zh(t,e=null,n=[],r=[],s=null,i=null,o=null){return new t0(t,e,n,r,s,i,o)}function Ql(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ol(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xr(r)).join(",")),e.ue=n}return e.ue}function Wl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Gw(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ep(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qh(t.startAt,e.startAt)&&qh(t.endAt,e.endAt)}function al(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function n0(t,e,n,r,s,i,o,l){return new ci(t,e,n,r,s,i,o,l)}function Xl(t){return new ci(t)}function Hh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bp(t){return t.collectionGroup!==null}function js(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ze(at.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new ho(i,r))}),n.has(at.keyField().canonicalString())||e.ce.push(new ho(at.keyField(),r))}return e.ce}function un(t){const e=ge(t);return e.le||(e.le=r0(e,js(t))),e.le}function r0(t,e){if(t.limitType==="F")return zh(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ho(s.field,i)});const n=t.endAt?new co(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new co(t.startAt.position,t.startAt.inclusive):null;return zh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ll(t,e){const n=t.filters.concat([e]);return new ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ul(t,e,n){return new ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uo(t,e){return Wl(un(t),un(e))&&t.limitType===e.limitType}function Ap(t){return`${Ql(un(t))}|lt:${t.limitType}`}function Dr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wp(s)).join(", ")}]`),Lo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xr(s)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function Bo(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of js(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=jh(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,js(r),s)||r.endAt&&!function(o,l,u){const c=jh(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,js(r),s))}(t,e)}function s0(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ip(t){return(e,n)=>{let r=!1;for(const s of js(t)){const i=i0(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function i0(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),c=l.data.field(i);return u!==null&&c!==null?Wr(u,c):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return pp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new qe(se.comparator);function Cn(){return o0}const Rp=new qe(se.comparator);function Ss(...t){let e=Rp;for(const n of t)e=e.insert(n.key,n);return e}function Cp(t){let e=Rp;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function dr(){return qs()}function Sp(){return qs()}function qs(){return new wr(t=>t.toString(),(t,e)=>t.isEqual(e))}const a0=new qe(se.comparator),l0=new Ze(se.comparator);function ve(...t){let e=l0;for(const n of t)e=e.add(n);return e}const u0=new Ze(Ee);function c0(){return u0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uo(e)?"-0":e}}function Pp(t){return{integerValue:""+t}}function h0(t,e){return Uw(e)?Pp(e):Yl(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this._=void 0}}function f0(t,e,n){return t instanceof fo?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gl(i)&&(i=Fo(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ri?Vp(t,e):t instanceof si?Dp(t,e):function(s,i){const o=xp(s,i),l=$h(o)+$h(s.Pe);return il(o)&&il(s.Pe)?Pp(l):Yl(s.serializer,l)}(t,e)}function d0(t,e,n){return t instanceof ri?Vp(t,e):t instanceof si?Dp(t,e):n}function xp(t,e){return t instanceof po?function(r){return il(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fo extends jo{}class ri extends jo{constructor(e){super(),this.elements=e}}function Vp(t,e){const n=Np(e);for(const r of t.elements)n.some(s=>fn(s,r))||n.push(r);return{arrayValue:{values:n}}}class si extends jo{constructor(e){super(),this.elements=e}}function Dp(t,e){let n=Np(e);for(const r of t.elements)n=n.filter(s=>!fn(s,r));return{arrayValue:{values:n}}}class po extends jo{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $h(t){return Ge(t.integerValue||t.doubleValue)}function Np(t){return Kl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function p0(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ri&&s instanceof ri||r instanceof si&&s instanceof si?Qr(r.elements,s.elements,fn):r instanceof po&&s instanceof po?fn(r.Pe,s.Pe):r instanceof fo&&s instanceof fo}(t.transform,e.transform)}class m0{constructor(e,n){this.version=e,this.transformResults=n}}class Xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qo{}function Mp(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jl(t.key,Xt.none()):new hi(t.key,t.data,Xt.none());{const n=t.data,r=St.empty();let s=new Ze(at.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new sr(t.key,r,new kt(s.toArray()),Xt.none())}}function g0(t,e,n){t instanceof hi?function(s,i,o){const l=s.value.clone(),u=Kh(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof sr?function(s,i,o){if(!Qi(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Kh(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(kp(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zs(t,e,n,r){return t instanceof hi?function(i,o,l,u){if(!Qi(i.precondition,o))return l;const c=i.value.clone(),f=Qh(i.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof sr?function(i,o,l,u){if(!Qi(i.precondition,o))return l;const c=Qh(i.fieldTransforms,u,o),f=o.data;return f.setAll(kp(i)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,l){return Qi(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function _0(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xp(r.transform,s||null);i!=null&&(n===null&&(n=St.empty()),n.set(r.field,i))}return n||null}function Gh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Qr(r,s,(i,o)=>p0(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hi extends qo{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class sr extends qo{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kp(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Kh(t,e,n){const r=new Map;Ve(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,d0(o,l,n[s]))}return r}function Qh(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,f0(i,o,e))}return r}class Jl extends qo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y0 extends qo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&g0(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Sp();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=Mp(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Qr(this.mutations,e.mutations,(n,r)=>Gh(n,r))&&Qr(this.baseMutations,e.baseMutations,(n,r)=>Gh(n,r))}}class Zl{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length);let s=function(){return a0}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Zl(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,Te;function T0(t){switch(t){default:return de();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function Op(t){if(t===void 0)return Rn("GRPC error has no .code"),j.UNKNOWN;switch(t){case We.OK:return j.OK;case We.CANCELLED:return j.CANCELLED;case We.UNKNOWN:return j.UNKNOWN;case We.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case We.INTERNAL:return j.INTERNAL;case We.UNAVAILABLE:return j.UNAVAILABLE;case We.UNAUTHENTICATED:return j.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case We.NOT_FOUND:return j.NOT_FOUND;case We.ALREADY_EXISTS:return j.ALREADY_EXISTS;case We.PERMISSION_DENIED:return j.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case We.ABORTED:return j.ABORTED;case We.OUT_OF_RANGE:return j.OUT_OF_RANGE;case We.UNIMPLEMENTED:return j.UNIMPLEMENTED;case We.DATA_LOSS:return j.DATA_LOSS;default:return de()}}(Te=We||(We={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new gr([4294967295,4294967295],0);function Wh(t){const e=b0().encode(t),n=new op;return n.update(e),new Uint8Array(n.digest())}function Xh(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gr([n,r],0),new gr([s,i],0)]}class eu{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ps(`Invalid padding: ${n}`);if(r<0)throw new Ps(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ps(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ps(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=gr.fromNumber(this.Te)}Ee(e,n,r){let s=e.add(n.multiply(gr.fromNumber(r)));return s.compare(A0)===1&&(s=new gr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Wh(e),[r,s]=Xh(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new eu(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=Wh(e),[r,s]=Xh(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zo(pe.min(),s,new qe(Ee),Cn(),ve())}}class fi{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fi(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Lp{constructor(e,n){this.targetId=e,this.me=n}}class Fp{constructor(e,n,r=lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Yh{constructor(){this.fe=0,this.ge=Jh(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new fi(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Jh()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class I0{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cn(),this.qe=Fi(),this.Qe=Fi(),this.Ke=new qe(Ee)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const i=s.target;if(al(i))if(r===0){const o=new se(i.path);this.We(n,o,_t.newNoDocument(o,pe.min()))}else Ve(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),u=l?this.et(l,e,o):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Yn(r).toUint8Array()}catch(u){if(u instanceof mp)return Kr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new eu(o,s,i)}catch(u){return Kr(u instanceof Ps?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&al(l.target)){const u=new se(l.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,_t.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ve();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new zo(e,n,this.Ke,this.ke,r);return this.ke=Cn(),this.qe=Fi(),this.Qe=Fi(),this.Ke=new qe(Ee),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Yh,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ze(Ee),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ze(Ee),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Yh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Fi(){return new qe(se.comparator)}function Jh(){return new qe(se.comparator)}const R0={asc:"ASCENDING",desc:"DESCENDING"},C0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S0={and:"AND",or:"OR"};class P0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cl(t,e){return t.useProto3Json||Lo(e)?e:{value:e}}function mo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Up(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x0(t,e){return mo(t,e.toTimestamp())}function cn(t){return Ve(!!t),pe.fromTimestamp(function(n){const r=Xn(n);return new Ye(r.seconds,r.nanos)}(t))}function tu(t,e){return hl(t,e).canonicalString()}function hl(t,e){const n=function(s){return new Fe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bp(t){const e=Fe.fromString(t);return Ve($p(e)),e}function fl(t,e){return tu(t.databaseId,e.path)}function Da(t,e){const n=Bp(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(qp(n))}function jp(t,e){return tu(t.databaseId,e)}function V0(t){const e=Bp(t);return e.length===4?Fe.emptyPath():qp(e)}function dl(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qp(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zh(t,e,n){return{name:fl(t,e),fields:n.value.mapValue.fields}}function D0(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,f){return c.useProto3Json?(Ve(f===void 0||typeof f=="string"),lt.fromBase64String(f||"")):(Ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array),lt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const f=c.code===void 0?j.UNKNOWN:Op(c.code);return new ee(f,c.message||"")}(o);n=new Fp(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Da(t,r.document.name),i=cn(r.document.updateTime),o=r.document.createTime?cn(r.document.createTime):pe.min(),l=new St({mapValue:{fields:r.document.fields}}),u=_t.newFoundDocument(s,i,o,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Wi(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Da(t,r.document),i=r.readTime?cn(r.readTime):pe.min(),o=_t.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Wi([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Da(t,r.document),i=r.removedTargetIds||[];n=new Wi([],i,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new w0(s,i),l=r.targetId;n=new Lp(l,o)}}return n}function N0(t,e){let n;if(e instanceof hi)n={update:Zh(t,e.key,e.value)};else if(e instanceof Jl)n={delete:fl(t,e.key)};else if(e instanceof sr)n={update:Zh(t,e.key,e.data),updateMask:q0(e.fieldMask)};else{if(!(e instanceof y0))return de();n={verify:fl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof fo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof si)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof po)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:x0(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function M0(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?cn(s.updateTime):cn(i);return o.isEqual(pe.min())&&(o=cn(i)),new m0(o,s.transformResults||[])}(n,e))):[]}function k0(t,e){return{documents:[jp(t,e.path)]}}function O0(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jp(t,s);const i=function(c){if(c.length!==0)return Hp(Zt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:Nr(m.field),direction:U0(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=cl(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:s}}function L0(t){let e=V0(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const m=zp(p);return m instanceof Zt&&vp(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new ho(Mr(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Lo(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,y=p.values||[];return new co(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,y=p.values||[];return new co(y,m)}(n.endAt)),n0(e,s,o,i,l,"F",u,c)}function F0(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zp(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mr(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mr(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mr(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mr(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Mr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zt.create(n.compositeFilter.filters.map(r=>zp(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function U0(t){return R0[t]}function B0(t){return C0[t]}function j0(t){return S0[t]}function Nr(t){return{fieldPath:t.canonicalString()}}function Mr(t){return at.fromServerFormat(t.fieldPath)}function Hp(t){return t instanceof Xe?function(n){if(n.op==="=="){if(Bh(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NAN"}};if(Uh(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bh(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NOT_NAN"}};if(Uh(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nr(n.field),op:B0(n.op),value:n.value}}}(t):t instanceof Zt?function(n){const r=n.getFilters().map(s=>Hp(s));return r.length===1?r[0]:{compositeFilter:{op:j0(n.op),filters:r}}}(t):de()}function q0(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $p(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,s,i=pe.min(),o=pe.min(),l=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Bn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.ht=e}}function H0(t){const e=L0({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ul(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.ln=new G0}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Wn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class G0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ze(Fe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ze(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ct{static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(41943040,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Yr(0)}static Qn(){return new Yr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf([t,e],[n,r]){const s=Ee(t,n);return s===0?Ee(e,r):s}class K0{constructor(e){this.Gn=e,this.buffer=new Ze(tf),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tf(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q0{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){is(n)?Z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ss(n)}await this.Yn(3e5)})}}class W0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Oo.oe);const r=new K0(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(ef)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ef):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,i,o,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Vr()<=be.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function X0(t,e){return new W0(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.changes=new wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zs(r.mutation,s,kt.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=dr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ss();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=dr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Cn();const o=qs(),l=function(){return qs()}();return n.forEach((u,c)=>{const f=r.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof sr)?i=i.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),zs(f.mutation,c,f.mutation.getFieldMask(),Ye.now())):o.set(c.key,kt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new J0(f,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=qs();let s=new qe((o,l)=>o-l),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||kt.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(s.get(l.batchId)||ve()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=Sp();f.forEach(m=>{if(!i.has(m)){const y=Mp(n.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(dr());let l=-1,u=i;return o.next(c=>B.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ve())).next(f=>({batchId:l,changes:Cp(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Ss();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ss();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,u=>{const c=function(p,m){return new ci(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,_t.newInvalidDocument(f)))});let l=Ss();return o.forEach((u,c)=>{const f=i.get(u);f!==void 0&&zs(f.mutation,c,kt.empty(),Ye.now()),Bo(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:cn(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:H0(s.bundledQuery),readTime:cn(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.overlays=new qe(se.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dr();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Tt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Er.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=dr(),i=n.length+1,o=new se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new qe((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=i.get(c.largestBatchId);f===null&&(f=dr(),i=i.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=dr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=s)););return B.resolve(l)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new E0(n,r));let i=this.Er.get(n);i===void 0&&(i=ve(),this.Er.set(n,i)),this.Er.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.dr=new Ze(et.Ar),this.Rr=new Ze(et.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new et(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new et(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new se(new Fe([])),r=new et(n,e),s=new et(n,e+1),i=[];return this.Rr.forEachInRange([r,s],o=>{this.gr(o),i.push(o.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new se(new Fe([])),r=new et(n,e),s=new et(n,e+1);let i=ve();return this.Rr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new et(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return se.comparator(e.key,n.key)||Ee(e.br,n.br)}static Vr(e,n){return Ee(e.br,n.br)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ze(et.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new v0(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.vr=this.vr.add(new et(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),s=new et(n,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,s],o=>{const l=this.Cr(o.br);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(Ee);return n.forEach(s=>{const i=new et(s,0),o=new et(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([i,o],l=>{r=r.add(l.br)})}),B.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new et(new se(i),0);let l=new Ze(Ee);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.br)),!0)},o),B.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return B.forEach(n.mutations,s=>{const i=new et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new et(n,0),s=this.vr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.Nr=e,this.docs=function(){return new qe(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=Cn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_t.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Cn();const o=n.path,l=new se(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kw(Mw(f),r)<=0||(s.has(f.key)||Bo(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de()}Lr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iT(this)}getSize(e){return B.resolve(this.size)}}class iT extends Y0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.persistence=e,this.Br=new wr(n=>Ql(n),Wl),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new nu,this.targetCount=0,this.Qr=Yr.qn()}forEachTarget(e,n){return this.Br.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Yr(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Br.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Oo(0),this.Ur=!1,this.Ur=!0,this.Wr=new nT,this.referenceDelegate=e(this),this.Gr=new oT(this),this.indexManager=new $0,this.remoteDocumentCache=function(s){return new sT(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new z0(n),this.jr=new eT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new rT(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new aT(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(i=>this.referenceDelegate.Jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Yr(e,n){return B.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class aT extends Lw{constructor(e){super(),this.currentSequenceNumber=e}}class ru{constructor(e){this.persistence=e,this.Zr=new nu,this.Xr=null}static ei(e){return new ru(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ti.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,r=>{const s=se.fromPath(r);return this.ni(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class go{constructor(e,n){this.persistence=e,this.ri=new wr(r=>Bw(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=X0(this,n)}static ei(e,n){return new go(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Lr(e,o=>this.ir(e,o,n).next(l=>{l||(r++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gi(e.data.value)),n}ir(e,n,r){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=ve(),s=ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new su(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return oE()?8:Fw(zl())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Xi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.es(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new lT;return this.ts(e,n,o).next(l=>{if(i.result=l,this.Hi)return this.ns(e,n,o,l.size)})}).next(()=>i.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(Vr()<=be.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Dr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Vr()<=be.DEBUG&&Z("QueryEngine","Query:",Dr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Vr()<=be.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Dr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):B.resolve())}Xi(e,n){if(Hh(n))return B.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ul(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ve(...i);return this.Zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,l);return this.ss(n,c,o,u.readTime)?this.Xi(e,ul(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,s){return Hh(n)||s.isEqual(pe.min())?B.resolve(null):this.Zi.getDocuments(e,r).next(i=>{const o=this.rs(n,i);return this.ss(n,o,r,s)?B.resolve(null):(Vr()<=be.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dr(n)),this.os(e,o,n,Nw(s,-1)).next(l=>l))})}rs(e,n){let r=new Ze(Ip(e));return n.forEach((s,i)=>{Bo(e,i)&&(r=r.add(i))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ts(e,n,r){return Vr()<=be.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Dr(n)),this.Zi.getDocumentsMatchingQuery(e,n,Wn.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new qe(Ee),this.cs=new wr(i=>Ql(i),Wl),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function hT(t,e,n,r){return new cT(t,e,n,r)}async function Kp(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=ve();for(const c of s){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of i){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:l}))})})}function fT(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,m=p.keys();let y=B.resolve();return m.forEach(C=>{y=y.next(()=>f.getEntry(u,C)).next(x=>{const D=c.docVersions.get(C);Ve(D!==null),x.version.compareTo(D)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),f.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ve();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Qp(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function dT(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const l=[];e.targetChanges.forEach((f,p)=>{const m=s.get(p);if(!m)return;l.push(n.Gr.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(i,f.addedDocuments,p)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(p,y),function(x,D,k){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,f)&&l.push(n.Gr.updateTargetData(i,y))});let u=Cn(),c=ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(pT(i,o,e.documentUpdates).next(f=>{u=f.Is,c=f.Es})),!r.isEqual(pe.min())){const f=n.Gr.getLastRemoteSnapshotVersion(i).next(p=>n.Gr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.us=s,i))}function pT(t,e,n){let r=ve(),s=ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Cn();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(pe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Is:o,Es:s}})}function mT(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gT(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Gr.allocateTargetId(r).next(o=>(s=new Bn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function pl(t,e,n){const r=ge(t),s=r.us.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!is(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function nf(t,e,n){const r=ge(t);let s=pe.min(),i=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const p=ge(u),m=p.cs.get(f);return m!==void 0?B.resolve(p.us.get(m)):p.Gr.getTargetData(c,f)}(r,o,un(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:ve())).next(l=>(_T(r,s0(e),l),{documents:l,ds:i})))}function _T(t,e,n){let r=t.ls.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ls.set(e,r)}class rf{constructor(){this.activeTargetIds=c0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yT{constructor(){this._o=new rf,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new rf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui=null;function Na(){return Ui===null?Ui=function(){return 268435456+Math.round(2147483648*Math.random())}():Ui++,"0x"+Ui.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class TT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${i}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Oo(n,r,s,i,o){const l=Na(),u=this.No(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,i,o),this.Bo(n,u,c,s).then(f=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Kr("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",s),f})}ko(n,r,s,i,o,l){return this.Oo(n,r,s,i,o)}Lo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}No(n,r){const s=ET[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,s){const i=Na();return new Promise((o,l)=>{const u=new ap;u.setWithCredentials(!0),u.listenOnce(lp.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $i.NO_ERROR:const f=u.getResponseJson();Z(dt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case $i.TIMEOUT:Z(dt,`RPC '${e}' ${i} timed out`),l(new ee(j.DEADLINE_EXCEEDED,"Request time out"));break;case $i.HTTP_ERROR:const p=u.getStatus();if(Z(dt,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const C=function(D){const k=D.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(k)>=0?k:j.UNKNOWN}(y.status);l(new ee(C,y.message))}else l(new ee(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(j.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{Z(dt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Z(dt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}qo(e,n,r){const s=Na(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hp(),l=cp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");Z(dt,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=o.createWebChannel(f,u);let m=!1,y=!1;const C=new wT({Eo:D=>{y?Z(dt,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(m||(Z(dt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Z(dt,`RPC '${e}' stream ${s} sending:`,D),p.send(D))},Ao:()=>p.close()}),x=(D,k,F)=>{D.listen(k,M=>{try{F(M)}catch(q){setTimeout(()=>{throw q},0)}})};return x(p,Cs.EventType.OPEN,()=>{y||(Z(dt,`RPC '${e}' stream ${s} transport opened.`),C.So())}),x(p,Cs.EventType.CLOSE,()=>{y||(y=!0,Z(dt,`RPC '${e}' stream ${s} transport closed`),C.Do())}),x(p,Cs.EventType.ERROR,D=>{y||(y=!0,Kr(dt,`RPC '${e}' stream ${s} transport errored:`,D),C.Do(new ee(j.UNAVAILABLE,"The operation could not be completed")))}),x(p,Cs.EventType.MESSAGE,D=>{var k;if(!y){const F=D.data[0];Ve(!!F);const M=F,q=(M==null?void 0:M.error)||((k=M[0])===null||k===void 0?void 0:k.error);if(q){Z(dt,`RPC '${e}' stream ${s} received error:`,q);const W=q.status;let re=function(E){const I=We[E];if(I!==void 0)return Op(I)}(W),A=q.message;re===void 0&&(re=j.INTERNAL,A="Unknown error status: "+W+" with message "+q.message),y=!0,C.Do(new ee(re,A)),p.close()}else Z(dt,`RPC '${e}' stream ${s} received:`,F),C.vo(F)}}),x(l,up.STAT_EVENT,D=>{D.stat===rl.PROXY?Z(dt,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===rl.NOPROXY&&Z(dt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Ma(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){return new P0(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r=1e3,s=1.5,i=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,s,i,o,l,u){this.li=e,this.Yo=r,this.Zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Wp(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new ee(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bT extends Xp{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=D0(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?cn(o.readTime):pe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=dl(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=al(u)?{documents:k0(i,u)}:{query:O0(i,u).ct},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Up(i,o.resumeToken);const c=cl(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(pe.min())>0){l.readTime=mo(i,o.snapshotVersion.toTimestamp());const c=cl(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=F0(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=dl(this.serializer),n.removeTarget=e,this.c_(n)}}class AT extends Xp{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=M0(e.writeResults,e.commitTime),r=cn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=dl(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>N0(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ee(j.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Oo(e,hl(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(j.UNKNOWN,i.toString())})}ko(e,n,r,s,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ko(e,hl(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(j.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class RT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Rn(n),this.C_=!1):Z("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Tr(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ge(u);c.k_.add(4),await di(c),c.K_.set("Unknown"),c.k_.delete(4),await $o(c)}(this))})}),this.K_=new RT(r,s)}}async function $o(t){if(Tr(t))for(const e of t.q_)await e(!0)}async function di(t){for(const e of t.q_)await e(!1)}function Yp(t,e){const n=ge(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),lu(n)?au(n):os(n).s_()&&ou(n,e))}function iu(t,e){const n=ge(t),r=os(n);n.B_.delete(e),r.s_()&&Jp(n,e),n.B_.size===0&&(r.s_()?r.a_():Tr(n)&&n.K_.set("Unknown"))}function ou(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}os(t).V_(e)}function Jp(t,e){t.U_.xe(e),os(t).m_(e)}function au(t){t.U_=new I0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),os(t).start(),t.K_.F_()}function lu(t){return Tr(t)&&!os(t).i_()&&t.B_.size>0}function Tr(t){return ge(t).k_.size===0}function Zp(t){t.U_=void 0}async function ST(t){t.K_.set("Online")}async function PT(t){t.B_.forEach((e,n)=>{ou(t,e)})}async function xT(t,e){Zp(t),lu(t)?(t.K_.O_(e),au(t)):t.K_.set("Unknown")}async function VT(t,e,n){if(t.K_.set("Online"),e instanceof Fp&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.B_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.B_.delete(l),s.U_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _o(t,r)}else if(e instanceof Wi?t.U_.$e(e):e instanceof Lp?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(pe.min()))try{const r=await Qp(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.U_.it(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.B_.get(c);f&&i.B_.set(c,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const f=i.B_.get(u);if(!f)return;i.B_.set(u,f.withResumeToken(lt.EMPTY_BYTE_STRING,f.snapshotVersion)),Jp(i,u);const p=new Bn(f.target,u,c,f.sequenceNumber);ou(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await _o(t,r)}}async function _o(t,e,n){if(!is(e))throw e;t.k_.add(1),await di(t),t.K_.set("Offline"),n||(n=()=>Qp(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await $o(t)})}function em(t,e){return e().catch(n=>_o(t,n,e))}async function Go(t){const e=ge(t),n=Zn(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;DT(e);)try{const s=await mT(e.localStore,r);if(s===null){e.L_.length===0&&n.a_();break}r=s.batchId,NT(e,s)}catch(s){await _o(e,s)}tm(e)&&nm(e)}function DT(t){return Tr(t)&&t.L_.length<10}function NT(t,e){t.L_.push(e);const n=Zn(t);n.s_()&&n.f_&&n.g_(e.mutations)}function tm(t){return Tr(t)&&!Zn(t).i_()&&t.L_.length>0}function nm(t){Zn(t).start()}async function MT(t){Zn(t).w_()}async function kT(t){const e=Zn(t);for(const n of t.L_)e.g_(n.mutations)}async function OT(t,e,n){const r=t.L_.shift(),s=Zl.from(r,e,n);await em(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Go(t)}async function LT(t,e){e&&Zn(t).f_&&await async function(r,s){if(function(o){return T0(o)&&o!==j.ABORTED}(s.code)){const i=r.L_.shift();Zn(r).__(),await em(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Go(r)}}(t,e),tm(t)&&nm(t)}async function of(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Tr(n);n.k_.add(3),await di(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await $o(n)}async function FT(t,e){const n=ge(t);e?(n.k_.delete(2),await $o(n)):e||(n.k_.add(2),await di(n),n.K_.set("Unknown"))}function os(t){return t.W_||(t.W_=function(n,r,s){const i=ge(n);return i.b_(),new bT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:ST.bind(null,t),mo:PT.bind(null,t),po:xT.bind(null,t),R_:VT.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),lu(t)?au(t):t.K_.set("Unknown")):(await t.W_.stop(),Zp(t))})),t.W_}function Zn(t){return t.G_||(t.G_=function(n,r,s){const i=ge(n);return i.b_(),new AT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:MT.bind(null,t),po:LT.bind(null,t),p_:kT.bind(null,t),y_:OT.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Go(t)):(await t.G_.stop(),t.L_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new uu(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cu(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),is(t))return new ee(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static emptySet(e){return new jr(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Ss(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.z_=new qe(se.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jr{constructor(e,n,r,s,i,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Jr(e,n,jr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class BT{constructor(){this.queries=lf(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=lf(),i.forEach((o,l)=>{for(const u of l.J_)u.onError(r)})})(this,new ee(j.ABORTED,"Firestore shutting down"))}}function lf(){return new wr(t=>Ap(t),Uo)}async function rm(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Y_()&&e.Z_()&&(r=2):(i=new UT,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(s,!0);break;case 1:i.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=cu(o,`Initialization of query '${Dr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.J_.push(e),e.ea(n.onlineState),i.H_&&e.ta(i.H_)&&hu(n)}async function sm(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.J_.indexOf(e);o>=0&&(i.J_.splice(o,1),i.J_.length===0?s=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jT(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.J_)l.ta(s)&&(r=!0);o.H_=s}}r&&hu(n)}function qT(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.J_)i.onError(n);r.queries.delete(e)}function hu(t){t.X_.forEach(e=>{e.next()})}var ml,uf;(uf=ml||(ml={})).na="default",uf.Cache="cache";class im{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ml.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.key=e}}class am{constructor(e){this.key=e}}class zT{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ve(),this.mutatedKeys=ve(),this.Va=Ip(e),this.ma=new jr(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new af,s=n?n.ma:this.ma;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const m=s.get(f),y=Bo(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let D=!1;m&&y?m.data.isEqual(y.data)?C!==x&&(r.track({type:3,doc:y}),D=!0):this.ya(m,y)||(r.track({type:2,doc:y}),D=!0,(u&&this.Va(y,u)>0||c&&this.Va(y,c)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),D=!0):m&&!y&&(r.track({type:1,doc:m}),D=!0,(u||c)&&(l=!0)),D&&(y?(o=o.add(y),i=x?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{ma:o,pa:r,ss:l,mutatedKeys:i}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((f,p)=>function(y,C){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return x(y)-x(C)}(f.type,p.type)||this.Va(f.doc,p.doc)),this.wa(r),s=s!=null&&s;const l=n&&!s?this.Sa():[],u=this.Ra.size===0&&this.current&&!s?1:0,c=u!==this.Aa;return this.Aa=u,o.length!==0||c?{snapshot:new Jr(this.query,e.ma,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new af,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ve(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new am(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new om(r))}),n}va(e){this.da=e.ds,this.Ra=ve();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Jr.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class HT{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $T{constructor(e){this.key=e,this.Fa=!1}}class GT{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new wr(l=>Ap(l),Uo),this.Oa=new Map,this.Na=new Set,this.La=new qe(se.comparator),this.Ba=new Map,this.ka=new nu,this.qa={},this.Qa=new Map,this.Ka=Yr.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function KT(t,e,n=!0){const r=dm(t);let s;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await lm(r,e,n,!0),s}async function QT(t,e){const n=dm(t);await lm(n,e,!0,!1)}async function lm(t,e,n,r){const s=await gT(t.localStore,un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await WT(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Yp(t.remoteStore,s),l}async function WT(t,e,n,r,s){t.Ua=(p,m,y)=>async function(x,D,k,F){let M=D.view.ga(k);M.ss&&(M=await nf(x.localStore,D.query,!1).then(({documents:A})=>D.view.ga(A,M)));const q=F&&F.targetChanges.get(D.targetId),W=F&&F.targetMismatches.get(D.targetId)!=null,re=D.view.applyChanges(M,x.isPrimaryClient,q,W);return hf(x,D.targetId,re.ba),re.snapshot}(t,p,m,y);const i=await nf(t.localStore,e,!0),o=new zT(e,i.ds),l=o.ga(i.documents),u=fi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,u);hf(t,n,c.ba);const f=new HT(e,n,o);return t.xa.set(e,f),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function XT(t,e,n){const r=ge(t),s=r.xa.get(e),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter(o=>!Uo(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pl(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&iu(r.remoteStore,s.targetId),gl(r,s.targetId)}).catch(ss)):(gl(r,s.targetId),await pl(r.localStore,s.targetId,!0))}async function YT(t,e){const n=ge(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iu(n.remoteStore,r.targetId))}async function JT(t,e,n){const r=ib(t);try{const s=await function(o,l){const u=ge(o),c=Ye.now(),f=l.reduce((y,C)=>y.add(C.key),ve());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Cn(),x=ve();return u.hs.getEntries(y,f).next(D=>{C=D,C.forEach((k,F)=>{F.isValidDocument()||(x=x.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(D=>{p=D;const k=[];for(const F of l){const M=_0(F,p.get(F.key).overlayedDocument);M!=null&&k.push(new sr(F.key,M,gp(M.value.mapValue),Xt.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,k,l)}).next(D=>{m=D;const k=D.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(y,D.batchId,k)})}).then(()=>({batchId:m.batchId,changes:Cp(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let c=o.qa[o.currentUser.toKey()];c||(c=new qe(Ee)),c=c.insert(l,u),o.qa[o.currentUser.toKey()]=c}(r,s.batchId,n),await pi(r,s.changes),await Go(r.remoteStore)}catch(s){const i=cu(s,"Failed to persist write");n.reject(i)}}async function um(t,e){const n=ge(t);try{const r=await dT(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ba.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Fa=!0:s.modifiedDocuments.size>0?Ve(o.Fa):s.removedDocuments.size>0&&(Ve(o.Fa),o.Fa=!1))}),await pi(n,r,e)}catch(r){await ss(r)}}function cf(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((i,o)=>{const l=o.view.ea(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ge(o);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.J_)m.ea(l)&&(c=!0)}),c&&hu(u)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZT(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ba.get(e),i=s&&s.key;if(i){let o=new qe(se.comparator);o=o.insert(i,_t.newNoDocument(i,pe.min()));const l=ve().add(i),u=new zo(pe.min(),new Map,new qe(Ee),o,l);await um(r,u),r.La=r.La.remove(i),r.Ba.delete(e),fu(r)}else await pl(r.localStore,e,!1).then(()=>gl(r,e,n)).catch(ss)}async function eb(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await fT(n.localStore,e);hm(n,r,null),cm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pi(n,s)}catch(s){await ss(s)}}async function tb(t,e,n){const r=ge(t);try{const s=await function(o,l){const u=ge(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Ve(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);hm(r,e,n),cm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pi(r,s)}catch(s){await ss(s)}}function cm(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function hm(t,e,n){const r=ge(t);let s=r.qa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function gl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||fm(t,r)})}function fm(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(iu(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),fu(t))}function hf(t,e,n){for(const r of n)r instanceof om?(t.ka.addReference(r.key,e),nb(t,r)):r instanceof am?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||fm(t,r.key)):de()}function nb(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Na.add(r),fu(t))}function fu(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new se(Fe.fromString(e)),r=t.Ka.next();t.Ba.set(r,new $T(n)),t.La=t.La.insert(n,r),Yp(t.remoteStore,new Bn(un(Xl(n.path)),r,"TargetPurposeLimboResolution",Oo.oe))}}async function pi(t,e,n){const r=ge(t),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{o.push(r.Ua(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=su.zi(u.targetId,c);i.push(p)}}))}),await Promise.all(o),r.Ma.R_(s),await async function(u,c){const f=ge(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(c,m=>B.forEach(m.Wi,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>B.forEach(m.Gi,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!is(p))throw p;Z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const y=f.us.get(m),C=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(C);f.us=f.us.insert(m,x)}}}(r.localStore,i))}async function rb(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await Kp(n.localStore,e);n.currentUser=e,function(i,o){i.Qa.forEach(l=>{l.forEach(u=>{u.reject(new ee(j.CANCELLED,o))})}),i.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pi(n,r.Ts)}}function sb(t,e){const n=ge(t),r=n.Ba.get(e);if(r&&r.Fa)return ve().add(r.key);{let s=ve();const i=n.Oa.get(e);if(!i)return s;for(const o of i){const l=n.xa.get(o);s=s.unionWith(l.view.fa)}return s}}function dm(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=um.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZT.bind(null,e),e.Ma.R_=jT.bind(null,e.eventManager),e.Ma.Wa=qT.bind(null,e.eventManager),e}function ib(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tb.bind(null,e),e}class yo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ho(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return hT(this.persistence,new uT,e.initialUser,this.serializer)}ja(e){return new Gp(ru.ei,this.serializer)}za(e){return new yT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yo.provider={build:()=>new yo};class ob extends yo{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ve(this.persistence.referenceDelegate instanceof go);const r=this.persistence.referenceDelegate.garbageCollector;return new Q0(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new Gp(r=>go.ei(r,n),this.serializer)}}class _l{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rb.bind(null,this.syncEngine),await FT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BT}()}createDatastore(e){const n=Ho(e.databaseInfo.databaseId),r=function(i){return new TT(i)}(e.databaseInfo);return function(i,o,l,u){return new IT(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new CT(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cf(this.syncEngine,n,0),function(){return sf.p()?new sf:new vT}())}createSyncEngine(e,n){return function(s,i,o,l,u,c,f){const p=new GT(s,i,o,l,u,c);return f&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ge(s);Z("RemoteStore","RemoteStore shutting down."),i.k_.add(5),await di(i),i.Q_.shutdown(),i.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_l.provider={build:()=>new _l};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ka(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Kp(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ff(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lb(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>of(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>of(e.remoteStore,s)),t._onlineComponents=e}async function lb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await ka(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Kr("Error using user provided cache. Falling back to memory cache: "+n),await ka(t,new yo)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await ka(t,new ob(void 0));return t._offlineComponents}async function mm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await ff(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await ff(t,new _l))),t._onlineComponents}function ub(t){return mm(t).then(e=>e.syncEngine)}async function gm(t){const e=await mm(t),n=e.eventManager;return n.onListen=KT.bind(null,e.syncEngine),n.onUnlisten=XT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YT.bind(null,e.syncEngine),n}function cb(t,e,n={}){const r=new bn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const f=new pm({next:m=>{f.eu(),o.enqueueAndForget(()=>sm(i,p));const y=m.docs.has(l);!y&&m.fromCache?c.reject(new ee(j.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?c.reject(new ee(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new im(Xl(l.path),f,{includeMetadataChanges:!0,ua:!0});return rm(i,p)}(await gm(t),t.asyncQueue,e,n,r)),r.promise}function hb(t,e,n={}){const r=new bn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const f=new pm({next:m=>{f.eu(),o.enqueueAndForget(()=>sm(i,p)),m.fromCache&&u.source==="server"?c.reject(new ee(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new im(l,f,{includeMetadataChanges:!0,ua:!0});return rm(i,p)}(await gm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e,n){if(!n)throw new ee(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fb(t,e,n,r){if(e===!0&&r===!0)throw new ee(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pf(t){if(!se.isDocumentKey(t))throw new ee(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mf(t){if(se.isDocumentKey(t))throw new ee(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ko(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ko(t);throw new ee(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_m((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qo{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Aw;switch(r.type){case"firstParty":return new Sw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=df.get(n);r&&(Z("ComponentProvider","Removing Datastore"),df.delete(n),r.terminate())}(this),Promise.resolve()}}function db(t,e,n,r={}){var s;const i=(t=Sn(t,Qo))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=pt.MOCK_USER;else{l=sE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pt(c)}t._authCredentials=new Iw(new fp(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class Gn extends as{constructor(e,n,r){super(e,n,Xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new se(e))}withConverter(e){return new Gn(this.firestore,e,this._path)}}function pb(t,e,...n){if(t=An(t),ym("collection","path",e),t instanceof Qo){const r=Fe.fromString(e,...n);return mf(r),new Gn(t,null,r)}{if(!(t instanceof xt||t instanceof Gn))throw new ee(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return mf(r),new Gn(t.firestore,null,r)}}function vm(t,e,...n){if(t=An(t),arguments.length===1&&(e=dp.newId()),ym("doc","path",e),t instanceof Qo){const r=Fe.fromString(e,...n);return pf(r),new xt(t,null,new se(r))}{if(!(t instanceof xt||t instanceof Gn))throw new ee(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return pf(r),new xt(t.firestore,t instanceof Gn?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Wp(this,"async_queue_retry"),this.fu=()=>{const r=Ma();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Ma();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Ma();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new bn;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!is(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Rn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=uu.createAndSchedule(this,e,n,r,i=>this.Su(i));return this.du.push(s),s}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class ls extends Qo{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _f,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _f(e),this._firestoreClient=void 0,await e}}}function mb(t,e){const n=pw(),r="(default)",s=cw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nE("firestore");i&&db(s,...i)}return s}function du(t){if(t._terminated)throw new ee(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gb(t),t._firestoreClient}function gb(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,c,f){return new zw(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,_m(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new ab(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(lt.fromBase64String(e))}catch(n){throw new ee(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zr(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=/^__.*__$/;class yb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new hi(e,this.data,n,this.fieldTransforms)}}class Em{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class _u{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new _u(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return vo(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(wm(this.Mu)&&_b.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class vb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ho(e)}$u(e,n,r,s=!1){return new _u({Mu:e,methodName:n,Ku:r,path:at.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yu(t){const e=t._freezeSettings(),n=Ho(t._databaseId);return new vb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Eb(t,e,n,r,s,i={}){const o=t.$u(i.merge||i.mergeFields?2:0,e,n,s);vu("Data must be an object, but it was:",o,r);const l=Tm(r,o);let u,c;if(i.merge)u=new kt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const m=yl(e,p,n);if(!o.contains(m))throw new ee(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Am(f,m)||f.push(m)}u=new kt(f),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new yb(new St(l),u,c)}class Xo extends pu{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xo}}function wb(t,e,n,r){const s=t.$u(1,e,n);vu("Data must be an object, but it was:",s,r);const i=[],o=St.empty();rr(r,(u,c)=>{const f=Eu(e,u,n);c=An(c);const p=s.Bu(f);if(c instanceof Xo)i.push(f);else{const m=mi(c,p);m!=null&&(i.push(f),o.set(f,m))}});const l=new kt(i);return new Em(o,l,s.fieldTransforms)}function Tb(t,e,n,r,s,i){const o=t.$u(1,e,n),l=[yl(e,r,n)],u=[s];if(i.length%2!=0)throw new ee(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(yl(e,i[m])),u.push(i[m+1]);const c=[],f=St.empty();for(let m=l.length-1;m>=0;--m)if(!Am(c,l[m])){const y=l[m];let C=u[m];C=An(C);const x=o.Bu(y);if(C instanceof Xo)c.push(y);else{const D=mi(C,x);D!=null&&(c.push(y),f.set(y,D))}}const p=new kt(c);return new Em(f,p,o.fieldTransforms)}function bb(t,e,n,r=!1){return mi(n,t.$u(r?4:3,e))}function mi(t,e){if(bm(t=An(t)))return vu("Unsupported field value:",e,t),Tm(t,e);if(t instanceof pu)return function(r,s){if(!wm(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=mi(l,s.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:mo(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mo(s.serializer,i)}}if(r instanceof mu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zr)return{bytesValue:Up(s.serializer,r._byteString)};if(r instanceof xt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tu(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gu)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return Yl(l.serializer,u)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${Ko(r)}`)}(t,e)}function Tm(t,e){const n={};return pp(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(t,(r,s)=>{const i=mi(s,e.Ou(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof mu||t instanceof Zr||t instanceof xt||t instanceof pu||t instanceof gu)}function vu(t,e,n){if(!bm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ko(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function yl(t,e,n){if((e=An(e))instanceof Wo)return e._internalPath;if(typeof e=="string")return Eu(t,e);throw vo("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ab=new RegExp("[~\\*/\\[\\]]");function Eu(t,e,n){if(e.search(Ab)>=0)throw vo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wo(...e.split("."))._internalPath}catch{throw vo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vo(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new ee(j.INVALID_ARGUMENT,l+t+u)}function Am(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ib extends Im{data(){return super.data()}}function wu(t,e){return typeof e=="string"?Eu(t,e):e instanceof Wo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tu{}class Cb extends Tu{}function pI(t,e,...n){let r=[];e instanceof Tu&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof bu).length,l=i.filter(u=>u instanceof Yo).length;if(o>1||o>0&&l>0)throw new ee(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Yo extends Cb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yo(e,n,r)}_apply(e){const n=this._parse(e);return Rm(e._query,n),new as(e.firestore,e.converter,ll(e._query,n))}_parse(e){const n=yu(e.firestore);return function(i,o,l,u,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ee(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){vf(p,f);const y=[];for(const C of p)y.push(yf(u,i,C));m={arrayValue:{values:y}}}else m=yf(u,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||vf(p,f),m=bb(l,o,p,f==="in"||f==="not-in");return Xe.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mI(t,e,n){const r=e,s=wu("where",t);return Yo._create(s,r,n)}class bu extends Tu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)Rm(o,u),o=ll(o,u)}(e._query,n),new as(e.firestore,e.converter,ll(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yf(t,e,n){if(typeof(n=An(n))=="string"){if(n==="")throw new ee(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bp(e)&&n.indexOf("/")!==-1)throw new ee(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!se.isDocumentKey(r))throw new ee(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fh(t,new se(r))}if(n instanceof xt)return Fh(t,n._key);throw new ee(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ko(n)}.`)}function vf(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rm(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Sb{convertValue(e,n="none"){switch(Jn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ge(o.doubleValue));return new gu(i)}convertGeoPoint(e){return new mu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fo(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ei(e));default:return null}}convertTimestamp(e){const n=Xn(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Ve($p(r));const s=new ti(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Rn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cm extends Im{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xi extends Cm{data(e={}){return super.data(e)}}class xb{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xi(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Xi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new xs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Xi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new xs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Vb(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Vb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t){t=Sn(t,xt);const e=Sn(t.firestore,ls);return cb(du(e),t._key).then(n=>kb(e,t,n))}class Sm extends Sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function gI(t){t=Sn(t,as);const e=Sn(t.firestore,ls),n=du(e),r=new Sm(e);return Rb(t._query),hb(n,t._query).then(s=>new xb(e,r,t,s))}function Nb(t,e,n,...r){t=Sn(t,xt);const s=Sn(t.firestore,ls),i=yu(s);let o;return o=typeof(e=An(e))=="string"||e instanceof Wo?Tb(i,"updateDoc",t._key,e,n,r):wb(i,"updateDoc",t._key,e),Au(s,[o.toMutation(t._key,Xt.exists(!0))])}function _I(t){return Au(Sn(t.firestore,ls),[new Jl(t._key,Xt.none())])}function Mb(t,e){const n=Sn(t.firestore,ls),r=vm(t),s=Pb(t.converter,e);return Au(n,[Eb(yu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xt.exists(!1))]).then(()=>r)}function Au(t,e){return function(r,s){const i=new bn;return r.asyncQueue.enqueueAndForget(async()=>JT(await ub(r),s,i)),i.promise}(du(t),e)}function kb(t,e,n){const r=n.docs.get(e._key),s=new Sm(t);return new Cm(t,s,e._key,r,new xs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){rs=s})(dw),lo(new Ys("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ls(new Rw(r.getProvider("auth-internal")),new xw(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ti(c.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Br(Dh,"4.7.5",e),Br(Dh,"4.7.5","esm2017")})();const Ef=Od("ownerVals",{state:()=>({ownerName:"",showReportComment:!1,showPopUpAnswerComment:!1,answerCommentTo:"",userDataId:""}),getters:{getOwnerName:t=>t.ownerName,getShowReportComment:t=>t.showReportComment,getAnswerCommentTo:t=>t.answerCommentTo.trim(),getShowPopUpAnswerComment:t=>t.showPopUpAnswerComment,getUserDataId:t=>t.userDataId},actions:{setOwnerName(t){this.ownerName=t},setShowReportComment(t){this.showReportComment=t},setAnswerCommentTo(t){this.answerCommentTo=t},setShowPopUpAnswerComment(t,e){this.answerCommentTo=e,this.showPopUpAnswerComment=t},setClosePopUpAnswerComment(){this.showPopUpAnswerComment=!1,this.answerCommentTo=""},setUserDataId(t){this.userDataId=t}}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bt=function(){return Bt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bt.apply(this,arguments)},Ob=function(){function t(e){this.options=e,this.listeners={}}return t.prototype.on=function(e,n){var r=this.listeners[e]||[];this.listeners[e]=r.concat([n])},t.prototype.triggerEvent=function(e,n){var r=this,s=this.listeners[e]||[];s.forEach(function(i){return i({target:r,event:n})})},t}(),es;(function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove"})(es||(es={}));var Lb=function(){function t(){this.notifications=[]}return t.prototype.push=function(e){this.notifications.push(e),this.updateFn(e,es.Add,this.notifications)},t.prototype.splice=function(e,n){var r=this.notifications.splice(e,n)[0];return this.updateFn(r,es.Remove,this.notifications),r},t.prototype.indexOf=function(e){return this.notifications.indexOf(e)},t.prototype.onUpdate=function(e){this.updateFn=e},t}(),jn;(function(t){t.Dismiss="dismiss",t.Click="click"})(jn||(jn={}));var wf={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},Fb=function(){function t(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var e=document.createDocumentFragment(),n=this._createHTMLElement({tagName:"div",className:"notyf"});e.appendChild(n),document.body.appendChild(e),this.container=n,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return t.prototype.on=function(e,n){var r;this.events=Bt(Bt({},this.events),(r={},r[e]=n,r))},t.prototype.update=function(e,n){n===es.Add?this.addNotification(e):n===es.Remove&&this.removeNotification(e)},t.prototype.removeNotification=function(e){var n=this,r=this._popRenderedNotification(e),s;if(r){s=r.node,s.classList.add("notyf__toast--disappear");var i;s.addEventListener(this.animationEndEventName,i=function(o){o.target===s&&(s.removeEventListener(n.animationEndEventName,i),n.container.removeChild(s))})}},t.prototype.addNotification=function(e){var n=this._renderNotification(e);this.notifications.push({notification:e,node:n}),this._announce(e.options.message||"Notification")},t.prototype._renderNotification=function(e){var n,r=this._buildNotificationCard(e),s=e.options.className;return s&&(n=r.classList).add.apply(n,s.split(" ")),this.container.appendChild(r),r},t.prototype._popRenderedNotification=function(e){for(var n=-1,r=0;r<this.notifications.length&&n<0;r++)this.notifications[r].notification===e&&(n=r);if(n!==-1)return this.notifications.splice(n,1)[0]},t.prototype.getXPosition=function(e){var n;return((n=e==null?void 0:e.position)===null||n===void 0?void 0:n.x)||"right"},t.prototype.getYPosition=function(e){var n;return((n=e==null?void 0:e.position)===null||n===void 0?void 0:n.y)||"bottom"},t.prototype.adjustContainerAlignment=function(e){var n=this.X_POSITION_FLEX_MAP[this.getXPosition(e)],r=this.Y_POSITION_FLEX_MAP[this.getYPosition(e)],s=this.container.style;s.setProperty("justify-content",r),s.setProperty("align-items",n)},t.prototype._buildNotificationCard=function(e){var n=this,r=e.options,s=r.icon;this.adjustContainerAlignment(r);var i=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),o=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),l=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),u=this._createHTMLElement({tagName:"div",className:"notyf__message"});u.innerHTML=r.message||"";var c=r.background||r.backgroundColor;if(s){var f=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof s=="string"||s instanceof String)&&(f.innerHTML=new String(s).valueOf()),typeof s=="object"){var p=s.tagName,m=p===void 0?"i":p,y=s.className,C=s.text,x=s.color,D=x===void 0?c:x,k=this._createHTMLElement({tagName:m,className:y,text:C});D&&(k.style.color=D),f.appendChild(k)}l.appendChild(f)}if(l.appendChild(u),i.appendChild(l),c&&(r.ripple?(o.style.background=c,i.appendChild(o)):i.style.background=c),r.dismissible){var F=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),M=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});F.appendChild(M),l.appendChild(F),i.classList.add("notyf__toast--dismissible"),M.addEventListener("click",function(W){var re,A;(A=(re=n.events)[jn.Dismiss])===null||A===void 0||A.call(re,{target:e,event:W}),W.stopPropagation()})}i.addEventListener("click",function(W){var re,A;return(A=(re=n.events)[jn.Click])===null||A===void 0?void 0:A.call(re,{target:e,event:W})});var q=this.getYPosition(r)==="top"?"upper":"lower";return i.classList.add("notyf__toast--"+q),i},t.prototype._createHTMLElement=function(e){var n=e.tagName,r=e.className,s=e.text,i=document.createElement(n);return r&&(i.className=r),i.textContent=s||null,i},t.prototype._createA11yContainer=function(){var e=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),e.style.border="0",e.style.clip="rect(0 0 0 0)",e.style.height="1px",e.style.margin="-1px",e.style.overflow="hidden",e.style.padding="0",e.style.position="absolute",e.style.width="1px",e.style.outline="0",document.body.appendChild(e),this.a11yContainer=e},t.prototype._announce=function(e){var n=this;this.a11yContainer.textContent="",setTimeout(function(){n.a11yContainer.textContent=e},100)},t.prototype._getAnimationEndEventName=function(){var e=document.createElement("_fake"),n={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},r;for(r in n)if(e.style[r]!==void 0)return n[r];return"animationend"},t}(),Ub=function(){function t(e){var n=this;this.dismiss=this._removeNotification,this.notifications=new Lb,this.view=new Fb;var r=this.registerTypes(e);this.options=Bt(Bt({},wf),e),this.options.types=r,this.notifications.onUpdate(function(s,i){return n.view.update(s,i)}),this.view.on(jn.Dismiss,function(s){var i=s.target,o=s.event;n._removeNotification(i),i.triggerEvent(jn.Dismiss,o)}),this.view.on(jn.Click,function(s){var i=s.target,o=s.event;return i.triggerEvent(jn.Click,o)})}return t.prototype.error=function(e){var n=this.normalizeOptions("error",e);return this.open(n)},t.prototype.success=function(e){var n=this.normalizeOptions("success",e);return this.open(n)},t.prototype.open=function(e){var n=this.options.types.find(function(i){var o=i.type;return o===e.type})||{},r=Bt(Bt({},n),e);this.assignProps(["ripple","position","dismissible"],r);var s=new Ob(r);return this._pushNotification(s),s},t.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},t.prototype.assignProps=function(e,n){var r=this;e.forEach(function(s){n[s]=n[s]==null?r.options[s]:n[s]})},t.prototype._pushNotification=function(e){var n=this;this.notifications.push(e);var r=e.options.duration!==void 0?e.options.duration:this.options.duration;r&&setTimeout(function(){return n._removeNotification(e)},r)},t.prototype._removeNotification=function(e){var n=this.notifications.indexOf(e);n!==-1&&this.notifications.splice(n,1)},t.prototype.normalizeOptions=function(e,n){var r={type:e};return typeof n=="string"?r.message=n:typeof n=="object"&&(r=Bt(Bt({},r),n)),r},t.prototype.registerTypes=function(e){var n=(e&&e.types||[]).slice(),r=wf.types.map(function(s){var i=-1;n.forEach(function(l,u){l.type===s.type&&(i=u)});var o=i!==-1?n.splice(i,1)[0]:{};return Bt(Bt({},s),o)});return r.concat(n)},t}();const Bb={class:"flex w-full p-4 bg-white shadow-lg ]"},jb={class:"w-full p-6 mt-10 rounded-lg shadow-md bg-slate-50"},qb={class:"space-y-4 font-poppins"},zb={class:"relative mt-1 rounded-md shadow-sm"},Hb={class:"relative mt-1 rounded-md shadow-sm"},$b=Gt({__name:"CreateCommentComponent",setup(t){const e=new Ub({duration:6e3,dismissible:!0,position:{x:"left",y:"top"},ripple:!0}),n=mb(),r=Pt(""),s=Pt(""),i=async()=>{const l=vm(n,"condominios",$e().getAdminDocId,"usuarios",Ef().getUserDataId),u=await Db(l);if(u.exists()){if(!u.data().allowComments)return e.error("Error al agregar el comentario, no tienes permiso para comentar en este dominio"),!1}else return console.log("No such document!"),!1;return!0},o=async()=>{const l=pb(n,`condominios/${$e().getAdminDocId}/comments`);$e().setIsLoadingOwner(!0);try{if(!await i()){$e().setIsLoadingOwner(!1);return}const c=await Mb(l,{announcement:s.value,author:Ef().getOwnerName,category:r.value,date:Ye.now(),documentId:""});await Nb(c,{documentId:c.id}),$e().setIsLoadingOwner(!1),e.success("Se ha agregado el comentario"),r.value="",s.value=""}catch(u){$e().setIsLoadingOwner(!1),console.log(u)}};return(l,u)=>(Ue(),ln("div",Bb,[_("section",jb,[u[7]||(u[7]=_("h2",{class:"mb-4 text-2xl font-bold font-signika text-sky-800"},"Crear Nuevo Comentario",-1)),_("form",qb,[_("div",null,[u[3]||(u[3]=_("label",{for:"categoria",class:"block text-sm font-medium text-gray-700"},"Categoría",-1)),_("div",zb,[Rc(_("input",{"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),type:"text",id:"categoria",name:"categoria",class:"block w-full p-3 pr-10 border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm outline-sky-900",placeholder:"Escribe la categoría. Ejemplo: Servicios, Sugerencias, General, Información"},null,512),[[Yc,r.value]]),u[2]||(u[2]=_("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[_("i",{class:"text-gray-400 fas fa-tags"})],-1))])]),_("div",null,[u[5]||(u[5]=_("label",{for:"mensaje",class:"block text-sm font-medium text-gray-700"},"Mensaje",-1)),_("div",Hb,[Rc(_("textarea",{"onUpdate:modelValue":u[1]||(u[1]=c=>s.value=c),id:"mensaje",name:"mensaje",rows:"4",class:"block w-full pr-10 border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Escriba su mensaje, este mensaje será visible para todos los propietarios de su edificio/condominio"},null,512),[[Yc,s.value]]),u[4]||(u[4]=_("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[_("i",{class:"text-gray-400 fas fa-comment"})],-1))])]),_("div",null,[_("button",{onClick:yy(o,["prevent"]),type:"submit",class:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500"},u[6]||(u[6]=[_("i",{class:"mr-2 fas fa-paper-plane"},null,-1),he(" Enviar ")]))])])])]))}}),$e=Od("sysVals",{state:()=>({isUserAuth:!1,isAdmin:!1,isUser:!1,invitationCode:"",userUid:"",adminDocId:"",condominiumId:"",isLoadingComponent:!1,ownerInvitationCode:"",ownerDocId:"",isLoadingLogin:!1,isLoadingOwner:!1,isLoadedOwner:!0,asyncComponent:$b}),getters:{getIsUserAuth:t=>t.isUserAuth,getIsAdmin:t=>t.isAdmin,getIsUser:t=>t.isUser,getInvitationCode:t=>t.invitationCode,getUserUid:t=>t.userUid,getAdminDocId:t=>t.adminDocId,getCondominiumId:t=>t.condominiumId,getIsLoadingComponent:t=>t.isLoadingComponent,getOwnerInvitationCode:t=>t.ownerInvitationCode,getOwnerDocId:t=>t.ownerDocId,getIsLoadingLogin:t=>t.isLoadingLogin,getIsLoadingOwner:t=>t.isLoadingOwner,getIsLoadedOwner:t=>t.isLoadedOwner,getAsyncComponent:t=>t.asyncComponent},actions:{setIsUserAuth(t){this.isUserAuth=t},setIsAdmin(t){this.isAdmin=t},setIsLoadingComponent(t){this.isLoadingComponent=t},setIsUser(t){this.isUser=t},setInvitationCode(t){this.invitationCode=t},setUserUid(t){this.userUid=t},setAdimnDocId(t){this.adminDocId=t},setCondominiumId(t){this.condominiumId=t},setOwnerInvitationCode(t){this.ownerInvitationCode=t},setOwnerDocId(t){this.ownerDocId=t},setIsLoadingLogin(t){this.isLoadingLogin=t},setIsLoadingOwner(t){this.isLoadingOwner=t},setIsLoadedOwner(t){this.isLoadedOwner=t},setAsyncComponent(t){this.asyncComponent=t}}}),Gb={class:"sticky top-0 z-50"},Kb={class:"flex justify-between w-full px-4 py-4 mx-auto text-white bg-white shadow-lg rounded-bl-md rounded-br-md"},Qb={class:"text-xl font-bold text-gray-800"},Wb=["innerHTML"],Xb={class:"hidden space-x-6 md:flex"},Yb={class:"flex flex-col px-4 py-4 space-y-2 animate-fade"},Jb={class:"overflow-hidden"},Zb={key:0,class:"fixed top-0 bottom-0 left-0 right-0 z-40 flex items-center justify-center w-full bg-white bg-opacity-100"},eA={class:"py-8 text-white bg-gray-800"},tA={class:"container px-4 mx-auto"},nA={class:"grid grid-cols-2 gap-4 mb-6 text-center sm:grid-cols-4"},rA={class:"grid grid-cols-2 gap-4 mb-6 text-center sm:grid-cols-4"},sA={class:"grid grid-cols-2 gap-4 mb-6 text-center sm:grid-cols-4"},iA=Gt({__name:"MainLayout",setup(t){const e=['<span>gastos</span><span class="text-sky-800">comunescondominio</span><span>.com</span>','<span>gastos</span><span class="text-sky-800">comunesedificio</span><span>.com</span>','<span>edificio</span><span class="text-sky-800">ycondominio</span><span>.com</span>','<span>mantenimiento</span><span class="text-sky-800">condominio</span><span>.com</span>','<span>mantenimiento</span><span class="text-sky-800">edificio</span><span>.com</span>','<span>mantenimiento</span><span class="text-sky-800">ygastoscomunes</span><span>.com</span>'],n=Pt(e[0]),r=()=>{setInterval(()=>{n.value=e[Math.floor(Math.random()*e.length)]},4e3)};Ll(()=>{r()});const s=Pt(!1),i=()=>{s.value=!s.value};return(o,l)=>(Ue(),ln(bt,null,[_("header",Gb,[_("div",Kb,[_("div",Qb,[(Ue(),ln("p",{to:{name:"home"},class:"animate-fade-down",innerHTML:n.value,key:n.value},null,8,Wb))]),_("nav",Xb,[ie(oe(Ce),{to:{name:"home"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>l[0]||(l[0]=[he(" Inicio")])),_:1}),ie(oe(Ce),{to:{name:"comments"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>l[1]||(l[1]=[he(" Comentarios")])),_:1}),ie(oe(Ce),{to:{name:"contact"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>[he(Tn(oe($e)().getIsUserAuth?"Contacto Con La Empresa":"Contacto"),1)]),_:1}),ie(oe(Ce),{to:{name:"about"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>l[2]||(l[2]=[he(" Mi Condominio")])),_:1}),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:0,to:{name:"login"},class:"p-1 font-medium transition-colors duration-100 ease-out border-[2px] rounded-md border-sky-600 text-sky-800 hover:text-sky-700"},{default:Ae(()=>l[3]||(l[3]=[_("i",{class:"mr-1 text-sm fas fa-user"},null,-1),he("Propietario ")])),_:1})),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:1,to:{name:"login"},class:"p-1 font-medium transition-colors duration-100 ease-out border-[2px] rounded-md border-sky-900 text-sky-900 hover:text-sky-700"},{default:Ae(()=>l[4]||(l[4]=[_("i",{class:"mr-1 text-sm fas fa-user-tie"},null,-1),he("Administrador ")])),_:1})),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:2,to:{name:"login"},class:"p-1 font-medium transition-colors duration-100 ease-out border-[2px] rounded-md border-slate-300 bg-sky-700 text-white hover:text-slate-200"},{default:Ae(()=>l[5]||(l[5]=[he(" Iniciar Sesión")])),_:1})),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:3,to:{name:"register"},class:"p-1 font-medium text-white transition-colors duration-100 ease-out rounded-md bg-sky-900 hover:text-white"},{default:Ae(()=>l[6]||(l[6]=[he(" Registrarse")])),_:1})),oe($e)().getIsAdmin?(Ue(),It(oe(Ce),{key:4,to:{name:"dashboard"},class:"p-1 font-medium text-white transition-colors duration-100 ease-out rounded-md bg-sky-900 hover:bg-sky-700 hover:text-white"},{default:Ae(()=>l[7]||(l[7]=[he(" Panel de Administración")])),_:1})):Ut("",!0)]),_("button",{onClick:i,id:"menu-btn",class:"text-gray-600 md:hidden focus:outline-none"},l[8]||(l[8]=[_("i",{class:"fas fa-bars"},null,-1)]))]),_("div",{id:"mobile-menu",class:Ao(["bg-white md:hidden",{hidden:!s.value,block:s.value}])},[_("nav",Yb,[ie(oe(Ce),{to:{name:"home"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md animate-fade-left animate-delay-0 text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>l[9]||(l[9]=[he(" Inicio")])),_:1}),ie(oe(Ce),{to:{name:"comments"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md animate-fade-left animate-delay-100 text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>l[10]||(l[10]=[he(" Comentarios")])),_:1}),ie(oe(Ce),{to:{name:"contact"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md animate-fade-left animate-delay-150 text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>[he(Tn(oe($e)().getIsUserAuth?"Contacto Con La Empresa":"Contacto"),1)]),_:1}),ie(oe(Ce),{to:{name:"about"},class:"p-1 font-medium transition-colors duration-100 ease-out rounded-md animate-fade-left animate-delay-200 text-sky-800 hover:bg-sky-900 hover:text-white"},{default:Ae(()=>l[11]||(l[11]=[he(" Mi Condominio")])),_:1}),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:0,to:{name:"login"},class:"p-1 font-medium transition-colors animate-fade-left animate-delay-300 duration-100 ease-out border-[2px] rounded-md border-sky-600 text-sky-800 hover:text-sky-700"},{default:Ae(()=>l[12]||(l[12]=[_("i",{class:"mr-1 text-sm fas fa-user"},null,-1),he("Propietario ")])),_:1})),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:1,to:{name:"login"},class:"p-1 font-medium transition-colors animate-fade-left animate-delay-500 duration-100 ease-out border-[2px] rounded-md border-sky-900 text-sky-900 hover:text-sky-700"},{default:Ae(()=>l[13]||(l[13]=[_("i",{class:"mr-1 text-sm fas fa-user-tie"},null,-1),he("Administrador ")])),_:1})),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:2,to:{name:"login"},class:"p-1 font-medium transition-colors animate-fade-left animate-delay-[600ms] duration-100 ease-out border-[2px] rounded-md border-slate-300 bg-sky-700 text-white hover:text-slate-200"},{default:Ae(()=>l[14]||(l[14]=[he(" Iniciar Sesión")])),_:1})),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),It(oe(Ce),{key:3,to:{name:"register"},class:"p-1 font-medium text-white transition-colors duration-100 ease-out rounded-md animate-fade-left animate-delay-[700ms] bg-sky-900 hover:text-white"},{default:Ae(()=>l[15]||(l[15]=[he(" Registrarse")])),_:1})),oe($e)().getIsAdmin?(Ue(),It(oe(Ce),{key:4,to:{name:"dashboard"},class:"p-1 font-medium text-white transition-colors duration-100 ease-out rounded-md animate-fade-left animate-delay-[800ms] bg-sky-900 hover:bg-sky-700 hover:text-white"},{default:Ae(()=>l[16]||(l[16]=[he(" Panel de Administración")])),_:1})):Ut("",!0)])],2)]),_("main",Jb,[oe($e)().getIsLoadingLogin?(Ue(),ln("section",Zb,[ie(Gv)])):Ut("",!0),a_(o.$slots,"main",{},void 0)]),_("footer",eA,[_("div",tA,[l[27]||(l[27]=_("div",{class:"mb-6 text-center"},[_("h2",{class:"text-3xl font-semibold"},"condominio.com")],-1)),l[28]||(l[28]=_("div",{class:"mb-6 text-center"},[_("p",{class:"text-sm"},"Este sitio cuenta con certificados SSL para garantizar la seguridad de tus datos.")],-1)),_("div",nA,[ie(oe(Ce),{to:{name:"home"},class:"hover:text-blue-500"},{default:Ae(()=>l[17]||(l[17]=[he("Inicio")])),_:1}),ie(oe(Ce),{to:{name:"policy"},class:"hover:text-blue-500"},{default:Ae(()=>l[18]||(l[18]=[he("Política de Privacidad")])),_:1}),ie(oe(Ce),{to:{name:"terms"},class:"hover:text-blue-500"},{default:Ae(()=>l[19]||(l[19]=[he("Términos y Condiciones")])),_:1}),ie(oe(Ce),{to:{name:"contact"},class:"hover:text-blue-500"},{default:Ae(()=>l[20]||(l[20]=[he("Contacto")])),_:1}),ie(oe(Ce),{to:{name:"about"},class:"hover:text-blue-500"},{default:Ae(()=>l[21]||(l[21]=[he("Mi Condominio")])),_:1})]),_("div",rA,[ie(oe(Ce),{to:{name:"login"},class:"hover:text-blue-500"},{default:Ae(()=>l[22]||(l[22]=[he("Iniciar Sesión")])),_:1}),ie(oe(Ce),{to:{name:"register"},class:"hover:text-blue-500"},{default:Ae(()=>l[23]||(l[23]=[he("Registrarse")])),_:1}),ie(oe(Ce),{to:{name:"dashboard"},class:"hover:text-blue-500"},{default:Ae(()=>l[24]||(l[24]=[he("Panel de Administración")])),_:1}),ie(oe(Ce),{to:{name:"home"},class:"hover:text-blue-500"},{default:Ae(()=>l[25]||(l[25]=[he("Descargar App Android")])),_:1})]),_("div",sA,[ie(oe(Ce),{to:{name:"home"},class:"hover:text-blue-500"},{default:Ae(()=>l[26]||(l[26]=[he("Descargar App iOS")])),_:1})]),l[29]||(l[29]=_("div",{class:"text-sm text-center"},[_("p",{class:"text-gray-400"},[he("Designed by "),_("span",{class:"text-white"},"PACA")])],-1))])])],64))}}),oA=Mo(iA,[["__scopeId","data-v-e30769d7"]]),aA={class:""},lA={class:"flex min-h-28 w-[450px] space-x-2 border border-b-[1px] border-t-[1px] p-1 font-poppins rounded-lg bg-white shadow-md"},uA={class:"text-lg font-semibold"},cA={class:"text-sm text-sky-800"},hA={class:"text-xs text-gray-500"},fA={class:"text-sm"},nn=Gt({__name:"CommentIlustrative",props:{img:{type:String,default:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRy_WE4hUxUFNJ_WC_5NwTBjUxSr1xMF7batA&s"},name:{type:String,default:"Jonty Andrews"},description:{type:String,default:'"Me ha ayudado bastante"'},date:{type:String,default:"March 13, 2020"},rating:{type:String,default:"⭐⭐⭐⭐⭐"},comment:{type:String,default:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sunt, perspiciatis impedit officia quaerat"}},setup(t){return(e,n)=>(Ue(),ln("div",aA,[_("div",lA,[n[3]||(n[3]=_("div",null,null,-1)),_("div",null,[_("p",uA,Tn(t.name),1),_("h2",cA,[n[0]||(n[0]=_("i",{class:"fas fa-info-circle"},null,-1)),he(" "+Tn(t.description),1)]),_("h3",hA,[n[1]||(n[1]=_("i",{class:"fas fa-calendar-alt"},null,-1)),he(" "+Tn(t.date),1)]),_("p",fA,[n[2]||(n[2]=_("i",{class:"fas fa-comment"},null,-1)),he(" "+Tn(t.comment),1)])])])]))}});/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var on=function(){return on=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},on.apply(this,arguments)};var Er;(function(t){var e=function(){function o(l,u,c,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<o.MIN_VERSION||l>o.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;for(var p=[],m=0;m<this.size;m++)p.push(!1);for(var m=0;m<this.size;m++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();var y=this.addEccAndInterleave(c);if(this.drawCodewords(y),f==-1)for(var C=1e9,m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);var x=this.getPenaltyScore();x<C&&(f=m,C=x),this.applyMask(m)}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}return o.encodeText=function(l,u){var c=t.QrSegment.makeSegments(l);return o.encodeSegments(c,u)},o.encodeBinary=function(l,u){var c=t.QrSegment.makeBytes(l);return o.encodeSegments([c],u)},o.encodeSegments=function(l,u,c,f,p,m){if(c===void 0&&(c=1),f===void 0&&(f=40),p===void 0&&(p=-1),m===void 0&&(m=!0),!(o.MIN_VERSION<=c&&c<=f&&f<=o.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");var y,C;for(y=c;;y++){var x=o.getNumDataCodewords(y,u)*8,D=i.getTotalBits(l,y);if(D<=x){C=D;break}if(y>=f)throw new RangeError("Data too long")}for(var k=0,F=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];k<F.length;k++){var M=F[k];m&&C<=o.getNumDataCodewords(y,M)*8&&(u=M)}for(var q=[],W=0,re=l;W<re.length;W++){var A=re[W];n(A.mode.modeBits,4,q),n(A.numChars,A.mode.numCharCountBits(y),q);for(var v=0,E=A.getData();v<E.length;v++){var I=E[v];q.push(I)}}s(q.length==C);var R=o.getNumDataCodewords(y,u)*8;s(q.length<=R),n(0,Math.min(4,R-q.length),q),n(0,(8-q.length%8)%8,q),s(q.length%8==0);for(var S=236;q.length<R;S^=253)n(S,8,q);for(var T=[];T.length*8<q.length;)T.push(0);return q.forEach(function(He,Je){return T[Je>>>3]|=He<<7-(Je&7)}),new o(y,u,T,p)},o.prototype.getModule=function(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2==0),this.setFunctionModule(l,6,l%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var u=this.getAlignmentPatternPositions(),c=u.length,l=0;l<c;l++)for(var f=0;f<c;f++)l==0&&f==0||l==0&&f==c-1||l==c-1&&f==0||this.drawAlignmentPattern(u[l],u[f]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(l){for(var u=this.errorCorrectionLevel.formatBits<<3|l,c=u,f=0;f<10;f++)c=c<<1^(c>>>9)*1335;var p=(u<<10|c)^21522;s(p>>>15==0);for(var f=0;f<=5;f++)this.setFunctionModule(8,f,r(p,f));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(var f=9;f<15;f++)this.setFunctionModule(14-f,8,r(p,f));for(var f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(p,f));for(var f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(p,f));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var l=this.version,u=0;u<12;u++)l=l<<1^(l>>>11)*7973;var c=this.version<<12|l;s(c>>>18==0);for(var u=0;u<18;u++){var f=r(c,u),p=this.size-11+u%3,m=Math.floor(u/3);this.setFunctionModule(p,m,f),this.setFunctionModule(m,p,f)}}},o.prototype.drawFinderPattern=function(l,u){for(var c=-4;c<=4;c++)for(var f=-4;f<=4;f++){var p=Math.max(Math.abs(f),Math.abs(c)),m=l+f,y=u+c;0<=m&&m<this.size&&0<=y&&y<this.size&&this.setFunctionModule(m,y,p!=2&&p!=4)}},o.prototype.drawAlignmentPattern=function(l,u){for(var c=-2;c<=2;c++)for(var f=-2;f<=2;f++)this.setFunctionModule(l+f,u+c,Math.max(Math.abs(f),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0},o.prototype.addEccAndInterleave=function(l){var u=this.version,c=this.errorCorrectionLevel;if(l.length!=o.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");for(var f=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],p=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],m=Math.floor(o.getNumRawDataModules(u)/8),y=f-m%f,C=Math.floor(m/f),x=[],D=o.reedSolomonComputeDivisor(p),k=0,F=0;k<f;k++){var M=l.slice(F,F+C-p+(k<y?0:1));F+=M.length;var q=o.reedSolomonComputeRemainder(M,D);k<y&&M.push(0),x.push(M.concat(q))}for(var W=[],re=function(A){x.forEach(function(v,E){(A!=C-p||E>=y)&&W.push(v[A])})},k=0;k<x[0].length;k++)re(k);return s(W.length==m),W},o.prototype.drawCodewords=function(l){if(l.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var u=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var f=0;f<this.size;f++)for(var p=0;p<2;p++){var m=c-p,y=(c+1&2)==0,C=y?this.size-1-f:f;!this.isFunction[C][m]&&u<l.length*8&&(this.modules[C][m]=r(l[u>>>3],7-(u&7)),u++)}}s(u==l.length*8)},o.prototype.applyMask=function(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(var u=0;u<this.size;u++)for(var c=0;c<this.size;c++){var f=void 0;switch(l){case 0:f=(c+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=c%3==0;break;case 3:f=(c+u)%3==0;break;case 4:f=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:f=c*u%2+c*u%3==0;break;case 6:f=(c*u%2+c*u%3)%2==0;break;case 7:f=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&f&&(this.modules[u][c]=!this.modules[u][c])}},o.prototype.getPenaltyScore=function(){for(var l=0,u=0;u<this.size;u++){for(var c=!1,f=0,p=[0,0,0,0,0,0,0],m=0;m<this.size;m++)this.modules[u][m]==c?(f++,f==5?l+=o.PENALTY_N1:f>5&&l++):(this.finderPenaltyAddHistory(f,p),c||(l+=this.finderPenaltyCountPatterns(p)*o.PENALTY_N3),c=this.modules[u][m],f=1);l+=this.finderPenaltyTerminateAndCount(c,f,p)*o.PENALTY_N3}for(var m=0;m<this.size;m++){for(var c=!1,y=0,p=[0,0,0,0,0,0,0],u=0;u<this.size;u++)this.modules[u][m]==c?(y++,y==5?l+=o.PENALTY_N1:y>5&&l++):(this.finderPenaltyAddHistory(y,p),c||(l+=this.finderPenaltyCountPatterns(p)*o.PENALTY_N3),c=this.modules[u][m],y=1);l+=this.finderPenaltyTerminateAndCount(c,y,p)*o.PENALTY_N3}for(var u=0;u<this.size-1;u++)for(var m=0;m<this.size-1;m++){var C=this.modules[u][m];C==this.modules[u][m+1]&&C==this.modules[u+1][m]&&C==this.modules[u+1][m+1]&&(l+=o.PENALTY_N2)}for(var x=0,D=0,k=this.modules;D<k.length;D++){var F=k[D];x=F.reduce(function(W,re){return W+(re?1:0)},x)}var M=this.size*this.size,q=Math.ceil(Math.abs(x*20-M*10)/M)-1;return s(0<=q&&q<=9),l+=q*o.PENALTY_N4,s(0<=l&&l<=2568888),l},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var l=Math.floor(this.version/7)+2,u=Math.floor((this.version*8+l*3+5)/(l*4-4))*2,c=[6],f=this.size-7;c.length<l;f-=u)c.splice(1,0,f);return c},o.getNumRawDataModules=function(l){if(l<o.MIN_VERSION||l>o.MAX_VERSION)throw new RangeError("Version number out of range");var u=(16*l+128)*l+64;if(l>=2){var c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return s(208<=u&&u<=29648),u},o.getNumDataCodewords=function(l,u){return Math.floor(o.getNumRawDataModules(l)/8)-o.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*o.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]},o.reedSolomonComputeDivisor=function(l){if(l<1||l>255)throw new RangeError("Degree out of range");for(var u=[],c=0;c<l-1;c++)u.push(0);u.push(1);for(var f=1,c=0;c<l;c++){for(var p=0;p<u.length;p++)u[p]=o.reedSolomonMultiply(u[p],f),p+1<u.length&&(u[p]^=u[p+1]);f=o.reedSolomonMultiply(f,2)}return u},o.reedSolomonComputeRemainder=function(l,u){for(var c=u.map(function(C){return 0}),f=function(C){var x=C^c.shift();c.push(0),u.forEach(function(D,k){return c[k]^=o.reedSolomonMultiply(D,x)})},p=0,m=l;p<m.length;p++){var y=m[p];f(y)}return c},o.reedSolomonMultiply=function(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");for(var c=0,f=7;f>=0;f--)c=c<<1^(c>>>7)*285,c^=(u>>>f&1)*l;return s(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(l){var u=l[1];s(u<=this.size*3);var c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=e;function n(o,l,u){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(var c=l-1;c>=0;c--)u.push(o>>>c&1)}function r(o,l){return(o>>>l&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(l){for(var u=[],c=0,f=l;c<f.length;c++){var p=f[c];n(p,8,u)}return new o(o.Mode.BYTE,l.length,u)},o.makeNumeric=function(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");for(var u=[],c=0;c<l.length;){var f=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+f),10),f*3+1,u),c+=f}return new o(o.Mode.NUMERIC,l.length,u)},o.makeAlphanumeric=function(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");var u=[],c;for(c=0;c+2<=l.length;c+=2){var f=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;f+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(f,11,u)}return c<l.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new o(o.Mode.ALPHANUMERIC,l.length,u)},o.makeSegments=function(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]},o.makeEci=function(l){var u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,u)},o.isNumeric=function(l){return o.NUMERIC_REGEX.test(l)},o.isAlphanumeric=function(l){return o.ALPHANUMERIC_REGEX.test(l)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(l,u){for(var c=0,f=0,p=l;f<p.length;f++){var m=p[f],y=m.mode.numCharCountBits(u);if(m.numChars>=1<<y)return 1/0;c+=4+y+m.bitData.length}return c},o.toUtf8ByteArray=function(l){l=encodeURI(l);for(var u=[],c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=i})(Er||(Er={}));(function(t){(function(e){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Er||(Er={}));(function(t){(function(e){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Er||(Er={}));var kr=Er,Iu="L",Ru={L:kr.QrCode.Ecc.LOW,M:kr.QrCode.Ecc.MEDIUM,Q:kr.QrCode.Ecc.QUARTILE,H:kr.QrCode.Ecc.HIGH},dA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Cu(t){return t in Ru}function Pm(t,e){e===void 0&&(e=0);var n=[];return t.forEach(function(r,s){var i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push("M".concat(i+e," ").concat(s+e,"h").concat(l-i,"v1H").concat(i+e,"z")),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push("M".concat(l+e,",").concat(s+e," h1v1H").concat(l+e,"z")):n.push("M".concat(i+e,",").concat(s+e," h").concat(l+1-i,"v1H").concat(i+e,"z"));return}o&&i===null&&(i=l)})}),n.join("")}function xm(t,e,n,r){var s=r.width,i=r.height,o=r.x,l=r.y,u=t.length+n*2,c=Math.floor(e*.1),f=u/e,p=(s||c)*f,m=(i||c)*f,y=o==null?t.length/2-p/2:o*f,C=l==null?t.length/2-m/2:l*f,x=null;if(r.excavate){var D=Math.floor(y),k=Math.floor(C),F=Math.ceil(p+y-D),M=Math.ceil(m+C-k);x={x:D,y:k,w:F,h:M}}return{x:y,y:C,h:m,w:p,excavation:x}}function Vm(t,e){return t.slice().map(function(n,r){return r<e.y||r>=e.y+e.h?n:n.map(function(s,i){return i<e.x||i>=e.x+e.w?s:!1})})}var Su={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Iu,validator:function(t){return Cu(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(t){return["linear","radial"].indexOf(t)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},pA=on(on({},Su),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),mA=Gt({name:"QRCodeSvg",props:Su,setup:function(t){var e=Pt(0),n=Pt(""),r,s=function(){var o=t.value,l=t.level,u=t.margin,c=u>>>0,f=Cu(l)?l:Iu,p=kr.QrCode.encodeText(o,Ru[f]).getModules();if(e.value=p.length+c*2,t.imageSettings.src){var m=xm(p,t.size,c,t.imageSettings);r={x:m.x+c,y:m.y+c,width:m.w,height:m.h},m.excavation&&(p=Vm(p,m.excavation))}n.value=Pm(p,c)},i=function(){if(!t.gradient)return null;var o=t.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Rt(t.gradientType==="linear"?"linearGradient":"radialGradient",on({id:"qr-gradient"},o),[Rt("stop",{offset:"0%",style:{stopColor:t.gradientStartColor}}),Rt("stop",{offset:"100%",style:{stopColor:t.gradientEndColor}})])};return s(),Fl(s),function(){return Rt("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[Rt("defs",{},[i()]),Rt("rect",{width:"100%",height:"100%",fill:t.background}),Rt("path",{fill:t.gradient?"url(#qr-gradient)":t.foreground,d:n.value}),t.imageSettings.src&&Rt("image",on({href:t.imageSettings.src},r))])}}}),gA=Gt({name:"QRCodeCanvas",props:Su,setup:function(t,e){var n=Pt(null),r=Pt(null),s=function(){var o=t.value,l=t.level,u=t.size,c=t.margin,f=t.background,p=t.foreground,m=t.gradient,y=t.gradientType,C=t.gradientStartColor,x=t.gradientEndColor,D=c>>>0,k=Cu(l)?l:Iu,F=n.value;if(F){var M=F.getContext("2d");if(M){var q=kr.QrCode.encodeText(o,Ru[k]).getModules(),W=q.length+D*2,re=r.value,A={x:0,y:0,width:0,height:0},v=t.imageSettings.src&&re!=null&&re.naturalWidth!==0&&re.naturalHeight!==0;if(v){var E=xm(q,t.size,D,t.imageSettings);A={x:E.x+D,y:E.y+D,width:E.w,height:E.h},E.excavation&&(q=Vm(q,E.excavation))}var I=window.devicePixelRatio||1,R=u/W*I;if(F.height=F.width=u*I,M.scale(R,R),M.fillStyle=f,M.fillRect(0,0,W,W),m){var S=void 0;y==="linear"?S=M.createLinearGradient(0,0,W,W):S=M.createRadialGradient(W/2,W/2,0,W/2,W/2,W/2),S.addColorStop(0,C),S.addColorStop(1,x),M.fillStyle=S}else M.fillStyle=p;dA?M.fill(new Path2D(Pm(q,D))):q.forEach(function(T,He){T.forEach(function(Je,De){Je&&M.fillRect(De+D,He+D,1,1)})}),v&&M.drawImage(re,A.x,A.y,A.width,A.height)}}};Ll(s),Fl(s);var i=e.attrs.style;return function(){return Rt(bt,[Rt("canvas",on(on({},e.attrs),{ref:n,style:on(on({},i),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&Rt("img",{ref:r,src:t.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),yI=Gt({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,n=t.value,r=t.size,s=t.margin,i=t.level,o=t.background,l=t.foreground,u=t.imageSettings,c=t.gradient,f=t.gradientType,p=t.gradientStartColor,m=t.gradientEndColor;return Rt(e==="svg"?mA:gA,{value:n,size:r,margin:s,level:i,background:o,foreground:l,imageSettings:u,gradient:c,gradientType:f,gradientStartColor:p,gradientEndColor:m})},props:pA});const _A={class:""},yA={class:"relative z-10 flex flex-col items-center justify-center min-h-screen bg-center bg-cover font-poppins lg:flex-row lg:items-start",style:{"background-image":"url('https://images.unsplash.com/photo-1554902843-260acd0993f8?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"}},vA={class:"grid grid-cols-2 gap-4 p-4 md:w-1/2 lg:grid-cols-2"},EA={key:0,class:"flex justify-between w-full col-span-2 space-x-4 md:col-span-2 mt-9"},wA={class:"py-12 bg-gray-100 font-poppins"},TA={class:"container px-6 mx-auto"},bA={class:"mt-12 text-center"},AA={id:"comments",class:"slider"},IA={class:"slide-track"},RA={class:"slide"},CA={class:"slide"},SA={class:"slide"},PA={class:"slide"},xA={class:"slide"},VA={class:"slide"},DA={class:"slide"},NA={class:"slide"},MA={class:"slide"},kA={class:"slide"},OA={class:"flex flex-wrap justify-around"},LA=Gt({__name:"HomeView",setup(t){const e=[{title:"Vivir en condominios: 6 de cada 10 mexicanos desconocen la normativa y estos son los riesgos",href:"https://www.eleconomista.com.mx/econohabitat/Vivir-en-condominios6-de-cada-10-mexicanos-desconocen-la-normativa-y-estos-son-los-riesgos-20230706-0010.html",summary:"Se estima que 30% de los condóminos ignoran la existencia de su reglamento y el resto sólo lo usa de forma que les sea conveniente.",img:"https://imagenes.eleconomista.com.mx/files/image_1000_1000/uploads/2023/07/06/66e86a1ce4418.jpeg",source:"El economista"},{title:"La Importancia de una Buena Administración de Condominios",href:"https://blog-casandra.com.mx/la-importancia-de-una-buena-administracion-de-condominios/",summary:"La administración de condominios es una tarea multifacética que implica la gestión efectiva de propiedades residenciales y comerciales compartidas por varios propietarios.",img:"https://blog-casandra.com.mx/wp-content/uploads/2024/07/La-Importancia-de-una-Buena-Administracion-de-Condominios-768x512.webp",source:"casandra.com.mx"},{title:"Condominios Constitución y las historias que hay detrás de este icónico lugar",href:"https://abcnoticias.mx/local/2022/10/21/condominios-constitucion-las-historias-que-hay-detras-de-este-iconico-lugar-173574.html",summary:"Los Condominios Constitución son un sitio muy conocido por todos los regiomontanos, pero pocos conocen su historia y cómo se transformó de un basurero en un complejo habitacional justo en el centro de la ciudad.",img:"https://abcnoticias.mx/u/fotografias/m/2022/10/21/f960x540-185753_259828_5050.jpg",source:"ABCNOTICIAS"},{title:"Congreso CDMX inicia proceso para actualizar Ley de Propiedad en Condominio",href:"https://oem.com.mx/la-prensa/metropoli/congreso-reformara-la-ley-de-propiedad-en-condominio-20874516",summary:"Diputados que forman parte de la Comisión de Unidades Habitacionales y Régimen Condominal del Congreso de la Ciudad de México, estuvieron de acuerdo en emprender todo un trabajo en torno a la construcción de una nueva legislación en la materia.",img:"https://oem.com.mx/la-prensa/img/14072351/1719492709/BASE_LANDSCAPE/768/001.webp",source:"Organización Editorial Mexicana-OEM"},{title:"Condominios, el mayor problema en la reconstrucción de Acapulco",href:"https://www.milenio.com/estados/condominios-el-mayor-problema-en-la-reconstruccion-de-acapulco",summary:"A un año del impacto de Otis, la reconstrucción de Acapulco ha logrado avances en la mayoría de los rubros. La amenaza que representó el huracán John no frenó la recuperación de hoteles, restaurantes, bares y hasta de la vivienda popular.",img:"https://images.milenio.com/uq6apqPnoMSrkz4piasuRvenwDk=/345x194/uploads/media/2024/10/20/cumplen-meses-llegada-huracan-otis.jpg",source:"Milenio"},{title:"Conoce los derechos y obligaciones de los condominios en México",href:"https://www.inmuebles24.com/noticias/consejos/derechos-obligaciones-condominio/",summary:"En el marco actual de la vivienda en México, la adquisición de propiedades en condominios ha tomado el lugar de una de las opciones más convenientes para un gran número de personas.",img:"https://www.inmuebles24.com/noticias/wp-content/uploads/2024/10/Conoce-los-derechos-y-obligaciones-de-los-condominios-en-Mexico-1.jpeg",source:"inmuebles24"}];return(n,r)=>(Ue(),ln("div",_A,[ie(oA,null,{main:Ae(()=>[_("section",yA,[r[6]||(r[6]=_("section",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50 -z-10"},null,-1)),_("div",vA,[r[2]||(r[2]=_("img",{alt:"I 1",class:"w-full max-w-md mx-auto border-2 border-white rounded-3xl",src:"https://images.pexels.com/photos/4240571/pexels-photo-4240571.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},null,-1)),r[3]||(r[3]=_("img",{alt:"I 2",class:"w-full max-w-md mx-auto border-2 border-white rounded-3xl",src:"https://images.pexels.com/photos/416405/pexels-photo-416405.jpeg?auto=compress&cs=tinysrgb&w=600"},null,-1)),r[4]||(r[4]=_("img",{alt:"I 3",class:"w-full max-w-md mx-auto border-2 border-white rounded-3xl",src:"https://images.pexels.com/photos/7433832/pexels-photo-7433832.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"},null,-1)),r[5]||(r[5]=_("img",{alt:"I 4",class:"w-full max-w-md mx-auto border-2 border-white rounded-3xl",src:"https://images.pexels.com/photos/7433825/pexels-photo-7433825.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"},null,-1)),oe($e)().getIsUserAuth?Ut("",!0):(Ue(),ln("div",EA,[ie(oe(Ce),{to:{name:"login"},class:"px-4 py-2 text-xl text-white rounded bg-sky-800"},{default:Ae(()=>r[0]||(r[0]=[he(" Iniciar Sesión ")])),_:1}),ie(oe(Ce),{to:{name:"register"},class:"px-4 py-2 text-xl bg-white rounded text-sky-800"},{default:Ae(()=>r[1]||(r[1]=[he(" Registrarse ")])),_:1})]))]),r[7]||(r[7]=_("div",{class:"p-4 text-white md:w-1/2 lg:w-1/2"},[_("h1",{class:"mb-4 text-3xl font-bold md:text-4xl"}," Historias y Gestión de Condominios "),_("p",{class:"mb-4"}," Bienvenido a una plataforma diseñada tanto para administradores como para propietarios de edificios o condominios. Nuestro objetivo es ofrecerte herramientas innovadoras y una comunidad activa para mejorar la gestión y convivencia en tu condominio. "),_("h2",{class:"mb-2 text-2xl font-bold"},"Para administradores:"),_("ul",{class:"mb-4 ml-4 list-disc list-inside"},[_("li",null,"Crear reportes detallados sobre la administración."),_("li",null,"Publicar avisos y anuncios para mantener informados a los propietarios."),_("li",null,"Gestionar encuestas y recibir retroalimentación de los residentes."),_("li",null,"Monitorear el progreso y resolver problemas reportados.")]),_("h2",{class:"mb-2 text-2xl font-bold"},"Para propietarios:"),_("ul",{class:"mb-4 ml-4 list-disc list-inside"},[_("li",null,"Levantar reportes para problemas o necesidades de tu condominio."),_("li",null,"Comentar y dar seguimiento a los temas que afectan a tu comunidad."),_("li",null,"Participar en encuestas organizadas por los administradores."),_("li",null,"Presentar quejas y dar retroalimentación de manera directa.")]),_("p",{class:"mb-8"}," Ya seas administrador o propietario, nuestra plataforma está diseñada para facilitar la comunicación, mejorar la administración y construir una mejor comunidad. ¡Únete y sé parte del cambio! ")],-1))]),r[10]||(r[10]=_("section",{class:"container px-4 py-2 mx-auto font-poppins"},[_("div",{class:"grid grid-cols-1 gap-6 p-4 px-2 my-4 md:grid-cols-3 font-poppins"},[_("div",{class:"p-4 bg-white border rounded-lg shadow-md card"},[_("h3",{class:"text-xl font-semibold"},"Conocer Experiencias Similares"),_("hr",{class:"my-2"}),_("p",{class:"text-sm"},"Aquí puedes leer lo que otros usuarios han experimentado con sus administradores de edificios o condominios. Comparten sus historias para ayudar a otros a mejorar la convivencia en sus lugares."),_("ul",{class:"pl-5 mt-2 list-disc"},[_("li",null,"Administración eficiente y amigable."),_("li",null,"Comodidad en la gestión de pagos."),_("li",null,"Falta de comunicación en ocasiones."),_("li",null,"Atención rápida a las solicitudes."),_("li",null,"Excelente trato a los inquilinos/propietarios.")]),_("img",{src:"https://images.pexels.com/photos/1647919/pexels-photo-1647919.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Imagen ejemplo",class:"mt-4 rounded-lg"})]),_("div",{class:"p-4 bg-white border rounded-lg shadow-md card"},[_("h3",{class:"text-xl font-semibold"},"Compartir Experiencias Propias"),_("hr",{class:"my-2"}),_("p",{class:"text-sm"},"Comparte lo que has vivido con tu administrador de edificio o condominio. Tus experiencias pueden ser útiles para otros usuarios que buscan una gestión más efectiva."),_("ul",{class:"pl-5 mt-2 list-disc"},[_("li",null,"Buena disposición para resolver problemas."),_("li",null,"Se tarda en responder a las peticiones."),_("li",null,"Desorganización en la gestión de espacios comunes."),_("li",null,"Ayuda constante para mejorar las instalaciones."),_("li",null,"Proceso de renovación complicado.")]),_("img",{src:"https://images.pexels.com/photos/1181619/pexels-photo-1181619.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Imagen ejemplo",class:"w-full mt-4 rounded-lg"})]),_("div",{class:"p-4 bg-white border rounded-lg shadow-md card"},[_("h3",{class:"text-xl font-semibold"},"Comentar las Administraciones"),_("hr",{class:"my-2"}),_("p",{class:"text-sm"},"En esta sección puedes leer sobre las vivencias de otros con sus administradores. Aquí también puedes dejar tu comentario y compartir lo que te ha pasado."),_("ul",{class:"pl-5 mt-2 list-disc"},[_("li",null,"Administradores amables pero poco efectivos."),_("li",null,"Mal manejo de conflictos entre inquilinos/propietarios."),_("li",null,"Responsables, pero carecen de recursos."),_("li",null,"Gran atención a las quejas, pero soluciones lentas."),_("li",null,"Organización mejorable.")]),_("img",{src:"https://images.pexels.com/photos/3182781/pexels-photo-3182781.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Imagen ejemplo",class:"w-full mt-4 rounded-lg"})])])],-1)),r[11]||(r[11]=_("section",{class:"container px-4 py-2 mx-auto font-poppins"},[_("h2",{class:"mt-10 text-2xl font-bold text-center"},"Comparte tu experiencia y ayuda a los demás"),_("p",{class:"mt-4 text-lg text-justify"},[he(" ¿Tienes algo que contar sobre tu administrador o las personas encargadas de gestionar tu edificio o condominio? ¡Comparte tu "),_("strong",{class:"text-sky-800"},"historia"),he(" y ayuda a mejorar el proceso de administración! Cada experiencia es valiosa para crear un mejor ambiente. Si has tenido problemas de "),_("strong",{class:"text-sky-800"},"comunicación"),he(" o simplemente quieres recomendar algún "),_("strong",{class:"text-sky-800"},"consejo"),he(" que podría mejorar la convivencia, no dudes en dejar tu opinión. Lo que hagas ayudará a otros a tener una "),_("strong",{class:"text-sky-800"},"mejor"),he(" experiencia. Tu participación es importante y se agradece enormemente. ")]),_("div",{class:"grid grid-cols-1 gap-6 md:grid-cols-3 font-poppins"},[_("div",{class:"p-4 bg-white rounded-lg shadow-md"},[_("h3",{class:"mb-2 text-xl font-semibold"},"Compromiso con la Comunidad"),_("hr",{class:"mb-4 border-t-2 border-gray-300"}),_("ul",{class:"pl-5 space-y-2 list-disc"},[_("li",null,"Nuestro objetivo es asegurar que todos los inquilinos/propietarios se sientan cómodos y escuchados. "),_("li",null,"La comunicación constante es clave para mejorar la experiencia en el edificio."),_("li",null,"Estamos disponibles para resolver problemas de manera rápida y eficiente."),_("li",null,"Fomentamos un ambiente de respeto mutuo entre todos los residentes."),_("li",null,"Nos aseguramos de que las áreas comunes estén siempre en condiciones óptimas.")]),_("img",{class:"w-full mt-4 rounded-lg",src:"https://images.pexels.com/photos/3184317/pexels-photo-3184317.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Imagen de comunidad"})]),_("div",{class:"p-4 bg-white rounded-lg shadow-md"},[_("h3",{class:"mb-2 text-xl font-semibold"},"Experiencias Positivas con el Mantenimiento"),_("hr",{class:"mb-4 border-t-2 border-gray-300"}),_("ul",{class:"pl-5 space-y-2 list-disc"},[_("li",null,"Las reparaciones se realizan de forma eficiente y en el menor tiempo posible."),_("li",null,"Siempre trabajamos con profesionales certificados para garantizar la calidad del servicio."),_("li",null,"Mantenemos una lista de pendientes actualizada para que no se nos pase ningún detalle."),_("li",null,"Nos aseguramos de que las instalaciones sean seguras para todos los residentes."),_("li",null,"Nos comprometemos a realizar mejoras continuas basadas en las necesidades de la comunidad.")]),_("img",{class:"w-full mt-4 rounded-lg",src:"https://images.pexels.com/photos/3184395/pexels-photo-3184395.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Imagen de mantenimiento"})]),_("div",{class:"p-4 bg-white rounded-lg shadow-md"},[_("h3",{class:"mb-2 text-xl font-semibold"},"La Atención al Inquilino es Nuestra Prioridad"),_("hr",{class:"mb-4 border-t-2 border-gray-300"}),_("ul",{class:"pl-5 space-y-2 list-disc"},[_("li",null,"Valoramos la retroalimentación de los inquilinos/propietarios para mejorar continuamente."),_("li",null,"Nos aseguramos de que todas las solicitudes sean atendidas con prontitud."),_("li",null,"Fomentamos un diálogo abierto para solucionar cualquier inconveniente rápidamente."),_("li",null,"Nos adaptamos a las necesidades individuales para ofrecer un mejor servicio."),_("li",null,"Estamos comprometidos en crear un ambiente armónico donde todos puedan sentirse cómodos.")]),_("img",{class:"w-full mt-4 rounded-lg",src:"https://images.pexels.com/photos/3184300/pexels-photo-3184300.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Imagen de atención"})])]),_("div",{class:"mt-10 text-center font-poppins"},[_("h2",{class:"text-2xl font-semibold"},"Tu Opinión Es Importante"),_("p",{class:"mt-4 text-base"},[he(" Nos encantaría conocer tu experiencia como inquilino en este edificio. Valoramos cada comentario y buscamos mejorar constantemente nuestros servicios para garantizar que cada uno de nuestros residentes se sienta cómodo y bien atendido. "),_("strong",{class:"text-sky-800"},"Tu feedback"),he(" es fundamental para seguir creciendo juntos como comunidad. Gracias por ser parte de este proyecto. ")])])],-1)),_("section",wA,[_("div",TA,[r[9]||(r[9]=_("div",{class:"flex items-center justify-between space-x-6"},[_("div",{class:"flex flex-col items-center w-full md:w-2/3"},[_("h2",{class:"mb-4 text-3xl font-semibold"},"Gestiona Mejor tus Inquilinos/Propietarios"),_("p",{class:"mb-6 text-lg"}," ¿Deseas tener un mejor control y gestionar de forma más eficiente tus inquilinos/propietarios? Aquí mismo, puedes crear una cuenta y empezar a aprovechar las herramientas que te permitirán mejorar la comunicación y organización de tu edificio o condominio. "),_("img",{class:"w-full rounded-lg",src:"https://images.pexels.com/photos/3183159/pexels-photo-3183159.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Imagen de gestión de inquilinos/propietarios"})]),_("div",{class:"flex flex-col items-center w-full p-6 bg-white rounded-lg shadow-md md:w-1/3"},[_("h3",{class:"mb-4 text-2xl font-semibold"},"Beneficios de Gestionar desde Aquí"),_("ul",{class:"pl-5 space-y-3 text-lg list-disc"},[_("li",null,"Poder dar anuncios fácilmente a todos los inquilinos/propietarios."),_("li",null,"Ver los comentarios, sugerencias o quejas de los inquilinos/propietarios."),_("li",null,"Monitorear el estado de las solicitudes y mantenimiento de manera centralizada."),_("li",null,"Acceder a reportes detallados sobre la gestión y estado del edificio."),_("li",null,"Mejorar la comunicación con los inquilinos/propietarios a través de una plataforma única.")])])],-1)),_("div",bA,[ie(oe(Ce),{class:"px-4 py-2 text-xl text-white rounded bg-sky-800",to:{name:"register"}},{default:Ae(()=>r[8]||(r[8]=[he("Registrarse Ahora")])),_:1})])])]),r[12]||(r[12]=_("section",{class:"py-12 bg-gray-100 font-poppins"},[_("div",{class:"container px-6 mx-auto"},[_("div",{class:"flex items-center justify-between space-x-6"},[_("div",{class:"w-full p-6 bg-white rounded-lg shadow-md md:w-1/3"},[_("h3",{class:"mb-4 text-2xl font-semibold"},"Gestiona de Forma Más Fácil desde Tu Móvil"),_("ul",{class:"pl-5 space-y-3 text-lg list-disc"},[_("li",null,"Accede a todos los anuncios de tus inquilinos desde cualquier lugar."),_("li",null,"Recibe y responde a comentarios, sugerencias o quejas directamente desde tu teléfono."),_("li",null,"Visualiza el estado de solicitudes y mantenimiento al instante."),_("li",null,"Consulta reportes y gestiona el control de tu edificio o condominio sin necesidad de estar frente a una computadora."),_("li",null,"La plataforma es 100% compatible en móviles y tablets, ¡disponible para iOS y Android!")])]),_("div",{class:"w-full md:w-2/3"},[_("h2",{class:"mb-4 text-3xl font-semibold text-sky-800"},"Prueba la Aplicación en Tu Teléfono"),_("p",{class:"mb-6 text-lg"},[he(" Ahora, puedes gestionar todo de manera aún más fácil y rápida con nuestra aplicación móvil. La app está disponible tanto en la "),_("strong",null,"Play Store"),he(" como en la "),_("strong",null,"App Store"),he(". ¡Descárgala hoy mismo y comienza a disfrutar de un control total sobre tus inquilinos y empleados, sin importar donde te encuentres! ")]),_("p",{class:"mb-6 text-lg"}," Crear tu cuenta es fácil y rápido; solo te tomará unos minutos. Además, toda la información que manejas en la página web está sincronizada y es cross-platform, lo que significa que podrás acceder a tus datos desde tu móvil, tablet o computadora sin problema alguno. "),_("div",{class:"flex flex-wrap justify-between md:flex-nowrap"},[_("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZ0AAAB6CAMAAABTN34eAAABg1BMVEUAAAD///+qqqqmpqZfX18A8HYA4P9VVVUAxf/u7u4AyP+jo6MAz/+enp4A2/8A0v8Ay/8A1f//yAAA2P/7N0YAyf//0ADGxsYA0P/1M0kA4v/6NkfwL0z4+Pivr68Av/8iIiL/zADtLU3/xACOjo7/1wDn5+cA82h0dHTNzc3W1ta+vr4XFxdnZ2cAjZ/lKFEF6HVBQUH/vgCUlJQA6f9/f382Njb/LEdLS0v/fDDe3t4K4HUAhp8gICDhJVMAfJ8vLy8P1nMA274A2Mb/3QCUk7n/Iiz9FTSajqzvAD0cSDMYPSwtjlYy4Ygxo2oPGBUefKAndk8PWnEP22cw0X4uvXQSJh4p7IUmg1QdXT4W+YIWPiwA270o64UrvnIA93mX7GXAmyKWgSX0yyhvYB/euypCOxbJsCpmWhtTSRaS4Eb/6AQiHQiSi8H/cxZZSgOPdgOwkALNpwM3LQPmuQK5KDQjAA7TLjtKEBVuGCCQHymjITEzCg9YEht6GCXCI0J7ABwRfXBAAAAPjklEQVR4nO2d/WPbxBnHpZMTY1S16QsxSSuRpI5nyRbEGGeZWToDKWyMshdgbN1GuzHGNva+MbbB1v3pk+79TdIpliPH1fcHSCXd6e4+d/fcPXcnWzZVJxoC12lUp1wwjDoMiUX+mAHPdUCjuuW4HphJdDogRdMbxK1GdSoe9FJAoMPTiTwHTNpWo1VQewIcL2J0Qg+Ahs3qqA2AFxI6kQe8Ud0pasRplBCJEJ1O8mfdyWkkKWHSgXSAA5qWs2oaJVRSOjO3sTkrqDZwZwkd4EzqTkkjjSZJ47ESq9M0nVVUO7E8VuiCutPRSCvgRtbQ6dWdjEZa9ZyhBcCg7mQ00moAgOWCuO5kNNIqBq7lgFbdyWikVQs4DZ2VVUNnldXQWWU1dFZZq0OnNZ1WnIyTwXQwrjbKC5YZnbe/u+RkxHgdPSJje27fg2eFNqeAhEkXP6whf2vIxTgK0DWf+EH2kn84+O+BbXeXnKNKZELnnQeJ3v3eElMRsRKO0JVF6Uy5y4h4Ssc+RnfXiM73X3/vtddee/XBO0tLBETRdZyhn+4+IZd8JHtideH/0RWb+gQhnQBdRP9ldDy4xyhwA9gmp+klSGeGbq8RnedeeAPiefXBD5aThj5sIFA9XJQpHekpQG4R2fSRCQ2PNUhBzOGf4zT21AUP6dg9cn9N6Pxw65kUz6up3n97CUlwcfFBxdghm9DZEx8LSNESMTqeTMfmSz/pNn0L0vFJkPWh862tZ5554fX3IJ2jow9+VHkSkiJTvbAL0XFJ/4jkw5AJnVkXU1kvOgTP0dHRh+9WnILEfvfVqwvR6Yi8e9De7KXI8BhhzeggPEepNj78caUpSEZdmnVz1e6Y0xnZUmD4b0hngnq5daOT4Nk4QtrYePCTClMwI0PeY2+C5M35MRsZiJnTadOxGZafDqUhnXQEEqwXnWcVPA/fr256OiNjgphOUAb8fIcUozmdmM6asBIkJ5jOOAk1Xic6V54leL5G6CR8PqgqBbTtMDrT5bWdNJr+mtHhW88G0qMPK5qdUrsz701TzUjbkZ6rxO5YaAQXrxGd557lWs8G1aOfVzI7lcdsHehvWdKYzUJNdI3oPL/F49ng9PD9n1aQBFtwArTQqGop8x10MUyqwzrRycTzqArzI/gKTn1U0kvxFSA6I2GwsdIyoHNtKxtPwmdx88P52QbEDbqI3VH9bGn+KJ100rNedDg8PxPxVGF+BB+1PceXmI8aqgydDB816e7660Pnm9eubOW1noTPg0Wdo9z6Tn8PXhHWd6Dy6bhSjNr1HUJnvEZ0rl8pxPPwowXX5sjaaJ8AWJQOXRulq3UcnTSuNaJThCfhs7BztDWdxtUe8Ro/BfsKIJ1CPMnstFrnaCPLjM7zRngS81Olc7SRZUTn5jVDPBsPP6p+be6plhEdYzwVmJ9GnMzo6PC8ocPTmJ9KZUjHHE8yO23MT1UypVMCT0XO0UZmdK6XxfPo8S8uLANrLQM6V6+XxfP47v72Ly8sC2ssMzrl8Dy+e+PG/vbHv7qwTKytDOmUwZPCubG/v3/4ya8vLBtrKlM65nge38V09rfPPi2dnrYXQgdoJwqaY/rmdEzxPH6Z0dk+PCxlfuaBb/PqniyYu2KNu6mmxQ+yh4mGgSd8SSBILwZZYc8lEzo3S+BJ4TA6CR9z8zPq2orC+eJZzFUbvsYpfpA9LFYg5gRHbb7S1BnRMccD4fB0tg/PPvmtUUp6atZTLfnrV6jAldWhvIcl0UND9dDZvGmM5/HLKp3Dw88+NVi3iXQ5h82nsrzqtDgd25+ju/XRMcOTwNHROTw7+01ROri10Chw3SBkFmipeCqgQ3YP1UjHBE8KR0vn8Oyzgt6NshjSvVPHDq6aS/0m5jno9EMs2tzpYcra6BTjgXAy6Jx9nJuKvtyHI6V8/MXzmKdz0OEsYYybPAxfE52rRnh+93Ienc9+n/MKcnBaScbYXzKc89ARNmfh3Srpn3XRMcCz9Yc/3j0vHXL4YK7e2ttbMH9FWpQO7pPT3UK10SnEs3X/za9/4+45ezY/E87ytTCdAR251EenAM+V+2/euoXwZNDJGRXgiU49jpuF6Vh0XFALnRd3rxbgeQ7CSfHcyBhRH/4p5wU+rX01aHE6M2J46qSTg+cagoPwqHTOzv6Sl4KYnzNcuBanE60EnUw8FA7EU9qTgwZsZTbOtidBtxv09C7SARh2h66+m4zd5N7kWIhLoRN7aQTaL6Vq6XSy6AxANwq7ziLfXC1BJwPPdQYnxbNf1guKOjbzPAA6c/WVX9aImT8oVD6ATjZW27MTK0hPN6SHSyU6I/ZVJM03unV0jlGUlkTnlPu80nAOL3XgiQph6zBMhp/dqZvQ2czDk8C5fUvCw1YQtv+cEzMqD5vUPSNJvlLB9b83E+6F2QEngJSkSEeMXeGroxNSlDwdKZkwCPJ9CBNuu6BmGtHJwXMzgXNbwnOD0sk1ODgBMIGar31oFdqSuMy25Ht8PZVWJ3wtHXkJQ+4fNXSm7E0cHSCnBHbc6E8lcI6pMqND+ch4EBwJzzaks73917/lRCumUDI73bArKkTlp3Fk05AqHA6PZulIpTNUnpDKRaXjoefgAXxGZ6pEBFeQUPzcMZeZfEGWKR09nqv339y5rcWzv/33vFE0E+oDJAebmjvYuIjl8IeeNyTmBxfWHnkycib0FweJH8gjPALPY6AkOqRM++60R0CJyUIPB238+3kDl6QBDjQonRGJKJhMAuJ8H6NDXXxTGeveIciYjg5PCmdHi2f/RqHBwZqgHIsXVTq+xRz4uMMhpYnGYBhIF3m057iVdfliIAEJZIkOfhG2AqgPFW1X1goCqv2MzgT+iSNCzgQYE0oUNWeBLuuCDOi8spmBB8HR4jEwOFiGbSetYX2p7s25eSyeNTH/MUYA+7aIAkaa6ugA6aGIhSfKoINbLz8qiEObDvjnNAMokbQvRtf3cgrHvO0oeDbvv7Wzo8Xz+T9y4pOEUix+OUXfdtpKbnCbmFukLPl6GFLsx+wxrKGGjvQQqv9itdHTIWMHcb7DrUqh7iG2uLlRKlRHcn0kZeiIeBgcCc8X/8x7oaxjm08xVp8XGV8FfEVFYpfUWNhQHbUKYWeHSqfF4z1hAwQ+lI4Ow6ebjUZdp4XflnZ/PT4LqC/O/V2qUnR4PDwcHs/Ov/JepxHKZM7eKNihzUjHJtxCaCPSuYtdeJfkfqYGHCp0PJaMKVkMTAy7MKGS6fghP94S6Iy5UaLHmKBgXNrzpxLl6LCJz+79t+7sqHhu/zv3bTqFmoIVRKqojSnx8nFuXXhTnNahijrFAcVimCp0hhjhnLoUkpdKdUbryaHi6XCRUEbpdcDSGZDk5agkHYJn99tv3bkj47l1+/Pcd+mFTXTmfWSYeriQpYkRcUGisp2LWSOFognYVujAmPwWm1F11L1axnREpwVHB3W38OtxBdlGWShJZ5ODI+P54qv8d2XIJgWkF+oixtYpqs7izVCgI+4PIQU/0gQ80dNhCnVFYkqHm1KxrUUel5s90hcXOMdL09nk4HB4EjZlDQ4R7gXm+rsISpppVGriXWJSAoyQF2p0E23AlkKH9xH5rn4fkCEdbJ783ml6+djzuWCwWqRuObrwkKfydDavvkLhUDy3d/5b8KIc2RSARhGtYyjLmqAdMmgVO3FkjAfMOHGaKHSYpZhlrtIa0kHtg/v4JR8M1yc0CRpqI2I6Bx0eDsHzZcFrcsU7q2Qhcw/rGOIkGGo6vWtr2kefdCKagJFCh3geAmH5R5QhHV9qFgM+GPrHADmsi75EUp5OAufg4I7A5/PzGRwqPILVjC6xsxeutUxUAn3aZGwltzFtkT0lIPN4UTqalQxllG9IR246MyEYZDfrZNZHXiU8ORwcHs/OF/8pekmRTkmnIvUpIzz2Qb0SLj+u+/JYiQa0vIm43l4JyHxCzFcQkXZIdGz352J6ytBhJY9qFQ02sakKN7qY0NlV4VA8OwcLGBwqOs2bcVMWNvPATWIolTKGA8c9e1Lz2+twbSGQAuLxmUgHp4FOvE5UEoZ0EHviBCALcTQYhVO8k9KIzi4H5zsHBzye8rNPfTJYhepO4nY7ngZswk6J4X9HMLmx0LCIgbK9dLg1x3uwCRD8L7SaPSWjXMlHHfIVZIyrgtD5GNLBlQHOl9gEigajla748IsZnV0VDsTzpIS7M1/Eya8Ra06MYYedWSC2hs4A/T6dZBBbw1wwfe6wg7z6RoN1NDWDRVNIhy41cankgs3JleJSMaSzq8I5uPOklLuzSBkHeHze0msWHVnx9ZV7rOIPdFHLdObqI+IY3XQ26omRzKRguJEaHGI0pbOL4Lz0EmXz0nlnn1kaiIdGkaQZQSzf51288qaDYWZAP9TRocaKStqPYezJEdfALSkYbsnz4iIxprOL4FA8FRkcQT25dLrK5EM8XCqxm/J8O2LRjjh2HfRZSkaHri64fOyh7DHI35oIE4+tILcnp3NqycFQ7AYFYk4Hw0F4vqzM4Ig6cZj5yDgJPQeYYd85VW5OCYNQHa2e4K0Isymu3OkA7xi4rsvvCPTIYCNQp4rKw4ImyU2XWnoPdbTwQ6fwx1FYGaMhi8nPdxrToXASPNUaHFl77Thu5c+iT+I4c0HouBW35hn35q0YdYWwBUYZT43juF3FgbtxW58Lm1SNQpnSYXAO7i08+6xffU2/eFGi607FMqSTwLmH6VQx+7x4nXSF1gALaMmH7bMkbC7IlxmdFM49iGchd2dtStei+ZaCjH89X0MeiOOQXBn8ouUrGE5C58mC7s6a5Et9CVrSr/Ywh7HQqMPMrhn8GiyF8+SyGhzJD4nnG/V0bGj5zfBAjAGdF1G3du9yGhwoPAbveK1xu4edEss+zZ0hNOQ3/DyTya+Q/y+B8+QSs+E8X5xM5hvLSknhwg6WCR3L+upy2humEwVOzs7/ZQo5qE1PMJvRufyaS06iuj7NV65TfVroCGuS9nCp397JESg3Hnl66CQzjeHMt/1+t6ZO7Rx6muhcPjV0VlkNnVVWSscFi3zxoNHyFAPXAqD59PNqagCANXQuzyjm6VLPGVqhq/nqSKMVEHAjq+OB3NOLjWpSG3gdywZOTcuEjXI1cYBt2TO3aTwrqDZwZ+lmOOCAujxPjbI0SqjArYqJ5cna4dioLiVMOmgjaZT82bSeVdIoIZKu4sI1h9ADje1ZIbUB8OAiNz5J5znAa/ishtoT4Hj4VDbeEgFcB4DeIG41qlPxoAeA45Ld4vSo3Ax4KaBGNctxPfr9P0Yn/S28YdKCGtUpFwwjbhPE/wGTnk/C8EBL7AAAAABJRU5ErkJggg==",alt:""}),_("img",{src:"https://techcrunch.com/wp-content/uploads/2013/08/appstore.png",class:"w-1/2",alt:""})])])]),_("div",{class:"mt-12 text-center"},[_("a",{href:"/register",class:"px-6 py-3 text-xl font-semibold text-white transition duration-300 bg-blue-600 rounded-lg hover:bg-blue-700"}," Descarga la App y Regístrate ")])])],-1)),_("div",AA,[_("div",IA,[_("div",RA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Laura Martínez",description:"Gracias a la app",date:"Enero 15, 2025",rating:"⭐⭐⭐⭐⭐",comment:"Gracias a la aplicación pude gestionar mi condominio de manera más eficiente. Todo es más fácil con las herramientas que ofrece."})]),_("div",CA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Antonio Pérez",description:"Excelente plataforma",date:"Enero 12, 2025",rating:"⭐⭐⭐⭐",comment:"La página es muy útil. Pude expresar mi opinión sobre mi administrador y obtener una respuesta rápida. Muy buena experiencia."})]),_("div",SA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Sandra González",description:"Buena solución",date:"Diciembre 30, 2024",rating:"⭐⭐⭐⭐",comment:"El sitio me ayudó a organizar mejor mi condominio. El administrador ha sido amable, pero la app hizo todo más fácil."})]),_("div",PA,[ie(nn,{img:"https://via.placeholder.com/150",name:"David Ruiz",description:"No tan buena experiencia",date:"Diciembre 20, 2024",rating:"⭐⭐⭐",comment:"No tuve una buena experiencia con la administración. No respondieron a tiempo, aunque la página me permitió dejar mi comentario."})]),_("div",xA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Mónica Sánchez",description:"Experiencia positiva",date:"Diciembre 10, 2024",rating:"⭐⭐⭐⭐⭐",comment:"Tuve una experiencia muy positiva con la administradora. Siempre estuvo disponible y la plataforma me permitió dar feedback fácilmente."})]),_("div",VA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Javier Gómez",description:"Satisfacción completa",date:"Noviembre 30, 2024",rating:"⭐⭐⭐⭐⭐",comment:"Estoy muy contento con la gestión de mi condominio. La plataforma facilitó la comunicación, ¡todo ha sido perfecto!"})]),_("div",DA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Patricia López",description:"Un gran apoyo",date:"Noviembre 15, 2024",rating:"⭐⭐⭐⭐",comment:"La página ha sido un gran apoyo para gestionar todo en mi condominio. Mi administrador se ha mostrado siempre dispuesto a ayudar."})]),_("div",NA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Carlos Álvarez",description:"Súper fácil de usar",date:"Octubre 25, 2024",rating:"⭐⭐⭐⭐",comment:"La plataforma es muy fácil de usar. Pude comunicarme rápidamente con mi administrador y gestionar los pagos sin problemas."})]),_("div",MA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Beatriz Romero",description:"Más organización",date:"Octubre 10, 2024",rating:"⭐⭐⭐⭐⭐",comment:"La app me ha ayudado a organizar mucho mejor las cosas en el condominio. Gracias a la plataforma, todo ha sido mucho más eficiente."})]),_("div",kA,[ie(nn,{img:"https://via.placeholder.com/150",name:"Fernando Díaz",description:"Un mal administrador",date:"Septiembre 5, 2024",rating:"⭐⭐",comment:"Tuve una mala experiencia con mi administrador. A pesar de mis quejas en la página, no recibí una respuesta rápida. Necesito mejorar la comunicación."})])])]),r[13]||(r[13]=_("section",{class:"container px-4 py-8 mx-auto font-poppins"},[_("div",{class:"flex flex-col justify-between sm:flex-row"},[_("div",{class:"flex flex-col items-center justify-center w-full mb-6 sm:w-1/2 sm:mb-0"},[_("h2",{class:"mb-4 text-2xl font-semibold text-sky-800"},"Elige la versión que más te convenga"),_("h3",{class:"mb-4 text-lg"},"Con nuestra plataforma, puedes elegir entre la versión web o la aplicación móvil. Ambos son multiplataforma y tus datos se sincronizan automáticamente."),_("ul",{class:"pl-5 list-disc"},[_("li",null,"Control total de tu condominio"),_("li",null,"Acceso a todas las funciones desde cualquier dispositivo"),_("li",null,"Actualizaciones constantes y mejoras"),_("li",null,"Gestión de tus empleados fácilmente"),_("li",null,"Seguridad y protección de datos"),_("li",null,"Soporte al cliente eficiente y rápido")])]),_("div",{class:"grid w-full grid-cols-1 gap-6 sm:w-1/2 sm:grid-cols-2 lg:grid-cols-3"},[_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Dar anuncios"),_("p",{class:"text-sm"},"Permite al administrador comunicar información importante a todos los propietarios de manera eficiente.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Crear encuestas"),_("p",{class:"text-sm"},"Facilita la toma de decisiones mediante encuestas rápidas y efectivas para los propietarios.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Ver comentarios"),_("p",{class:"text-sm"},"Accede a los comentarios de los propietarios para estar al tanto de sus opiniones y sugerencias.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Votar en encuestas"),_("p",{class:"text-sm"},"Participa en las decisiones del condominio mediante el voto en encuestas creadas por el administrador.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Ver anuncios"),_("p",{class:"text-sm"},"Mantente informado sobre las actualizaciones y noticias importantes del condominio. ")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Reportar fallas"),_("p",{class:"text-sm"},"Informa rápidamente al administrador sobre problemas o fallas en el condominio.")])])])],-1)),r[14]||(r[14]=_("section",{class:"container px-4 py-8 mx-auto font-poppins"},[_("div",{class:"flex flex-col justify-between sm:flex-row"},[_("div",{class:"grid w-full grid-cols-1 gap-6 mb-6 sm:w-1/2 sm:grid-cols-2 lg:grid-cols-3 sm:mb-0"},[_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Gestión en Movimiento"),_("p",{class:"text-sm"},"Con la app móvil, puedes realizar tareas clave como registrar pagos, revisar reportes o asignar tareas mientras te desplazas.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Notificaciones Instantáneas"),_("p",{class:"text-sm"},"Recibe alertas en tiempo real sobre actividades importantes, como avisos de pago o cambios en el calendario de eventos del condominio.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Diseño Intuitivo"),_("p",{class:"text-sm"},"La interfaz móvil está diseñada para ser fácil de usar, permitiéndote acceder rápidamente a las funciones que necesitas sin complicaciones.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Soporte en Todo Momento"),_("p",{class:"text-sm"},"Nuestro equipo de soporte está disponible a través de la app para resolver cualquier problema que enfrentes en minutos.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Sincronización Automática"),_("p",{class:"text-sm"},"Todo lo que hagas en la app móvil se sincroniza al instante con la plataforma web, asegurando que no pierdas información.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Acceso Seguro"),_("p",{class:"text-sm"},"La aplicación está protegida con cifrado avanzado, garantizando que tus datos personales y los del condominio estén seguros.")])]),_("div",{class:"flex flex-col items-center justify-center w-full sm:w-1/2"},[_("h2",{class:"mb-4 text-2xl font-semibold text-sky-900"},"Disfruta de los beneficios de la app móvil"),_("h3",{class:"px-3 mb-4 text-center"},"Nuestra aplicación para dispositivos móviles está diseñada para brindarte comodidad, rapidez y control en la gestión de tu condominio, sin importar dónde estés."),_("ul",{class:"pl-5 list-disc"},[_("li",null,"Realiza tareas administrativas de manera ágil y sencilla."),_("li",null,"Recibe recordatorios y notificaciones importantes en tiempo real."),_("li",null,"Accede a reportes y estadísticas al instante."),_("li",null,"Administra a tu equipo de trabajo en cualquier momento."),_("li",null,"Acceso seguro desde cualquier dispositivo móvil."),_("li",null,"Sincronización perfecta entre la versión web y la app móvil.")])])])],-1)),r[15]||(r[15]=_("section",{class:"container px-4 py-8 mx-auto font-poppins"},[_("div",{class:"flex flex-col justify-between sm:flex-row"},[_("div",{class:"flex flex-col items-center w-full mb-6 justify-evenly sm:w-1/2 sm:mb-0"},[_("h2",{class:"mb-4 text-2xl font-semibold"},"Elige la versión que más te convenga"),_("h3",{class:"mb-4 text-lg"},"Con nuestra plataforma, puedes elegir entre la versión web o la aplicación móvil. Ambos son multiplataforma y tus datos se sincronizan automáticamente."),_("ul",{class:"pl-5 list-disc"},[_("li",null,"Control total de tu condominio"),_("li",null,"Acceso a todas las funciones desde cualquier dispositivo"),_("li",null,"Actualizaciones constantes y mejoras"),_("li",null,"Gestión de tus empleados fácilmente"),_("li",null,"Seguridad y protección de datos"),_("li",null,"Soporte al cliente eficiente y rápido")])]),_("div",{class:"grid w-full grid-cols-1 gap-6 sm:w-1/2 sm:grid-cols-2 lg:grid-cols-3"},[_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Control Total de tu Condominio"),_("p",{class:"text-sm"},"Gestiona todos los aspectos de tu condominio desde cualquier dispositivo. Con nuestra plataforma podrás administrar las tareas de mantenimiento, pago de servicios y más, sin importar donde te encuentres.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Acceso Multiplataforma"),_("p",{class:"text-sm"},"Accede a todas las funcionalidades de la plataforma desde cualquier dispositivo: ya sea desde tu computador, teléfono móvil o tablet. Sincronización automática de datos en todos tus dispositivos.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Actualizaciones Constantes"),_("p",{class:"text-sm"},"Nuestra plataforma está en constante mejora, ofreciéndote nuevas características y optimizaciones, garantizando una experiencia más fluida y eficiente para la gestión de tu condominio. ")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Gestión de Empleados Simplificada"),_("p",{class:"text-sm"},"Lleva un control detallado de tus empleados, asigna tareas, revisa reportes y gestiona horarios. Con nuestras herramientas, administrar tu equipo será más fácil que nunca.")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Seguridad Avanzada"),_("p",{class:"text-sm"},"Tu información está protegida con el más alto nivel de seguridad. Nuestra plataforma cumple con las normas de seguridad más estrictas para garantizar que tus datos estén siempre a salvo. ")]),_("div",{class:"p-4 text-center bg-white rounded-lg shadow-lg"},[_("h4",{class:"mb-2 text-xl font-semibold"},"Soporte al Cliente Rápido"),_("p",{class:"text-sm"},"En todo momento, podrás contar con nuestro equipo de soporte para resolver cualquier duda o inconveniente que tengas. Estamos aquí para ayudarte a gestionar tu condominio sin estrés.")])])])],-1)),_("section",OA,[(Ue(),ln(bt,null,o_(e,(s,i)=>ie(qv,{key:i,title:s.title,href:s.href,summary:s.summary,imgUrl:s.img,source:s.source},null,8,["title","href","summary","imgUrl","source"])),64))])]),_:1})]))}}),FA=Mo(LA,[["__scopeId","data-v-a8d8a3cb"]]),Dm=xv({history:av("/micondominio/"),routes:[{path:"/",name:"home",component:FA,meta:{requiresAuth:!1}},{path:"/comments",name:"comments",component:()=>_n(()=>import("./CommentsView-DR5Z7fNv.js"),[]),meta:{requiresAuth:!1}},{path:"/about",name:"about",component:()=>_n(()=>import("./AboutView-DvgdIYIy.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>_n(()=>import("./LoginView-Bop719hx.js"),__vite__mapDeps([2,3,4])),meta:{requiresAuth:!1}},{path:"/register",name:"register",component:()=>_n(()=>import("./RegisterView-J-C3YMsW.js"),__vite__mapDeps([5,4])),meta:{requiresAuth:!1}},{path:"/dashboard",name:"dashboard",component:()=>_n(()=>import("./AdminDashboardView-CHbDfG3-.js"),__vite__mapDeps([6,7,3,8])),meta:{requiresAuth:!0}},{path:"/contact",name:"contact",component:()=>_n(()=>import("./ContactView-DWclW4UY.js"),[]),meta:{requiresAuth:!1}},{path:"/policy",name:"policy",component:()=>_n(()=>import("./PolicyView-D-KmEn_A.js"),[]),meta:{requiresAuth:!1}},{path:"/terms",name:"terms",component:()=>_n(()=>import("./TermsView-DHqbDQO8.js"),[]),meta:{requiresAuth:!1}},{path:"/help",name:"help",component:()=>_n(()=>import("./HelpView-qVYTKDNQ.js"),[]),meta:{requiresAuth:!1}}],scrollBehavior(t,e,n){return n||{top:0}}});Dm.beforeEach((t,e,n)=>{const r=$e().getIsUserAuth;t.meta.requiresAuth&&!r?n({name:"login"}):n()});var UA="firebase",BA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(UA,BA,"app");const jA={apiKey:"AIzaSyAPqPkq2feplJ3ORiGpt3QrnLlw1dnMJNM",authDomain:"mantenimiento-condominio.firebaseapp.com",projectId:"mantenimiento-condominio",storageBucket:"mantenimiento-condominio.firebasestorage.app",messagingSenderId:"496213617885",appId:"1:496213617885:web:60178de2de9ffbc8427f34"};rp(jA);const Pu=Ty(Dv);Pu.use(Iy());Pu.use(Dm);Pu.mount("#app");export{uI as $,mI as A,gI as B,Ef as C,vm as D,Db as E,bt as F,JA as G,Ll as H,WA as I,Mb as J,Nb as K,ep as L,oA as M,Ub as N,ZA as O,eI as P,rI as Q,lo as R,Ys as S,Ye as T,Br as U,nI as V,dw as W,cI as X,An as Y,Zd as Z,Mo as _,_ as a,be as a0,zl as a1,cw as a2,tE as a3,pw as a4,ns as a5,Xv as a6,Ya as a7,oI as a8,tI as a9,sI as aa,aI as ab,lI as ac,iI as ad,yI as ae,Ce as af,Tn as ag,Od as ah,jt as ai,o_ as aj,$b as ak,Rt as al,X_ as am,nd as an,ks as ao,Se as ap,Ro as aq,Vl as ar,QA as as,GA as at,XA as au,KA as av,_I as aw,ln as b,It as c,Gt as d,$A as e,$e as f,he as g,ie as h,Ut as i,qA as j,_n as k,Pt as l,mb as m,Ao as n,Ue as o,YA as p,zA as q,HA as r,Mg as s,Rc as t,oe as u,Yc as v,Ae as w,yy as x,pb as y,pI as z};
