import{_ as b,o,b as a,d as y,N as p,l as v,ai as I,m as h,a as e,i,ag as d,h as k,g as u,n as C,f as l,D as L,aw as S}from"./index-BwM74EYG.js";const w={},D={class:"loader"};function N(n,c){return o(),a("div",D)}const A=b(w,[["render",N],["__scopeId","data-v-257e9ea6"]]),E={key:0,class:"flex items-center mb-4"},_={key:1,class:"flex items-center mb-4"},B={class:"text-lg font-semibold text-gray-800 break-all"},U={class:"mb-4 text-gray-700 break-all"},V={class:"flex items-center mb-4 text-gray-600"},$={class:"flex items-center mb-4 text-gray-600"},q={class:"break-all"},z=["src"],j={key:2},T={key:3,class:"text-sm text-gray-600"},G=y({__name:"AnnouncementCard",props:{title:String,description:String,date:Object,category:String,isUrgent:Boolean,img:String,isEdition:Boolean,announcementId:{type:String,required:!0}},setup(n){const c=new p({duration:4e3,position:{x:"left",y:"top"},ripple:!0,dismissible:!0}),m=v(!1),s=n,g=I(()=>{if(typeof s.date=="object"&&s.date.toDate){const r=s.date.toDate();return r.toLocaleDateString()+" "+r.toLocaleTimeString()}return s.date}),f=h(),x=async()=>{if(l().setIsLoadingComponent(!0),!s.announcementId){console.error("announcementId no está definido."),l().setIsLoadingComponent(!1),c.error("Error al borrar el elemento: announcementId no está definido.");return}const r=L(f,"condominios",l().getCondominiumId,"announcements",s.announcementId);try{await S(r),l().setIsLoadingComponent(!1),c.success(`Se ha eliminado el Anuncio '${s.title}' `)}catch(t){console.error("Error al borrar el elemento:",t),l().setIsLoadingComponent(!1)}};return(r,t)=>(o(),a("div",{class:C([{"border-[2px] border-red-700":n.isUrgent,"border-none":!n.isUrgent},"max-w-sm p-6 mx-auto mt-10 bg-white rounded-lg shadow-md font-poppins"])},[n.isUrgent?i("",!0):(o(),a("div",E,t[1]||(t[1]=[e("i",{class:"mr-3 text-xl text-blue-600 fas fa-bullhorn"},null,-1),e("h2",{class:"text-lg font-bold text-gray-800"},"Anuncio del administrador",-1)]))),n.isUrgent?(o(),a("div",_,t[2]||(t[2]=[e("i",{class:"mr-3 text-xl text-red-600 fas fa-bullhorn animate-pulse"},null,-1),e("h2",{class:"text-lg font-bold text-rose-800"},"Anuncio urgente del administrador",-1)]))):i("",!0),e("div",null,[e("h3",B,d(n.title),1)]),e("p",U,d(n.description),1),e("div",V,[t[3]||(t[3]=e("i",{class:"mr-2 fas fa-calendar-alt"},null,-1)),e("span",null,d(g.value),1)]),e("div",$,[t[4]||(t[4]=e("i",{class:"mr-2 fas fa-tags"},null,-1)),e("span",q,"Categoría: "+d(n.category),1)]),e("div",null,[n.img!=""?(o(),a("img",{key:0,onLoad:t[0]||(t[0]=F=>m.value=!0),src:n.img,alt:"Imagen del anuncio del administrador"},null,40,z)):i("",!0)]),m.value?i("",!0):(o(),a("div",j,[k(A)])),n.isEdition?(o(),a("small",T,t[5]||(t[5]=[e("i",{class:"mr-2 fas fa-info-circle"},null,-1),u("Nota: La imagen solo se visualizará una vez que se publique el anuncio")]))):i("",!0),e("button",{onClick:x,class:"p-1 my-2 text-white rounded-lg bg-rose-800"},t[6]||(t[6]=[e("i",{class:"mr-2 fas fa-trash"},null,-1),u(" Eliminar ")]))],2))}});export{G as _};
